(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0WSl":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("E9Wd"),r="".concat(a.T,"/account/messages"),i="".concat(a.T,"/upload"),o="https://help.".concat(a.S,"/hc/en-us/articles/360038529112")},"7tjL":function(e,t,n){},"92em":function(e,t,n){},"BuJ/":function(e,t,n){},Et25:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n("b5GN"),r=n("GB65");function i(e,t,n){if(!e||!t)return null;var a=t.toJS();return e.map((function(e){var t=e.get("id");return e=e.set("voted_count",a[t]?a[t]:0),n===t&&(e=e.set("user_selected",!0)),e})).filter((function(e){return e.get("voted_count")>0})).sort((function(e,t){return e.get("user_selected")?-1:t.get("user_selected")?1:t.get("voted_count")-e.get("voted_count")}))}function o(){var e=Object(r.w)();return e&&e.startsWith("/".concat(a.f))}function c(e,t){var n=e.filter((function(e){return e.type===t}));return n.length>0?n[0]:{}}},KZ63:function(e,t,n){},L4iE:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d}));var a=n("Dhp7"),r=Object(a.k)("Mar 31, 2023 10:00:00 PDT","Apr 02, 2023 10:00:00 PDT"),i=["linear-gradient(90deg, #66D9AB 10.37%, #48C988 163.77%)","linear-gradient(90deg, #39D5BC 11.69%, #30C184 105.38%)","linear-gradient(107.07deg, #2DD9F4 0%, #16BF76 100%)","linear-gradient(270deg, #463198 -11.49%, #1FF3DC 105.17%)","linear-gradient(270deg, #8F02E5 -11.49%, #14FAD4 105.17%)","linear-gradient(270deg, #9C31FF 4.62%, #3592FF 53.61%, #7BEFDE 105.17%)","linear-gradient(90deg, #5FC3F4 -8.62%, #A620CE 116.09%)","linear-gradient(90deg, #9BD1FF -8.62%, #006CFF 116.09%)","linear-gradient(270deg, #00A4FF -7.47%, #FF007A 114.37%)","linear-gradient(90deg, #9A52CD -5.22%, #606BDC 106.81%)","linear-gradient(90deg, #EE7183 -10.34%, #353EFF 114.37%)","linear-gradient(90deg, #FFCE9E -8.62%, #FF2F2F 116.09%)","linear-gradient(270deg, #DC16AD -11.49%, #FCAA3C 105.17%)"],o="linear-gradient(90deg, #39D5BC 11.69%, #30C184 105.38%)",c="linear-gradient(90deg, #FFCE9E -8.62%, #FF2F2F 116.09%)",s=3,l=[[1,10],[140,60],[141,100]],u=100,d="linear-gradient(90deg, #39D5BC 11.69%, #30C184 105.38%)"},LZBw:function(e,t,n){"use strict";var a=n("lwsE"),r=n.n(a),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),f=n.n(d),p=n("q1tI"),m=n.n(p),h=(n("17x9"),n("/MKj")),g=n("WSv3"),v=n("E9Wd"),b=n("G5ih"),y=n("lSNA"),N=n.n(y),k=n("TSYQ"),E=n.n(k),C=n("0WSl"),A=n("7oyi"),S=n("BWa0");n("X+lB");function w(e){var t=e.unseen,n=e.onClick,a=E()({NavbarMessageButton:!0,"notification-dot":t>0,"ProfileNavbar-item":!0,uScaleTransition:!0});return m.a.createElement(A.b,{className:a,href:C.b,onClick:n,title:Object(b.b)("labelChat"),image:m.a.createElement(S.fb,{title:Object(b.b)("labelChat"),name:S.g,width:"32",height:"32",fillColor:null})})}w.__docgenInfo={description:"",methods:[],displayName:"NavbarMessageButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var O=n("ANjH"),D=n("55Ip"),q=n("987h"),R=n("QSMB"),j=n("PSaT"),I=n("jHDt"),F=n("MxOc"),B=n("GB65"),P=n("Dhp7"),U=(n("b1r/"),n("NTmO")),M=n.n(U);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var x=function(e){s()(n,e);var t=_(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"componentDidMount",value:function(){if(this.props.statusSS===j.G.NO_DATA&&this.props.fetchSecretSantaConfig(),this.props.isOpen)return Object(B.yb)(this.props.markSantaTooltipAsViewed,7e3),this.props.markSantaTooltipAsRendered()}},{key:"componentDidUpdate",value:function(e){this.props.isCoverFixed&&!e.isCoverFixed&&this.props.markSantaTooltipAsViewed()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isOpen,a=e.isCoverFixed,r=e.isRegistrationOpen;if(e.statusSS!==j.G.READY)return null;var i=t.get("status")===j.E.NOT_FOUND,o=t.get("status")>j.E.NOT_FOUND,c=r&&i&&!a,s="NavbarButtonSS-tooltip ".concat(n&&"NavbarButtonSS-tooltip--open");return m.a.createElement(D.b,{to:o?j.db:j.U,className:"NavbarButtonSS",title:Object(F.a)("navbarButtonLabel")},m.a.createElement(R.B,{name:R.h,className:"uScaleTransition ProfileNavbar-item"}),c&&m.a.createElement("img",{className:s,src:M.a}))}}]),n}(m.a.Component);x.__docgenInfo={description:"",methods:[],displayName:"NavbarButtonSS",props:{profile:{type:{name:"object"},required:!0,description:""},statusSS:{type:{name:"string"},required:!0,description:""},isOpen:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},isRegistrationOpen:{type:{name:"bool"},required:!1,description:""},markSantaTooltipAsRendered:{type:{name:"func"},required:!0,description:""},markSantaTooltipAsViewed:{type:{name:"func"},required:!0,description:""},fetchSecretSantaConfig:{type:{name:"func"},required:!0,description:""}}};var T=Object(O.c)(Object(h.b)((function(e){var t=e.ui,n=e.secretSanta,a=e.user,r=n.config,i=n.register,o=n.tooltip;return{statusSS:n.status,isCoverFixed:t.cover.get("fixed"),isRegistrationOpen:i.get("isOpen")&&Object(P.k)(r.get("registrationOpenDate"),r.get("registrationCloseDate")),isOpen:o.get("isOpen"),isUserLoggedIn:a.get("isLoggedIn")}}),{markSantaTooltipAsRendered:I.h,markSantaTooltipAsViewed:I.i,fetchSecretSantaConfig:I.f}),q.a)(x),L=n("PJYZ"),W=n.n(L),H=n("zTH+");n("awMJ");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var J=function(e){s()(n,e);var t=z(n);function n(){var e;r()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),N()(W()(e),"confettiClass",E()({NavbarConfettiButton:!0,"ProfileNavbar-item":!0,uScaleTransition:!0})),N()(W()(e),"handleClick",(function(t){t.preventDefault(),(0,e.props.confettiClickAnalytics)(),Object(B.Cb)("confetti")})),e}return o()(n,[{key:"render",value:function(){return m.a.createElement(A.b,{className:this.confettiClass,onClick:this.handleClick,image:m.a.createElement(S.fb,{name:S.f,width:"32",height:"32",viewBox:"3 2 26 27"})})}}]),n}(m.a.Component);J.__docgenInfo={description:"",methods:[{name:"handleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarConfettiButton",props:{confettiClickAnalytics:{type:{name:"func"},required:!1,description:""}}};var V=Object(h.b)(null,{confettiClickAnalytics:H.f})(J),G=n("JzwX"),Y=n("xypG"),K=n("qh6O"),Z=n("VJ7e");n("7tjL");function X(e){var t=e.notification;if(!t)return null;var n,a=[],r=t.get("text"),i=t.get("id"),o=0,c="",s="",l=[];return t.getIn(["annotations","mention"]).forEach((function(e){l=e.get("indices"),c=r.substr(o,l.get(0)),s=r.substr(l.get(0),l.get(1)-l.get(0)),a.push(m.a.createElement("span",{key:"".concat(c,"-").concat(i)},c)),a.push(m.a.createElement("strong",{className:"NotificationCardText-annotation",key:"".concat(s,"-").concat(i)},s)),o=l.get(1)})),n=r.substr(o),a.push(m.a.createElement("span",{key:"".concat(n,"-").concat(i)},n)),m.a.createElement("div",{className:"NotificationCardText"},a)}X.__docgenInfo={description:"",methods:[],displayName:"NotificationCardText",props:{notification:{type:{name:"object"},required:!1,description:""}}};n("BuJ/");function Q(e){var t=e.get("action");if(!t)return"";var n=t.replace("imgur://","https://");return{pathname:new URL(n).pathname,search:"?nid=".concat(e.get("id")),state:{accoladeConfetti:e.get("type")===Z.a,hash:e.getIn(["post_definition","post_hash"])}}}function $(e){var t=e.notification,n=e.onClick;if(!t)return null;var a=new Date(1e3*t.get("updated_at")),r=t.getIn(["image","url"]),i=E()({"NotificationCard-thumb":!0,isUnread:t.get("state")!==Z.b});return m.a.createElement(D.a,{to:Q(t),className:"NotificationCard",onClick:n},m.a.createElement("div",{className:i},m.a.createElement("img",{className:"NotificationCard-dot",src:r})),m.a.createElement(X,{notification:t}),m.a.createElement(K.a,{className:"When--notificationCard",date:a}))}$.defaultProps={onClick:function(){}},$.__docgenInfo={description:"",methods:[],displayName:"NotificationCard",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notification:{type:{name:"object"},required:!1,description:""}}};var ee=n("oHla");function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var ne=function(e){s()(n,e);var t=te(n);function n(e){var a;return r()(this,n),a=t.call(this,e),N()(W()(a),"container",null),N()(W()(a),"isStyler",!1),N()(W()(a),"removeListenerResize",null),N()(W()(a),"getReference",(function(e){a.container=e,e&&a.updateScrollStyler()})),N()(W()(a),"updateScrollStyler",(function(){var e=a.container.offsetWidth-a.container.clientWidth;a.state.scrollBarWidth!==e&&a.container&&a.setState({scrollBarWidth:e})})),a.state={scrollBarWidth:0},a}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props.userAgent;this.isStyler=Object(ee.b)(e)||Object(ee.a)(e)}},{key:"componentDidUpdate",value:function(e){this.isStyler&&e.width!==this.props.width&&this.updateScrollStyler()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.height,a=e.onWheel,r=e.onTouchMove,i=e.onScroll,o=this.state.scrollBarWidth;return m.a.createElement("div",{ref:this.getReference,className:"DropdownScrollbar Scrollbar",onWheel:a,onTouchMove:r,onScroll:i,style:{maxHeight:n}},t,this.isStyler&&m.a.createElement("div",{className:"styler",style:{width:o}}))}}]),n}(m.a.Component);ne.defaultProps={height:0},ne.__docgenInfo={description:"",methods:[{name:"getReference",docblock:null,modifiers:[],params:[{name:"element",type:null}],returns:null},{name:"updateScrollStyler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownScrollbar",props:{height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onTouchMove:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},userAgent:{type:{name:"string"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""}}};var ae=Object(h.b)((function(e){var t=e.agent,n=e.display;return{userAgent:t.get("useragent"),width:n.getIn(["viewPort","width"])}}))(ne);function re(e){var t=e.height,n=Object(b.b)("noNotifications");return m.a.createElement("div",{className:"NotificationsEmpty",style:{lineHeight:"".concat(Math.min(150,t),"px"),textAlign:"center"}},n)}re.defaultProps={height:14},re.__docgenInfo={description:"",methods:[],displayName:"NotificationsEmpty",props:{height:{defaultValue:{value:"14",computed:!1},type:{name:"number"},required:!1,description:""}}};n("PJRO");function ie(e){var t=e.markAllAsRead;return m.a.createElement("div",{className:"NotificationsHeader cf"},m.a.createElement("span",{className:"NotificationsHeader-title left"},Object(b.b)("notifications")),t&&m.a.createElement("span",{className:"NotificationsHeader-markall right",onClick:t},Object(b.b)("markAllAsRead")))}ie.__docgenInfo={description:"",methods:[],displayName:"NotificationsHeader",props:{markAllAsRead:{type:{name:"func"},required:!1,description:""}}};var oe=n("Cz+I");n("kacx");function ce(e){var t=e.error,n=e.tryAgain,a=e.dismiss;if(!t)return null;var r=t.get("message"),i=t.get("meta").toJS(),o=t.get("type");return m.a.createElement("div",{className:"NotificationError"},m.a.createElement("div",{className:"NotificationError-message"},r,m.a.createElement("span",{className:"NotificationError-buttons"},m.a.createElement("a",{className:"Button ButtonLink icon-retry NotificationError-retry",onClick:function(){n(o,i)}},Object(b.b)("errorRetry")),m.a.createElement("span",{className:"NotificationError-divider"}," â€¢ "),m.a.createElement("a",{className:"Button ButtonLink NotificationError-dismiss",onClick:a},Object(b.b)("errorDismiss")))))}ce.__docgenInfo={description:"",methods:[],displayName:"NotificationError",props:{error:{type:{name:"object"},required:!1,description:""},tryAgain:{type:{name:"func"},required:!0,description:""},dismiss:{type:{name:"func"},required:!0,description:""}}};var se=Object(h.b)((function(e){return{error:e.notifications.get("error")}}),(function(e){return{tryAgain:function(t,n){var a=Object(oe.k)(t),r=n.options.params;a&&e(a(t=oe.f&&r?r.pageToken:null))},dismiss:function(){return e(Object(oe.i)())}}}))(ce);n("y6ID");function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var ue=function(e){s()(n,e);var t=le(n);function n(){var e;r()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),N()(W()(e),"onClick",(function(t){var n=e.props,a=n.markAsRead,r=n.closeNotifications;t.get("state")!==Z.b&&a(t.get("id")),r()})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.markAllAsRead,a=t.isFetching,r=t.onWheel,i=t.onScroll,o=t.height,c=t.notifications;return m.a.createElement("div",{className:"NotificationCards"},m.a.createElement(ie,{markAllAsRead:c.size>0?n:void 0}),m.a.createElement(se,null),0!==c.size||a?m.a.createElement(ae,{onWheel:r,onScroll:i,height:o},c.map((function(t){return t&&m.a.createElement($,{key:"notif-".concat(t.get("id"),"-").concat(t.get("state")),notification:t,onClick:function(){return e.onClick(t)}})})),a&&m.a.createElement(Y.b,{model:"notifications",size:60,status:{loading:a},applyStyle:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"}})):m.a.createElement(re,{height:o}),m.a.createElement("div",{className:"NotificationCards-bottomGradient"}))}}]),n}(p.Component);ue.defaultProps={markAsRead:function(){},closeNotifications:function(){}},ue.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[{name:"notification",type:null}],returns:null}],displayName:"NotificationCards",props:{markAsRead:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},closeNotifications:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""}}};var de=n("/PhX"),fe=n("DUmG");function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}function me(e){var t=e.display,n=e.ui;return{height:t.getIn(["viewPort","height"]),positionY:t.get("positionY"),isOpen:n.notifications.get("open")}}var he=function(e){return Object(h.b)(me,{closeNotifications:de.z,toggleNotifications:de.K})(function(e){var t=function(t){s()(a,t);var n=pe(a);function a(e){var t;return r()(this,a),t=n.call(this,e),N()(W()(t),"scrollElement",null),N()(W()(t),"dropdownHeight",0),N()(W()(t),"toggleDropdown",(function(){var e=t.props,n=e.markAllAsSeen,a=e.isOpen,r=e.toggleNotifications;!a&&n(),r()})),N()(W()(t),"calculateDropdownHeight",(function(e){t.dropdownHeight=e-fe.$navbarHeight-100})),N()(W()(t),"handleWindowClick",(function(e){var n=t.props,a=n.isOpen,r=n.closeNotifications,i=t.dropdown;return a&&i&&i!==e.target&&!i.contains(e.target)&&r(),!0})),N()(W()(t),"handleNotificationPagination",(function(e){t.scrollElement=e.target})),N()(W()(t),"wheelHandler",(function(e){var n=t.props,a=n.isFetching,r=n.reachedEnd,i=n.requestNextNotificationPage;if(!t.scrollElement||e.deltaY<=0||!t.scrollElement.scrollHeight)return!0;var o=t.dropdownHeight+t.scrollElement.scrollTop+100>t.scrollElement.scrollHeight;(a||o)&&(r||a||i(),e.preventDefault())})),t.calculateDropdownHeight(e.height),t}return o()(a,[{key:"closeDropdown",value:function(e,t){var n=this.props,a=n.isOpen,r=n.closeNotifications;if(!t&&a)return e>100&&r()}},{key:"componentDidMount",value:function(){var e=this;this.autoCloser=Object(G.a)({el:function(){return e.dropdown},cb:this.handleWindowClick})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.height,a=t.positionY,r=t.isFetching;n!==e.height&&this.calculateDropdownHeight(n),a!==e.positionY&&this.closeDropdown(a,r)}},{key:"componentWillUnmount",value:function(){this.scrollElement=null,"function"==typeof this.autoCloser&&this.autoCloser()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.unseen,a=t.isOpen;return n!==e.unseen||a||e.isOpen}},{key:"render",value:function(){var t,n=this,a=this.props,r=a.className,i=a.markAsRead,o=a.markAllAsRead,c=a.isFetching,s=a.notifications,l=a.isOpen,u=a.unseen,d=a.closeNotifications,f=E()((t={NotificationsDropdown:!0},N()(t,r,r),N()(t,"open",l),t));return m.a.createElement("div",{ref:function(e){n.dropdown=e},className:f},e&&m.a.createElement(e,{unseen:u,onClick:this.toggleDropdown}),l&&m.a.createElement(ue,{notifications:s,isFetching:c,markAllAsRead:o,markAsRead:i,closeNotifications:d,onWheel:this.wheelHandler,onScroll:this.handleNotificationPagination,height:this.dropdownHeight}))}}]),a}(m.a.Component);return t.defaultProps={isFetching:!1,reachedEnd:!1,className:""},t}(e))};n("NRal");function ge(e){var t=e.unseen,n=e.onClick,a=E()({NotificationButton:!0,"notification-dot":t>0,"ProfileNavbar-item":!0,uScaleTransition:!0});return m.a.createElement(A.b,{className:a,onClick:n,title:Object(b.b)("notifications"),image:m.a.createElement(S.fb,{title:Object(b.b)("notifications"),name:S.w,width:"32",height:"32",viewBox:"0 -2 34 34"})})}var ve=he(ge);ge.__docgenInfo={description:"",methods:[],displayName:"NavbarNotificationButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var be=n("/iGR"),ye=n("Z6Av"),Ne=n("Et25"),ke="brazeNotificationSeen";function Ee(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=n("rfzL");if(a.initialize(v.j,{enableHtmlInAppMessages:!0,noCookies:!0}),!Object(Ne.b)()){a.subscribeToInAppMessage((function(e){(function(e){var t=function(e){var t=e.message.match(/\/\/ campaign ID: ([A-Za-z0-9-])+/);if(null!=t&&t.length>0)return t[0].substring("// campaign ID: ".length);var n=e.extras;return n.hasOwnProperty("campaignID")?n.campaignID:null}(e);if(t){var n=Object(B.F)(ke);return!(n&&n===t||(Object(B.wb)(ke,t),0))}return!0})(e)&&(!function(e){var t=e.extras;if(t.hasOwnProperty("updateCustomAttributeOnShow")){var n={};try{n=JSON.parse(t.updateCustomAttributeOnShow)}catch(e){}n.key&&a.getUser().setCustomUserAttribute(n.key,n.value||null)}}(e),a.display.showInAppMessage(e))}))}(Object(ye.b)()||v.q===v.M)&&a.registerAppboyPushMessages(),a.changeUser(e),a.getUser().setCustomUserAttribute("UsesLegacyPostPage",!!t),a.openSession()}n("fuAU"),n("m6gU");function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}function Ae(e){var t=e.notifications,n=e.ui,a=e.user;return{unseenNotifications:t.get("unseenNotifications"),unseenConversations:t.get("unseenConversations"),notifications:t.get("notifications"),pageToken:t.get("pageToken"),reachedEnd:t.get("reachedEnd"),isUpdateRequired:t.get("isUpdateRequired"),isActive:!n.notifications.get("isSmallScreen")||n.notifications.get("open"),isFetching:n.spinner&&n.spinner.get("notifications")&&n.spinner.get("notifications").loading,userID:a.get("id")}}function Se(e){return{handleFetchNotifications:function(t){e(Object(oe.j)(t))},handleMarkAllAsSeen:function(){e(Object(oe.m)())},handleMarkAllAsRead:function(){e(Object(oe.l)())},handleMarkAsRead:function(t){e(Object(oe.n)(t))},handleFireMessagingNavAnalytics:function(){e(Object(H.d)("topNavBar"))}}}var we=function(e){return Object(h.b)(Ae,Se)(function(e,t){var n=function(n){s()(i,n);var a=Ce(i);function i(){var e;r()(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=a.call.apply(a,[this].concat(n)),N()(W()(e),"requestNextNotificationPage",(function(){var t=e.props,n=t.reachedEnd,a=t.isFetching,r=t.pageToken,i=t.handleFetchNotifications;n||a||i(r)})),e}return o()(i,[{key:"componentDidMount",value:function(){var e=this.props.userID,n="1"!==Object(be.a)(v.o,Object(B.y)("cookie"));this.requestNextNotificationPage(),t(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isUpdateRequired,a=t.handleFetchNotifications;e.isUpdateRequired!==n&&n&&a(null)}},{key:"render",value:function(){var t=this.props,n=t.isActive,a=t.className,r=t.username,i=t.unseenConversations,o=t.unseenNotifications,c=t.isFetching,s=t.notifications,l=t.handleFireMessagingNavAnalytics,u=t.reachedEnd,d=t.handleMarkAllAsSeen,f=t.handleMarkAllAsRead,p=t.handleMarkAsRead,h=t.cakeIcon;if(!e||!n)return null;var g={className:a,username:r,unseenConversations:i,unseenNotifications:o,isFetching:c,notifications:s,fireMessagingNavAnalytics:l,reachedEnd:u,markAllAsSeen:d,markAllAsRead:f,markAsRead:p,cakeIcon:h,requestNextNotificationPage:this.requestNextNotificationPage};return m.a.createElement(e,g)}}]),i}(m.a.Component);return n.defaultProps={isActive:!0},n}(e,Ee))},Oe=we(he());n("p5h/");function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var qe=function(e){s()(n,e);var t=De(n);function n(e){var a;r()(this,n),a=t.call(this,e);var i=!1,o=Date.now();return Date.parse(j.l)<o&&o<Date.parse(j.k)&&(i=!0),a.state={giftIcon:i},a}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,a=e.unseenNotifications,r=e.handleFireMessagingNavAnalytics,i=e.cakeIcon,o=e.isFetching,c=e.notifications,s=e.reachedEnd,l=e.markAllAsSeen,u=e.markAllAsRead,d=e.markAsRead,f=e.requestNextNotificationPage,p=this.state.giftIcon,h=E()(N()({NavbarNotifications:!0},t,t)),g={unseen:a,isFetching:o,notifications:c,reachedEnd:s,markAllAsSeen:l,markAllAsRead:u,markAsRead:d,requestNextNotificationPage:f};return m.a.createElement("div",{className:h},p&&m.a.createElement(T,null),i&&m.a.createElement(V,null),m.a.createElement(w,{unseen:n,onClick:r}),m.a.createElement(ve,g))}}]),n}(m.a.Component);qe.defaultProps={className:""},qe.__docgenInfo={description:"",methods:[],displayName:"NavbarNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},handleFireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},reachedEnd:{type:{name:"bool"},required:!1,description:""},markAllAsSeen:{type:{name:"func"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},markAsRead:{type:{name:"func"},required:!1,description:""},requestNextNotificationPage:{type:{name:"func"},required:!1,description:""},cakeIcon:{type:{name:"bool"},required:!1,description:""}}};var Re=Object(h.b)((function(e){return{cakeIcon:e.config.getIn(["featureFlags","cakeIcon"])}}),(function(e){return{handleFireMessagingNavAnalytics:function(){e(Object(H.d)("topNavBar"))}}}))(we(qe)),je=n("9rNq"),Ie=n("y/zE");n("ds3J");function Fe(e){var t,n=e.displayUsername,a=e.className,r=E()((t={},N()(t,a,a),N()(t,"NavbarAvatar",!0),t));return m.a.createElement(Ie.b,{className:r,displayUsername:n})}Fe.defaultProps={className:""},Fe.__docgenInfo={description:"",methods:[],displayName:"NavbarAvatar",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};var Be=n("4TFA"),Pe=n("pNV7");n("SINw");function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var Me=function(e){s()(n,e);var t=Ue(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,a=e.unseenNotifications,r=e.isLoggedIn,i=e.handleToggleNotifications,o=E()(N()({NavbarUserMenuNotifications:!0},t,!!t));return m.a.createElement("div",{className:o},r&&m.a.createElement(w,{unseen:n,onClick:H.d}),r&&m.a.createElement(ge,{markAllAsSeen:oe.m,unseen:a,onClick:i}))}}]),n}(m.a.Component);Me.defaultProps={className:""},Me.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},handleToggleNotifications:{type:{name:"func"},required:!1,description:""}}};var _e=Object(h.b)((function(e){var t=e.user,n=e.notifications;return{isLoggedIn:t.get("isLoggedIn"),unseenNotifications:n.get("unseenNotifications"),unseenConversations:n.get("unseenConversations")}}),(function(e){return{fireMessagingNavAnalytics:function(){e(Object(H.d)("topNavBar"))},handleToggleNotifications:function(){e(Object(oe.m)()),e(Object(de.K)())}}}))(Me);n("92em");function xe(e){var t=e.username,n=e.displayUsername;return m.a.createElement("div",{className:"NavbarUserMenuCover",style:{backgroundImage:"url(".concat(v.T,"/user/").concat(t,"/cover)")}},m.a.createElement("div",{className:"NavbarUserMenuCover-row"},m.a.createElement(Ie.b,{className:"NavbarAvatar NavbarAvatar-menu",displayUsername:n}),m.a.createElement(_e,{className:"NavbarNotifications-menu",username:t})),m.a.createElement("div",{className:"NavbarUserMenuCover-row NavbarUserMenuCover-user"},n||t))}xe.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuCover",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};n("gAaL");function Te(e){var t=e.username,n=e.displayUsername,a=e.logout,r=e.profileBeta,i=e.userMenuClickAnalytics,o=n||t,c=function(e){return function(){i(e)}},s=r?m.a.createElement(D.b,{className:"Dropdown-option",to:"/user/".concat(o,"/posts"),onClick:c(Be.e)},Object(b.b)("navbarMenuPosts")):m.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(o,"/submitted"),onClick:c(Be.e)},Object(b.b)("navbarMenuPosts")),l=r?m.a.createElement(D.b,{className:"Dropdown-option",to:"/user/".concat(o,"/comments"),onClick:c(Be.b)},Object(b.b)("navbarMenuComments")):m.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(o),onClick:c(Be.b)},Object(b.b)("navbarMenuComments"));return m.a.createElement("div",{className:"NavbarUserMenuBlock"},m.a.createElement(je.d,{className:"NavbarUserMenu",value:o,dropdownIcon:m.a.createElement(Fe,{className:"NavbarAvatar-navbar"}),onClickDropdown:function(e,t){e&&e.target.classList.contains("NavbarAvatar")&&t&&(i(Be.f),Object(B.bb)("".concat(v.T,"/user/").concat(o)))},disableGravity:!0},m.a.createElement(xe,{username:t,displayUsername:n}),m.a.createElement("div",{className:"Dropdown-option-group"},s,m.a.createElement(D.b,{className:"Dropdown-option",to:"/user/".concat(o,"/favorites"),onClick:c(Be.c)},Object(b.b)("navbarMenuFavorites")),l,r&&m.a.createElement(D.b,{className:"Dropdown-option",to:"/user/".concat(o,"/about")},Object(b.b)("navbarMenuAbout")),m.a.createElement("a",{className:"Dropdown-option",href:"https://".concat(o,".").concat(v.S,"/all"),onClick:c(Be.d)},Object(b.b)("navbarMenuImages"))),m.a.createElement("div",{className:"Dropdown-option-group Dropdown-option-footer"},m.a.createElement("a",{className:"Dropdown-option",onClick:c(Be.g),href:v.a},m.a.createElement(Pe.V,{name:Pe.w}),m.a.createElement("span",null,Object(b.b)("navbarMenuSettings"))),m.a.createElement("div",{className:"Dropdown-option",onClick:a},m.a.createElement(Pe.V,{name:Pe.x}),m.a.createElement("span",null,Object(b.b)("signOut"))))))}Te.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenu",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},logout:{type:{name:"func"},required:!1,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""}}};var Le=n("bWDY"),We=n("b5GN"),He=n("OX3u"),ze=n("AG5K"),Je=(n("UuzF"),function(){return m.a.createElement("a",{className:"EmeraldButton Button",href:"/".concat(We.f,"?source=").concat(He.t)},Object(ze.a)("goAdFree"))});Je.__docgenInfo={description:"",methods:[],displayName:"EmeraldButton"};n("o0ye");function Ve(e){var t=e.username,n=e.displayUsername,a=e.handleLogout,r=e.userMenuClickAnalytics,i=e.profileBeta,o=e.isSmallScreen,c=e.adsEnabled,s=e.cakeIcon,l=c&&!Object(Ne.b)();if(t)return m.a.createElement("div",{className:"ProfileNavbar ProfileNavbar-loggedIn"},l&&m.a.createElement(Je,null),o?m.a.createElement(Oe,{className:"NavbarNotifications-dropdown"}):m.a.createElement(Re,null),m.a.createElement(Te,{username:t,displayUsername:n,logout:a,userMenuClickAnalytics:r,profileBeta:i,disableGravity:!0}));var u="?redirect=".concat(encodeURIComponent(Object(B.w)())),d=Object(b.b)("navbarSignUp"),f=Object(b.b)("navbarSignIn");return m.a.createElement("div",{className:"ProfileNavbar ProfileNavbar-loggedOut"},m.a.createElement("div",{className:"NavbarNotifications NavbarNotifications-navbar"},s&&m.a.createElement(V,null)),l&&m.a.createElement(Je,null),m.a.createElement("a",{onClick:function(){r("sign in")},className:"Navbar-signin",href:"".concat(v.T,"/signin").concat(u)},f),m.a.createElement(A.b,{className:"Button Navbar-signup",label:d,title:d,onClick:function(){r("sign up")},href:"".concat(v.T,"/register").concat(u)}))}var Ge=Object(h.b)((function(e,t){var n=e.user,a=e.ui,r=e.ad,i=e.config;return{username:n.get("username"),displayUsername:n.get("displayUsername"),isSmallScreen:void 0===t.isSmallScreen?a.notifications.get("isSmallScreen"):t.isSmallScreen,profileBeta:n.getIn(["flags","desktopProfilePageBeta"]),adsEnabled:Object(Le.g)(r,n),cakeIcon:i.getIn(["featureFlags","cakeIcon"])}}),(function(e){return{userMenuClickAnalytics:function(t){e(Object(H.g)(t))},handleLogout:function(){e(Object(g.C)()),e(Object(H.g)("logout"))}}}))(Ve);function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}Ve.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbar",props:{username:{type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},handleLogout:{type:{name:"func"},required:!0,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""},isSmallScreen:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},cakeIcon:{type:{name:"bool"},required:!1,description:""}}};var Ke=function(e){s()(n,e);var t=Ye(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"componentDidMount",value:function(){this.props.isUserLoaded||this.props.fetchUserData()}},{key:"render",value:function(){return this.props.isUserLoaded?m.a.createElement(Ge,this.props):null}}]),n}(m.a.Component);Ke.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbarContainer",props:{fetchUserData:{type:{name:"func"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(h.b)((function(e){return{isUserLoaded:e.user.get("isLoaded")}}),{fetchUserData:g.y})(Ke)},NRal:function(e,t,n){},NTmO:function(e,t,n){e.exports=n.p+"desktop-assets/ss-2020-tooltip.55c7e4767a08549eb6458f7833c98990.svg"},PJRO:function(e,t,n){},SINw:function(e,t,n){},UuzF:function(e,t,n){},"X+lB":function(e,t,n){},awMJ:function(e,t,n){},"b1r/":function(e,t,n){},ds3J:function(e,t,n){},fuAU:function(e,t,n){},gAaL:function(e,t,n){},kacx:function(e,t,n){},m6gU:function(e,t,n){},o0ye:function(e,t,n){},oHla:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n("aYmD");function a(e){return/firefox/.test(e.toLowerCase())}function r(e){return/edge/.test(e.toLowerCase())}},"p5h/":function(e,t,n){},qh6O:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("lSNA"),r=n.n(a),i=n("q1tI"),o=n.n(i),c=n("TSYQ"),s=n.n(c),l=(n("17x9"),n("Nm7g"));function u(e){var t=e.date,n=e.datetime,a=e.timestamp,i=e.className,c=t||new Date(a||Date.parse(n)),u=s()(r()({When:!0},i,i));return o.a.createElement("span",{className:u,title:c},Object(l.c)(c.getTime()/1e3))}u.defaultProps={className:""},u.__docgenInfo={description:"TODO:\nfromNow, and utils/formatting is a problem. That code should not be there\nit should be in here. It's also not internationalized. Anytime at all that we\nwant to have a formatted datetime, it will be inside a React Component, so we should\njust have a react component that does the formatting, which is what this does. At somepoint\nwe should change over all uses of the `fromNow` code where ever it used to this component\nand then to also internationalize the component. Date formatting is a job of a view. It's\npresentation data, and it doesn't belong in utils.\n\nfromNow is also problematic in that it expects a PHP generated timestamp, which is seconds\nfrom UTC. It should have accepted a date object.\n\nAnother problem with the fromNow is that it shows plural s when there shouldn't be a plural s,\nlike \"1 days\" should be \"1 day\".\n\nBy it being in a react component we can also ensure that dates always look the same. Same CSS\nsame exact date format.",methods:[],displayName:"When",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},date:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},datetime:{type:{name:"string"},required:!1,description:""},timestamp:{type:{name:"number"},required:!1,description:""}}}},y6ID:function(e,t,n){},ygTn:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("q1tI"),r=n.n(a),i=(n("17x9"),n("/MKj")),o=n("55Ip"),c=n("L4iE"),s=n("GB65"),l=n("zTH+"),u=n("BWa0");n("KZ63");function d(e){var t=e.frontPageBeta,n=e.logoClicked,a=c.h?u.c:u.u,i=t?r.a.createElement(o.b,{className:"Navbar-logo",to:"/",onClick:function(){"/"===Object(s.w)()&&Object(s.gb)()}},r.a.createElement(u.fb,{className:"icon stroke fill",name:a,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n})):r.a.createElement("a",{className:"Navbar-logo",href:"/"},r.a.createElement(u.fb,{className:"icon stroke fill",name:a,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n}));return r.a.createElement("div",{className:"Navbar-logo-container"},i)}var f=Object(i.b)((function(e){return{frontPageBeta:e.user.getIn(["flags","desktopFrontPageBeta"])}}),{logoClicked:l.e})(d);d.__docgenInfo={description:"",methods:[],displayName:"NavbarLogo",props:{frontPageBeta:{type:{name:"bool"},required:!1,description:""},logoClicked:{type:{name:"func"},required:!0,description:""}}}}}]);