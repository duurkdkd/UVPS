(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5,6],{"+sW7":function(e,t,n){e.exports=n.p+"desktop-assets/s4.21d636844d5096acf2e4cd247c759a45.svg"},"/aJl":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=(n("17x9"),n("TSYQ")),c=n.n(i),s=n("GB65"),l=n("G5ih"),u=n("BWa0");n("emG5");function d(e){var t=e.active,n=c()({ButtonBackToTop:!0,badge:!0,active:t});return a.a.createElement("a",{href:"#",className:n,onClick:function(){var e=Object(s.Z)();Object(s.rb)(-e,0,"smooth")}},a.a.createElement(u.fb,{className:"badge-icon",name:u.e,width:"32",height:"32"}),a.a.createElement("span",{className:"badge-text"},Object(l.b)("takeMeUp")))}d.defaultProps={active:!1,locationTop:!0},d.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}},t.a=Object(o.b)((function(e){return{active:!e.ui.footer.get("isFooterVisible")}}))(d)},"/b2Y":function(e,t,n){},"/q0z":function(e,t,n){},"0UWM":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("/MKj"),C=(n("17x9"),n("GB65"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var O=function(e){u()(n,e);var t=E(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"_ticking",!1),g()(s()(e),"_mounted",!1),g()(s()(e),"_items",[]),g()(s()(e),"_canvas",null),g()(s()(e),"_canvasContext",null),g()(s()(e),"_imagesReady",!1),g()(s()(e),"setCanvasContext",(function(t){t&&(e._canvas=t,e._canvasContext=t.getContext("2d"))})),g()(s()(e),"drawCanvas",(function(){var t=e._canvasContext.canvas,n=t.width,r=t.height;e._canvasContext.clearRect(0,0,n,r),e.updateItems(e._items),e.renderItems()})),g()(s()(e),"runAnimation",(function(){e._mounted&&!e._ticking&&e.props.shouldAnimate&&(Object(C.nb)((function(){e.drawCanvas(),e._ticking=!1,e.runAnimation()})),e._ticking=!0)})),e}return i()(n,[{key:"updateItems",value:function(e){var t=this._canvasContext.canvas,n=t.width,r=t.height;this._items=e.map(this.props.updateItem({canvasWidth:n,canvasHeight:r}))}},{key:"renderItems",value:function(){this._items.forEach(this.props.renderItem(this._canvasContext))}},{key:"componentDidMount",value:function(){this._mounted=!0,this.props.width&&this.updateItems(this.props.items),this.props.shouldAnimate&&this.runAnimation()}},{key:"componentDidUpdate",value:function(e){this.props.width!==e.width&&this.updateItems(this.props.items),this.props.height&&this.props.height!==e.height&&this.updateItems(this.props.items),this.props.items.length!==e.items.length&&this.updateItems(this.props.items)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width;return b.a.createElement("canvas",{ref:this.setCanvasContext,width:n,height:t})}}]),n}(b.a.Component);O.defaultProps={mousePos:{}},O.__docgenInfo={description:"",methods:[{name:"setCanvasContext",docblock:null,modifiers:[],params:[{name:"canvasElem",type:null}],returns:null},{name:"drawCanvas",docblock:null,modifiers:[],params:[],returns:null},{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null},{name:"updateItems",docblock:null,modifiers:[],params:[{name:"items",type:null}],returns:null},{name:"renderItems",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Canvas",props:{mousePos:{defaultValue:{value:"{}",computed:!1},required:!1},width:{type:{name:"number"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},items:{type:{name:"array"},required:!0,description:""},updateItem:{type:{name:"func"},required:!0,description:""},renderItem:{type:{name:"func"},required:!0,description:""},shouldAnimate:{type:{name:"bool"},required:!1,description:""}}};var k=O,P=n("RIqP"),S=n.n(P),N=n("D0BC"),w=n.n(N),j=n("DUmG");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={color:n.n(j).a.$ssSnowflakeColor,radius:[.1,1],speed:[1.25,1],wind:[-.5,1]};function T(e,t){var n=t.canvasWidth,r=t.canvasHeight,a=I(I({},D),e),o=a.radius,i=a.speed,c=a.wind,s=a.color;return function(){return{color:s,x:w()(0,n),y:w()(-r,0),radius:w.a.apply(void 0,S()(o)),speed:w.a.apply(void 0,S()(i)),wind:w.a.apply(void 0,S()(c))}}}function A(e){var t=e.canvasWidth,n=e.canvasHeight;return function(e){return e.y>=n?Object.assign(e,{y:0,x:w()(0,t)}):Object.assign(e,{y:e.y+e.speed,x:e.x+e.wind})}}function R(e,t){return function(n){return function(r){if(t>0){var a=e-r.y,o=a<t?a/t:1;n.globalAlpha=o}n.beginPath(),n.arc(r.x,r.y,r.radius,0,2*Math.PI),n.fillStyle=r.color,n.fill(),n.closePath()}}}n("6Pud");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var M=function(e){u()(n,e);var t=x(n);function n(e){var r;a()(this,n),r=t.call(this,e),g()(s()(r),"getSnowflakesQuantity",(function(){var e=r.props;return e.width*e.height/(1e6/e.density)}));var o=r.props,i=o.width,c=o.height;return r.state={items:Array.from({length:r.getSnowflakesQuantity()},T({},{canvasWidth:i,canvasHeight:c}))},r}return i()(n,[{key:"updateItems",value:function(){var e=this.props,t=e.width,n=e.height;if(t&&n){var r=this.state.items,a=this.getSnowflakesQuantity();a!==r.length&&this.setState((function(e){var r=e.items.filter(function(e,t){return function(n){return n.x<e&&n.y>0&&n.y<t}}(t,n));return a>r.length?{items:r.concat(Array.from({length:a-r.length},T({},{canvasWidth:t,canvasHeight:n})))}:{items:r.slice(0,a)}}))}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.width,r=t.height;e.width===n&&e.height===r||this.updateItems()}},{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.width,r=e.height,a=e.hideOffset,o=this.state.items;return b.a.createElement("div",{style:{position:t?"fixed":"absolute"},className:"SnowFlakesBg"},b.a.createElement(k,{width:n,height:r,items:o,updateItem:A,renderItem:R(r,a),shouldAnimate:!0}))}}]),n}(b.a.Component);M.defaultProps={width:0,height:0,density:2e3,hideOffset:0},M.__docgenInfo={description:"",methods:[{name:"getSnowflakesQuantity",docblock:null,modifiers:[],params:[],returns:null},{name:"updateItems",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SnowFlakesBg",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},density:{defaultValue:{value:"2000",computed:!1},type:{name:"number"},required:!1,description:""},hideOffset:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFixed:{type:{name:"bool"},required:!1,description:""}}};Object(v.b)((function(e,t){var n=e.display,r=t.height;return{width:n.getIn(["viewPort","width"]),height:r||n.getIn(["viewPort","height"]),isFixed:!0}}),null)(M)},"0pwo":function(e,t,n){},"129X":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("TSYQ")),s=n.n(c);n("BFB+");function l(e){var t=e.children,n=e.className,r=e.stacked,o=e.reversed,c=s()(a()({Media:!0,"Media--stacked":r,"Media--reversed":o},n,n));return i.a.createElement("div",{className:c},t)}function u(e){var t=e.children,n=e.className,r=e.order,o=s()(a()({MediaBody:!0},n,n));return i.a.createElement("div",{className:o,style:r&&{order:r}},t)}l.__docgenInfo={description:"",methods:[],displayName:"Media",props:{children:{type:{name:"node"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""},stacked:{type:{name:"bool"},required:!1,description:""},reversed:{type:{name:"bool"},required:!1,description:""}}},u.__docgenInfo={description:"",methods:[],displayName:"MediaBody",props:{children:{type:{name:"node"},required:!0,description:""},order:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},"1O1r":function(e,t,n){},"1POK":function(e,t,n){},"1coQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("JPcv")),C=n("cm4/"),E=n.n(C),O=n("66r6");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var P=function(e){u()(n,e);var t=k(n);function n(e){var r;a()(this,n),r=t.call(this,e),g()(s()(r),"grabString",(function(e){var t=Object(O.o)(e,O.c);if(!t.length)return e;var n="",r=e.substr(0,t[0].begin);r.length&&(n=r);for(var a=!1,o="",i=0;i<t.length;i++){if(i>0){var c=t[i-1],s=t[i].begin-1-c.end,l=e.substr(c.end+1,s);l.length&&(n+=l)}a?n+=O.a+t[i].href:(o=t[i].href,a=!0)}var u=e.substr(t[t.length-1].end+1);return u.length&&(n+=u),o&&(n+=" ".concat(o)),n}));var o=e.opUsername?{opUsername:e.opUsername}:{};return o.isLinkifyTargetMedia=e.isLinkifyTargetMedia,o.postMedia=e.postMedia,Object(O.i)(C.linkify,o),r}return i()(n,[{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.expandlink;return"string"!=typeof t||"true"!==n?t:this.grabString(t)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.expandlink,r=e.component,a=e.postMedia;return b.a.createElement(E.a,{component:r,properties:{target:"_blank",rel:"noopener noreferrer",onClick:t,className:"Linkify-element",expandlink:n,postMedia:a}},this.getChildren())}}]),n}(b.a.Component);P.defaultProps={onClick:function(){return!0},expandlink:"false",postMedia:new v.List},P.__docgenInfo={description:"",methods:[{name:"getChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"grabString",docblock:null,modifiers:[],params:[{name:"str",type:null}],returns:null}],displayName:"ImgurLinkify",props:{onClick:{defaultValue:{value:"() => true",computed:!1},type:{name:"func"},required:!1,description:""},expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},postMedia:{defaultValue:{value:"new List()",computed:!1},type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},component:{type:{name:"func"},required:!1,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isLinkifyTargetMedia:{type:{name:"bool"},required:!1,description:""}}}},"1p8+":function(e,t,n){},"20NG":function(e,t,n){},"2OyZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="DEFAULT_EMBED_NODE_ID",a="DEFAULT_EMBED_DIALOG"},"2X/W":function(e,t,n){},"2YUA":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("/MKj")),i=n("G5ih"),c=n("wmRA"),s=n("/PhX"),l=n("fdoY"),u=n("wAdX"),d=n("7oyi"),m=n("pNV7");n("Rhnt");function p(e){var t=e.closeDialog,n=e.removeFromPublic,r=e.postId,o=e.isAlbum;if(!r)return null;var s=function(){t()};return a.a.createElement(u.a,{className:"RemoveFromPublicDialog",name:c.K,isModal:!1},a.a.createElement("div",{className:"RemoveFromPublicDialog-head"},a.a.createElement("span",null,Object(i.b)("removeFromPublicDialogTitle")),a.a.createElement(d.a,{className:"RemoveFromPublicDialog-head--close",imageSrc:m.a[m.j],onClick:s})),a.a.createElement("div",{className:"RemoveFromPublicDialog-content"},a.a.createElement("div",{className:"RemoveFromPublicDialog-content--text"},Object(i.b)("removeFromPublicDialogText")),a.a.createElement("div",{className:"RemoveFromPublicDialog-content--buttons"},a.a.createElement(d.a,{className:"btn btn--cancel",onClick:s,label:Object(i.b)("removeFromPublicDialogCancelBtn")}),a.a.createElement(d.a,{className:"btn btn--submit",onClick:function(){n(r,o),t()},label:Object(i.b)("removeFromPublicDialogSubmitBtn")}))))}p.__docgenInfo={description:"",methods:[],displayName:"RemoveFromPublicDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},removeFromPublic:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(o.b)(null,{closeDialog:s.y,removeFromPublic:l.ub})(p)},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2p6Y":function(e,t,n){},3:function(e,t){},"4KxA":function(e,t,n){},"58bT":function(e,t,n){},"5e9/":function(e,t,n){},"5ggk":function(e,t,n){},"5zAP":function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return K}));var r,a,o,i,c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),O=n.n(E),k=(n("17x9"),n("Efxr")),P=n("GB65"),S="UploadSpinner",N="Wrapper",w="Pose",j="container",q="giraffe",I="upvote",D="heart",T="drop",A="shadow",R="default",x="rotate",M="show",_="preJump",F="jump",G="land",L="postLand",V=[I,D,q],U=n("wKGW");n("Ojet");function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var H=function(e){f()(n,e);var t=B(n);function n(e){var r,a;return s()(this,n),a=t.call(this,e),C()(m()(a),"activeItem",0),C()(m()(a),"isUnmounted",!1),C()(m()(a),"timerId",null),C()(m()(a),"animationFrame",(function(){a.bounce(),a.splash()})),C()(m()(a),"nextItem",(function(){return a.activeItem++,a.activeItem>2&&(a.activeItem=0),a.activeItem})),C()(m()(a),"bounce",(function(){var e=a.nextItem();a.bounceAnim(V[e])})),C()(m()(a),"bounceAnim",(function(e){var t,n=(t={},C()(t,j+w,_),C()(t,A+w,F),t);Object(P.yb)((function(){var e;!a.isUnmounted&&a.setState((e={},C()(e,I+w,x),C()(e,q+w,x),C()(e,D+w,x),e))}),150),Object(P.yb)((function(){var t,n=(t={},C()(t,I+N+w,R),C()(t,q+N+w,R),C()(t,D+N+w,R),C()(t,e+N+w,M),t);!a.isUnmounted&&a.setState(n)}),250),Object(P.yb)((function(){!a.isUnmounted&&a.setState(C()({},A+w,G))}),400),a.setState(n)})),C()(m()(a),"splash",(function(){for(var e={},t=1;t<=3;t++){var n=0;n=1===t?a.randomNumber(-80,-65):2===t?a.randomNumber(-80,80):a.randomNumber(65,80),e["".concat(T).concat(t).concat(w)]=G,e["".concat(T).concat(t,"-y")]=a.randomNumber(-32,-40),e["".concat(T).concat(t,"-rotate")]=n}Object(P.yb)((function(){var t;!a.isUnmounted&&a.setState((t={},C()(t,"".concat(T,"1").concat(w),F),C()(t,"".concat(T,"2").concat(w),F),C()(t,"".concat(T,"3").concat(w),F),t)),Object(P.yb)((function(){!a.isUnmounted&&a.setState(e)}),10),Object(P.yb)((function(){var e;!a.isUnmounted&&a.setState((e={},C()(e,"".concat(T,"1").concat(w),L),C()(e,"".concat(T,"2").concat(w),L),C()(e,"".concat(T,"3").concat(w),L),e))}),150),Object(P.yb)((function(){var e;!a.isUnmounted&&a.setState((e={},C()(e,"".concat(T,"1").concat(w),R),C()(e,"".concat(T,"2").concat(w),R),C()(e,"".concat(T,"3").concat(w),R),e))}),500)}),520)})),C()(m()(a),"randomNumber",(function(e,t){return Math.floor(Math.random()*(t-e+1))+e})),a.state=(r={},C()(r,q+w,R),C()(r,q+N+w,R),C()(r,I+w,R),C()(r,I+N+w,R),C()(r,D+w,R),C()(r,D+N+w,M),C()(r,j+w,R),C()(r,A+w,R),C()(r,T+1+w,R),C()(r,T+2+w,R),C()(r,T+3+w,R),r),a}return u()(n,[{key:"componentDidUpdate",value:function(){var e=this;this.state[j+w]===_&&Object(P.yb)((function(){!e.isUnmounted&&e.setState(C()({},j+w,F))}),100),this.state[j+w]===F&&Object(P.yb)((function(){!e.isUnmounted&&e.setState(C()({},j+w,G))}),250),this.state[j+w]===G&&Object(P.yb)((function(){!e.isUnmounted&&e.setState(C()({},j+w,L))}),100),this.state[j+w]===L&&Object(P.yb)((function(){!e.isUnmounted&&e.setState(C()({},j+w,R))}),150)}},{key:"componentDidMount",value:function(){var e=this;this.isUnmounted=!1,this.animationFrame(),this.timerId=Object(P.vb)((function(){e.animationFrame()}),1800)}},{key:"componentWillUnmount",value:function(){Object(P.h)(this.timerId),this.isUnmounted=!0}},{key:"render",value:function(){var e=this,t="".concat(S," ").concat(this.props.className||"");return O.a.createElement("div",{style:this.props.style,className:t},O.a.createElement(W,{pose:this.state[j+w],key:"container-".concat(this.props.uid),className:"".concat(S,"-spinner is").concat(this.props.size,"px")},O.a.createElement("div",{key:"".concat(q+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[q+N+w])},O.a.createElement(z,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(q),pose:this.state[q+w],key:"".concat(q,"-").concat(this.props.uid),onPoseComplete:function(t){t===x&&e.setState(C()({},q+w,R))}})),O.a.createElement("div",{key:"".concat(I+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[I+N+w])},O.a.createElement(z,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(I),pose:this.state[I+w],key:"".concat(I,"-").concat(this.props.uid),onPoseComplete:function(t){t===x&&e.setState(C()({},I+w,R))}})),O.a.createElement("div",{key:"".concat(D+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[D+N+w])},O.a.createElement(z,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(D),pose:this.state[D+w],key:"".concat(D,"-").concat(this.props.uid),onPoseComplete:function(t){t===x&&e.setState(C()({},D+w,R))}}))),O.a.createElement("div",{className:"splash"},O.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+1,"-rotate")],"deg)")}},O.a.createElement(Y,{className:T,pose:this.state[T+1+w],key:"".concat(T+1,"-").concat(this.props.uid),y:this.state["".concat(T+1,"-y")],rotate:this.state["".concat(T+1,"-rotate")]})),O.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+2,"-rotate")],"deg)")}},O.a.createElement(Y,{className:T,pose:this.state[T+2+w],key:"".concat(T+2,"-").concat(this.props.uid),y:this.state["".concat(T+2,"-y")],rotate:this.state["".concat(T+2,"-rotate")]})),O.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+3,"-rotate")],"deg)")}},O.a.createElement(Y,{className:T,pose:this.state[T+3+w],key:"".concat(T+3,"-").concat(this.props.uid),y:this.state["".concat(T+3,"-y")],rotate:this.state["".concat(T+3,"-rotate")]})),O.a.createElement(J,{className:A,pose:this.state[A+w],key:"".concat(A,"-").concat(this.props.uid),onPoseComplete:function(t){t===G&&e.setState(C()({},A+w,R))}})))}}]),n}(O.a.Component),W=k.a.div((r={},C()(r,R,{scaleY:1,scaleX:1,originY:1,originX:.5,transition:{type:"spring",damping:50,stiffness:200,duration:1e3}}),C()(r,_,{scaleY:.75,transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,F,{scaleY:1,scaleX:.9,y:"-74px",transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,G,{scaleX:1.2,y:0,transition:{type:"spring",damping:50,stiffness:200,duration:750}}),C()(r,L,{scaleY:.65,scaleX:1,transition:{type:"spring",damping:0,duration:500,stiffness:150}}),r)),z=k.a.div((a={},C()(a,R,{rotate:0,transition:{duration:10}}),C()(a,x,{rotate:360,transition:{duration:350}}),a)),Y=k.a.div((o={},C()(o,R,{opacity:0,scaleY:1,y:0,transition:{duration:0}}),C()(o,F,{opacity:1,transition:{duration:0}}),C()(o,G,{scaleY:1.5,y:function(e){var t=e.y;return"".concat(t,"px")},transition:{type:"spring",damping:80,stiffness:200,duration:500}}),C()(o,L,{opacity:0,transition:{duration:250}}),o)),J=k.a.div((i={},C()(i,R,{opacity:1,scaleX:1,transition:{duration:250}}),C()(i,F,{scaleX:.5,transition:{duration:500}}),C()(i,G,{scaleX:1.25,transition:{duration:250}}),i));function K(e){var t=e.children,n=e.isLoading,r=e.isScrollSpinner,a=O.a.createElement(H,{size:U.$initialSpinnerSize,uid:"7"});return O.a.createElement(O.a.Fragment,null,n&&!r&&O.a.createElement("div",{className:"UploadSpinner-initial"},a),O.a.createElement("div",{className:"UploadSpinner-contentWrapper"},t),n&&r&&O.a.createElement("div",{className:"UploadSpinner-scroll"},a))}H.__docgenInfo={description:"",methods:[{name:"animationFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"nextItem",docblock:null,modifiers:[],params:[],returns:null},{name:"bounce",docblock:null,modifiers:[],params:[],returns:null},{name:"bounceAnim",docblock:null,modifiers:[],params:[{name:"activeItem",type:null}],returns:null},{name:"splash",docblock:null,modifiers:[],params:[],returns:null},{name:"randomNumber",docblock:null,modifiers:[],params:[{name:"min",type:null},{name:"max",type:null}],returns:null}],displayName:"UploadSpinner",props:{size:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},uid:{type:{name:"string"},required:!0,description:""}}},K.__docgenInfo={description:"",methods:[],displayName:"UploadSpinnerWrapper",props:{children:{type:{name:"object"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isScrollSpinner:{type:{name:"bool"},required:!1,description:""}}}},"6IHV":function(e,t,n){},"6Pud":function(e,t,n){},"6tpS":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("/MKj")),i=n("ANjH"),c=n("O39/"),s=n("/y0k"),l=n("G5ih"),u=n("E9Wd"),d=n("fdoY"),m=n("uGFe"),p=n("pNV7"),f=n("ooTa"),h=n("dZW6"),g=n("Zbpd"),y=n("lwsE"),b=n.n(y),v=n("W8MJ"),C=n.n(v),E=n("PJYZ"),O=n.n(E),k=n("7W2i"),P=n.n(k),S=n("a1gu"),N=n.n(S),w=n("Nsbk"),j=n.n(w),q=n("lSNA"),I=n.n(q),D=n("TSYQ"),T=n.n(D),A=(n("XKKw"),n("ME7n")),R=n.n(A),x=n("BeWG"),M=n.n(x),_=n("FtJD"),F=n.n(_),G=n("LUYa"),L=n.n(G),V=n("Oggj"),U=n.n(V),B=n("91Vr"),H=n.n(B);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}var z=function(e){P()(n,e);var t=W(n);function n(e){var r;return b()(this,n),r=t.call(this,e),I()(O()(r),"handleExpand",(function(){return r.setState({isExpanded:!0})})),I()(O()(r),"shareFacebook",(function(){var e=r.props,t=e.shareToFacebookAction,n=e.title,a=e.postId,o=e.tags;t(Object(f.a)(),n,a,o,c.k)})),I()(O()(r),"shareTwitter",(function(){var e=r.props,t=e.shareToTwitterAction,n=e.title,a=e.postId,o=e.tags;t(Object(f.a)(),n,a,o,c.k)})),I()(O()(r),"shareReddit",(function(){var e=r.props,t=e.shareToRedditAction,n=e.title,a=e.postId,o=e.tags;t(Object(f.a)(),n,a,o,c.k)})),I()(O()(r),"sharePinterest",(function(){var e=r.props,t=e.isPinterestEnable,n=e.shareToPinterestAction,a=e.title,o=e.postId,i=e.tags;t&&n(Object(f.a)(),a,o,i,c.k)})),I()(O()(r),"shareTumblr",(function(){var e=r.props,t=e.shareToTumblrAction,n=e.title,a=e.postId,o=e.tags;t(Object(f.a)(),n,a,o,c.k)})),I()(O()(r),"emailClick",(function(){var e=r.props,t=e.shareToEmailAction,n=e.title,a=e.postId,o=e.tags;t(Object(f.a)(),n,a,o,c.k)})),r.state={isExpanded:!1},r}return C()(n,[{key:"render",value:function(){var e=this.state.isExpanded,t=this.props.isPinterestEnable;return a.a.createElement("div",{className:"SocialShare"},a.a.createElement("div",{className:"SocialShare-row isExpanded"},a.a.createElement("img",{src:R.a,onClick:this.shareFacebook}),a.a.createElement("img",{src:M.a,onClick:this.shareTwitter}),a.a.createElement("img",{src:F.a,onClick:this.shareReddit}),a.a.createElement("img",{src:L.a,onClick:this.emailClick})),a.a.createElement("div",{className:T()("SocialShare-row",{isExpanded:e})},e?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:T()({disabled:!t}),src:U.a,onClick:this.sharePinterest}),a.a.createElement("img",{src:H.a,onClick:this.shareTumblr})):a.a.createElement("button",{type:"button",className:"SocialShare-moreOptions",onClick:this.handleExpand},Object(l.b)("uploadShareMoreOptions"),a.a.createElement(p.V,{name:p.f}))))}}]),n}(a.a.Component);z.defaultProps={isPinterestEnable:!0},z.__docgenInfo={description:"",methods:[{name:"handleExpand",docblock:null,modifiers:[],params:[],returns:null},{name:"shareFacebook",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTwitter",docblock:null,modifiers:[],params:[],returns:null},{name:"shareReddit",docblock:null,modifiers:[],params:[],returns:null},{name:"sharePinterest",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTumblr",docblock:null,modifiers:[],params:[],returns:null},{name:"emailClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SocialShare",props:{isPinterestEnable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},shareToFacebookAction:{type:{name:"func"},required:!0,description:""},shareToTwitterAction:{type:{name:"func"},required:!0,description:""},shareToRedditAction:{type:{name:"func"},required:!0,description:""},shareToPinterestAction:{type:{name:"func"},required:!0,description:""},shareToTumblrAction:{type:{name:"func"},required:!0,description:""},shareToEmailAction:{type:{name:"func"},required:!0,description:""}}};var Y=Object(o.b)(null,{shareToFacebookAction:d.Pb,shareToTwitterAction:d.Tb,shareToRedditAction:d.Rb,shareToPinterestAction:d.Qb,shareToTumblrAction:d.Sb,shareToEmailAction:d.Ob})(z);n("5ggk");function J(e){var t=e.runNewUpload,n=e.doneUpload,r=e.isLoggedIn,o=e.renderInput,i=e.clipboardCopy,u=e.copyLinkAction,d=e.isCopySuccess,m=e.title,h=e.postId,y=e.tags,b=e.albumFirstImg,v=e.hasImage;return a.a.createElement(g.a,{className:"HiddenPostConfirmDialog",name:s.x,head:Object(l.b)("hiddenPostDialogHead")},a.a.createElement("div",{className:"HiddenPostConfirmDialog-link"},a.a.createElement("div",{className:"HiddenPostConfirmDialog-link--head"},Object(l.b)("shareOptionsDialogShareLink")),a.a.createElement("div",{className:"HiddenPostConfirmDialog-copyLink"},o({className:"HiddenPostConfirmDialog-copyLink--input",text:Object(f.a)()}),a.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-copyLink--button",onClick:function(){i(),u(Object(f.a)(),m,h,y,c.k)}},Object(l.b)("embedDialogCopy".concat(d?"Done":"")),d&&a.a.createElement(p.V,{name:p.e})))),a.a.createElement(Y,{title:m,postId:h,tags:y,imgSrc:b?b.get("link"):"",isPinterestEnable:v}),r&&a.a.createElement(X,{runNew:t,done:n}),r||a.a.createElement(K,null))}function K(){var e=Object(l.b)("hiddenPostDialogRegister");return a.a.createElement("div",{className:"HiddenPostConfirmDialog-notLoggedLinks"},a.a.createElement("a",{href:u.L},e.login),e.or,a.a.createElement("a",{href:u.K},e.register),e.save)}function X(e){var t=e.runNew,n=e.done;return a.a.createElement("div",{className:"HiddenPostConfirmDialog-confirm"},a.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--again",onClick:t},Object(l.b)("hiddenPostDialogNewPost")),a.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--done",onClick:n},Object(l.b)("hiddenPostDialogBackHome")))}J.__docgenInfo={description:"",methods:[],displayName:"HiddenPostConfirmDialog",props:{isLoggedIn:{type:{name:"bool"},required:!1,description:""},runNewUpload:{type:{name:"func"},required:!0,description:""},doneUpload:{type:{name:"func"},required:!0,description:""},isCopySuccess:{type:{name:"bool"},required:!0,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},copyLinkAction:{type:{name:"func"},required:!0,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},albumFirstImg:{type:{name:"object"},required:!1,description:""},hasImage:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(i.c)(h.a,Object(o.b)((function(e){var t=e.upload,n=e.user,r=e.ui,a=t.get("queue").reduce((function(e,t){return e||!t.get("isVideo")&&t.get("status")===m.X}),!1);return{title:t.getIn(["post","title"]),postId:t.getIn(["album","id"]),tags:t.getIn(["post","tags"]).keySeq().toArray(),albumFirstImg:t.get("queue").first(),isLoggedIn:n.get("isLoggedIn"),isCopySuccess:r.clipboardCopy.get("isSuccess"),hasImage:a}}),{runNewUpload:m.yc,doneUpload:m.Lb,copyLinkAction:d.Y}))(J)},"7TkL":function(e,t,n){},"7Yk7":function(e,t,n){},"7tbW":function(e,t,n){var r=n("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"7znt":function(e,t,n){},"91Vr":function(e,t,n){e.exports=n.p+"desktop-assets/tumblr_share.3b6b3e2231ffeafd3a443b2a501ad175.svg"},"94Yu":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("ANjH"),E=n("Ty5D"),O=n("JPcv"),k=n("sEfC"),P=n.n(k),S=n("TSYQ"),N=n.n(S),w=n("9Jdl"),j=n("yFeA"),q=n("GB65"),I=n("ErBw"),D=n("enaV"),T=n("/PhX"),A=n("+qLk"),R=n("bWDY"),x=n("J4zp"),M=n.n(x),_=n("BWa0"),F=n("G5ih"),G=(n("jAEK"),function(e){var t=e.onClose,n=Object(y.useState)(3),r=M()(n,2),a=r[0],o=r[1],i=Object(y.useRef)(a);return i.current=a,Object(y.useEffect)((function(){var e=Object(q.vb)((function(){1===i.current&&Object(q.h)(e),o((function(e){return e-1}))}),1e3);return function(){return Object(q.h)(e)}}),[]),b.a.createElement("div",{className:"SctuCloseButton",onClick:0===a?t:function(){}},b.a.createElement("span",{className:"SctuCloseButton-text"},Object(F.b)("sctuClose",a),0===a?b.a.createElement(_.fb,{name:_.h,width:"24",height:"24",viewBox:"0 0 32 32",className:"SctuCloseButton-x"}):" 00:0".concat(a)))});G.__docgenInfo={description:"",methods:[],displayName:"SctuCloseButton",props:{onClose:{type:{name:"func"},required:!0,description:""}}};var L=G;n("qMU6");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var H=function(e){u()(n,e);var t=B(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"receiveMessage",(function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?r.setState({refreshState:w.p}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&r.setState({refreshState:w.q})}})),g()(s()(r),"resizeHandler",P()((function(){var e=r.props.updateSCTUHeightAction;r.sctuWrapper.current&&e(r.getRefHeight())}),100)),g()(s()(r),"callback",(function(e){if(e){var t=r.props,n=t.sctuLoadedAction,a=t.sctuChangedAction,o=t.reserveSctuLoadedAction,i=t.path;e.hasAd?e.tagId&&(r.loadCustomCreative({withCloseButton:!0}),n(),i===w.M&&o(),r.resizeSctu()):i!==w.M&&a(w.M)}})),g()(s()(r),"resizeSctu",(function(){var e=r.props,t=e.updateSCTUHeightAction;if(e.reserve)var n=r.getRefHeight(),a=0,o=Object(q.vb)((function(){a>5?Object(q.h)(o):(n!==r.getRefHeight()&&(n=r.getRefHeight(),t(n)),++a)}),50)})),g()(s()(r),"onClose",(function(){var e=r.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,a=e.closeSCTUAction,o=r.state.insertionId;r.setState({closed:!0},(function(){t(),n(0)})),o&&a(o)})),g()(s()(r),"updateVisibility",(function(e){var t=r.props,n=t.onStatusChange,a=t.updateSCTUHeightAction;r.setState({show:e},(function(){n(),a(r.getRefHeight())}))})),g()(s()(r),"loadCustomCreative",(function(e){e.withCloseButton&&r.setState({withCloseButton:!0}),e.insertionId&&r.setState({insertionId:e.insertionId}),r.updateVisibility(!0)})),g()(s()(r),"getRefHeight",(function(){return r.sctuWrapper.current?r.sctuWrapper.current.offsetHeight:0})),r.state={show:!1,withCloseButton:!1,closed:!1,insertionId:"",refreshState:w.q},r.sctuWrapper=b.a.createRef(),r.componentKey="sctu",Object(q.ub)("loadCustomCreative",r.loadCustomCreative),Object(q.c)("message",r.receiveMessage),Object(q.c)("resize",r.resizeHandler),r}return i()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){Object(q.kb)("message",this.receiveMessage),Object(q.kb)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,a=n.onStatusChange,o=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},(function(){a(),o(t.getRefHeight())}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.pathname,a=n.adsEnabled,o=n.path,i=n.streamIsWhitelisted,c=n.postAdConfig,s=n.currentSCTU,l=this.state,u=l.show,d=l.withCloseButton,m=l.closed;return i!==e.streamIsWhitelisted||(o!==e.path||(s!==e.currentSCTU||(a!==e.adsEnabled||(r!==e.pathname||(c!==e.postAdConfig||(u!==t.show||(d!==t.withCloseButton||m!==t.closed)))))))}},{key:"isTagPage",value:function(){return Object(D.e)(Object(q.w)())===A.C}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=e.match,a=e.postAdConfig,o=e.path,i=e.currentSCTU,c=e.reserve,s=e.reserveSctuLoaded,l=this.state.closed;return!(t&&!l)||(!(!r.params.galleryId||a)||(!(!c||o===i)||(!(c||!s)||this.isTagPage()&&!n)))}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting,r=e.streamParam,a=U({},n);return r&&this.isTagPage()&&(a=U(U({},a),{},{item_tag:r})),t.size>0?U(U({},a),{},{HLClose:t.toJS()}):a}},{key:"getKey",value:function(){var e=this.props,t=e.pathname,n=e.reserve,r=this.state.refreshState;return n||r===w.p||(this.componentKey="".concat("sctu").concat(t)),this.componentKey}},{key:"render",value:function(){if(this.shouldHide())return null;var e=this.props,t=e.adsEnabled,n=e.path,r=e.postAdConfig,a=e.postTags,o=this.state,i=o.show,c=o.withCloseButton,s=N()({"Ad-SCTU":!0,"Ad-SCTU-footliner":!1});return b.a.createElement("div",{className:s,ref:this.sctuWrapper,key:this.getKey(),style:{display:i?"block":"none"}},b.a.createElement(j.a,{adsEnabled:t,path:n,postAdConfig:r,callback:this.callback,slotTargeting:this.getSlotTargeting(),forceSafe:!r,tags:a&&a.size?a.toJS():[]}),c&&b.a.createElement(L,{onClose:this.onClose}))}}]),n}(y.Component);H.defaultProps={sctusClosed:Object(O.List)(),slotTargeting:{},coverFixed:!1,reserve:!1},H.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"callback",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"resizeSctu",docblock:null,modifiers:[],params:[],returns:null},{name:"isTagPage",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getRefHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"getKey",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},coverFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},reserve:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},path:{type:{name:"number"},required:!0,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},streamParam:{type:{name:"string"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},sctuLoadedAction:{type:{name:"func"},required:!0,description:""},sctuChangedAction:{type:{name:"func"},required:!0,description:""},pathname:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},postTags:{type:{name:"instanceOf",value:"List"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},reserveSctuLoaded:{type:{name:"bool"},required:!1,description:""},reserveSctuLoadedAction:{type:{name:"func"},required:!0,description:""},currentSCTU:{type:{name:"number"},required:!1,description:""}}};t.a=Object(C.c)(Object(v.b)((function(e){var t=e.ad,n=e.user,r=e.gallery,a=e.history,o=e.postsData,i=e.ui,c=Object(R.g)(t,n);return t.getIn(["transformation","enabled"])&&(c=!1),{adsEnabled:c,streamIsWhitelisted:r.get("streamIsWhitelisted"),streamParam:r.get("streamParam"),sctusClosed:t.get("sctusClosed"),pathname:a.getIn(["location","pathname"]),postAdConfig:o.getIn(["currentPost","adConfig"]),coverFixed:i.cover.get("fixed"),currentSCTU:t.get("currentSCTU"),reserveSctuLoaded:t.get("reserveSctuLoaded"),postTags:o.getIn(["currentPost","tags"])}}),{closeSCTUAction:I.y,fetchClosedSCTUsAction:I.z,sctuLoadedAction:I.I,updateSCTUHeightAction:T.N,sctuChangedAction:I.H,reserveSctuLoadedAction:I.E}),E.h)(H)},"98ov":function(e,t,n){var r=n("VhX2"),a=n("P/G1");e.exports=function(e){return r(a(e))}},"9DFJ":function(e,t,n){},"9JWB":function(e,t,n){},"9UQG":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("17x9"),i=n.n(o),c=n("pVnL"),s=n.n(c);var l={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},u={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var d=n("lwsE"),m=n.n(d),p=n("W8MJ"),f=n.n(p),h=n("7W2i"),g=n.n(h),y=n("a1gu"),b=n.n(y),v=n("Nsbk"),C=n.n(v),E=n("pNV7");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var k=function(e){g()(n,e);var t=O(n);function n(){return m()(this,n),t.apply(this,arguments)}return f()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,o=e.onClose,i=e.primaryColor,c=e.primaryGradient,s=e.secondaryGradient,l=e.bgImageSrc,u=e.buttonGradient,d=e.buttonShadow,m=e.url;return a.a.createElement("div",{className:"BannerTop3"},a.a.createElement("div",{style:{backgroundColor:i},className:"BannerTop3-layer"},a.a.createElement("div",{style:{backgroundImage:c},className:"BannerTop3-layer"})),a.a.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},a.a.createElement("div",{style:{backgroundImage:s,zIndex:2},className:"BannerTop3-layer"}),a.a.createElement("div",{className:"BannerTop3-spacer--first"}),a.a.createElement("div",{className:"BannerTop3-description"},a.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),a.a.createElement("div",{className:"BannerTop3-subhead"},n),l&&a.a.createElement("img",{src:l})),a.a.createElement("div",{className:"BannerTop3-spacer"}),a.a.createElement("a",{href:m,target:"_blank",style:{backgroundImage:u,boxShadow:d},className:"BannerTop3-buttonCTA"},a.a.createElement("span",null,r)),a.a.createElement("div",{className:"BannerTop3-spacer--last"}),a.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:o},a.a.createElement(E.V,{name:E.h,width:13}))))}}]),n}(a.a.Component);k.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var P=n("PJYZ"),S=n.n(P),N=n("lSNA"),w=n.n(N),j=n("AoHe");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var I=function(e){g()(n,e);var t=q(n);function n(){var e;m()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),w()(S()(e),"onBannerClose",(function(t){var n=e.props.onClose;t.stopPropagation(),t.preventDefault(),n()})),e}return f()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,o=e.onClick,i=e.backgroundColor,c=e.bgImageSrc,s=e.url,l=e.customClass,u=void 0===l?"masthead":l,d=this.props.styles,m=Object(j.h)(t),p={};return m&&(p.backgroundImage='url("'.concat(t,'")')),d=d?d.toJSON():{backgroundColor:i},a.a.createElement("div",{className:"BannerTop3 ".concat(u)},a.a.createElement("a",{href:s,target:"_blank",onClick:o},a.a.createElement("div",{style:d,className:"BannerTop3-content BannerTop3-layer"},a.a.createElement("div",{style:{backgroundImage:'url("'.concat(c,'")')},className:"masthead-image"}),a.a.createElement("div",{style:p,className:"BannerTop3-description"},a.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!m&&t),a.a.createElement("div",{className:"BannerTop3-subhead"},n)),!Object(j.h)(r)&&a.a.createElement("div",{className:"BannerTop3-buttonCTA"},r),Object(j.h)(r)&&a.a.createElement("div",{className:"BannerTop3-buttonCTA-image",style:{backgroundImage:'url("'.concat(r,'")')}}),a.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},a.a.createElement(E.V,{name:E.i,width:20})))))}}]),n}(a.a.Component);I.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var D=n("JPcv"),T=n("moYt"),A=n.n(T),R=n("/MKj"),x=n("cr+I"),M=n.n(x),_=n("WFr8"),F=n("q66R"),G=n("+qLk"),L=n("PLrP"),V=n("enaV"),U=n("GB65"),B=n("1wym");function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}function W(e){var t=e.ctas,n=e.ctasClosed,r=e.city,a=e.region,o=e.metroCode,i=e.countryCode,c=e.hasPaid,s=(new Date).getTime()/1e3;return t.filter((function(e){return e.get("startTime")<s&&e.get("endTime")>s&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,a){var o=e.get("targeting");if(!o||!o.size)return!0;if(!t)return!1;var i={region:r,city:n,metroCode:a};return o.filter((function(e,n){return A()(n)===t&&0===["region","city","metroCode"].filter((function(t){var n=e.get(t);return n&&n.size&&!n.filter((function(e){return e===i[t]})).size})).length})).size>0}(e,i,r,a,o)&&!(e.get("promoted")&&c)}))}n("rbYx");function z(e){return-1!==e.customClass.indexOf("masthead")?a.a.createElement(I,e):a.a.createElement(function(e){function t(t){var n="blue"===t.theme?u:l;return a.a.createElement(e,s()({},t,n))}var n;return t.displayName="WithThemeStyle(".concat((n=e).displayName||n.name||"Component",")"),t}(k),e)}z.defaultProps={customClass:""},z.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};var Y,J,K;t.a=(Y=z,(K=function(e){g()(n,e);var t=H(n);function n(e){var r;return m()(this,n),r=t.call(this,e),w()(S()(r),"isSfw",(function(e){if(!e.get("sfw"))return!0;var t=r.state.sfw,n=r.props.currentPostInView;return!(!t||!n||!Object(F.e)(n.get("adConfig"))&&(r.setState({sfw:!1}),1))})),w()(S()(r),"getForceCTAName",(function(){var e=r.props.queryString,t=M.a.parse(e).masthead;return t?(r.setState({forceCTA:t}),t):r.state.forceCTA})),w()(S()(r),"getForceCTAs",(function(){var e=r.getForceCTAName();return e?r.props.ctas.filter((function(t){return t.get("localStorageName")===e})):Object(D.List)()})),w()(S()(r),"getActiveCTA",(function(){var e=r.getForceCTAs(),t=r.props,n=t.ctas,a=t.ctaClosed;if(0===e.size&&(e=n.filter((function(e){return r.isSfw(e)}))),e.size>0&&!a)return e.get(Math.floor(r.random*e.size))})),w()(S()(r),"shouldHide",(function(){var e=r.props,t=e.currentPostInView,n=e.userHasEmerald,a=t&&t.get("adConfig");return!(!Object(U.w)()||Object(V.e)(Object(U.w)())!==G.C)||!(!a||Object(F.e)(a))||!!n||t&&t.get("is_ad")})),w()(S()(r),"handleCtaClose",(function(e){return function(){(0,r.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}})),w()(S()(r),"handleCtaClick",(function(e){return function(){(0,r.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}})),w()(S()(r),"handleImgLoad",(function(e){var t=r.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)})),w()(S()(r),"onRender",(function(){var e=r.props,t=e.onStatusChange,n=e.viewedCTA,a=r.getActiveCTA();t(!0),n(a.get("localStorageName"),a.get("endTime"),a.get("promoted"),a.get("oncePerSession"))})),r.state={sfw:!0,forceCTA:""},r.random=Math.random(),r}return f()(n,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||n.get("is_ad")!==e.currentPostInView.get("is_ad")||!Object(F.e)(n.get("adConfig"))!=!Object(F.e)(e.currentPostInView.get("adConfig")))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,a=t.isMobile,o=t.closeCTASilently,i=t.currentPostInView;n!==e.ctaClosed&&r(n);var c=this.getActiveCTA();c&&(a||n||!(!i&&e.currentPostInView||i&&e.currentPostInView&&i.get("id")!==e.currentPostInView.get("id"))||o(c.get("localStorageName"),c.get("endTime"),c.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),styles:e.get("styles"),handleOnMount:this.onRender}),e.get("pixels",[]).map((function(e){return a.a.createElement("img",{src:e,style:{display:"none"}})})))}}]),n}(a.a.Component)).displayName="WithCTA(".concat((J=Y).displayName||J.name||"Component",")"),K.contextTypes={router:i.a.object},K.defaultProps={onStatusChange:function(){}},Object(R.b)((function(e){var t=e.config,n=e.agent,r=e.posts,a=e.postsData,o=e.user;return{ctas:W({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:o.get("hasPaid")||o.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(a.get("currentPostInView"))||a.get("currentPost"),isMobile:n.get(L.b),userHasEmerald:Object(B.f)(o)}}),{closeCTA:_.f,closeCTASilently:_.g,setCTASize:_.i,clickedCTA:_.e,viewedCTA:_.j})(K))},"9uSn":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("GB65"),O=n("AoHe"),k=n("xypG");n("NXH/");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var N="top",w="center",j=function(e){u()(n,e);var t=S(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"handleOnMouseEnter",(function(){r.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({show:!0},r.getTooltipPlacement()))})),g()(s()(r),"handleOnMouseLeave",(function(){r.setState({isLoading:!0,show:!1,yPosition:N,xPosition:w})})),g()(s()(r),"handleMediaLoad",(function(){r.state.isLoading&&r.setState({isLoading:!1},(function(){r.setState(r.getTooltipPlacement())}))})),r.state={show:!1,yPosition:N,xPosition:w,isLoading:!0},r}return i()(n,[{key:"getTooltipPlacement",value:function(){var e=this.props.popupRef,t=N,n=w,r=this.tooltip.getBoundingClientRect().top,a=this.tooltiptext.getBoundingClientRect().left,o=this.tooltiptext.getBoundingClientRect().right,i=Object(E.v)(),c=Object(E.u)();if(e&&e.current){var s=e.current;r-=s.getBoundingClientRect().top,a-=s.getBoundingClientRect().left,i=s.getBoundingClientRect().right,c=s.getBoundingClientRect().height}return r<c/2&&(t="bottom"),a<0?n="right":o>i&&(n="left"),{yPosition:t,xPosition:n}}},{key:"getMediaComponentFromSrc",value:function(){var e=this.props.src;if(!e)return"";var t=Object(O.j)(this.props.src),n=C()({hide:this.state.isLoading}),r=b.a.createElement("img",{className:n,onLoad:this.handleMediaLoad,src:e});return t&&(e=this.props.src,".gifv"===t[0]&&(e=e.replace(".gifv",".mp4")),r=b.a.createElement("video",{src:e,className:n,onCanPlay:this.handleMediaLoad,muted:!0,loop:!0,autoPlay:!0})),b.a.createElement("div",null,this.state.isLoading&&b.a.createElement(k.a,{size:20}),r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.children,o=n.text,i=n.src,c=n.onClick,s=C()((e={Tooltip:!0},g()(e,"Tooltip-".concat(this.state.yPosition),!0),g()(e,"Tooltip-".concat(this.state.xPosition),!0),g()(e,"inline",this.props.inline),g()(e,"inlineBlock",!this.props.inline),g()(e,r,r),e));return b.a.createElement("div",{className:s,ref:function(e){t.tooltip=e},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onClick:c},a,b.a.createElement("span",{className:"Tooltip-text",ref:function(e){t.tooltiptext=e}},o,this.state.show&&i&&this.getMediaComponentFromSrc()))}}]),n}(y.Component);j.defaultProps={inline:!1,onClick:function(){}},j.__docgenInfo={description:"",methods:[{name:"getTooltipPlacement",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMediaLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponentFromSrc",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{inline:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},text:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},popupRef:{type:{name:"object"},required:!1,description:""}}}},A8WO:function(e,t,n){},B0tv:function(e,t,n){},"BFB+":function(e,t,n){},BeWG:function(e,t,n){e.exports=n.p+"desktop-assets/twitter_share.5aa6c8c9669a31f6a684cb6fb6998597.svg"},CG6i:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("F8bk"),O=n("oHla"),k=n("GB65"),P=n("x3Un"),S=n("gmqy");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var w=function(e){u()(n,e);var t=N(n);function n(e){var r;a()(this,n),r=t.call(this,e),g()(s()(r),"element",null),g()(s()(r),"placeholderElement",null),g()(s()(r),"onContextMenu",(function(){var e=r.props.originalSrc;r.setState({originalLink:e})})),g()(s()(r),"onClick",(function(e){var t=r.props,n=t.zoom,a=t.originalSrc;"IMG"===e.target.tagName&&r.isZoomable()&&n&&n({show:!0,src:a})})),g()(s()(r),"onThumbnailError",(function(e){var t=r.props,n=t.onError,a=t.originalSrc;if(r.state.thumbnailLink!==a)return r.setState({thumbnailLink:a});n(e)})),g()(s()(r),"renderThumbnail",(function(){var e=r.props,t=e.onLoad,n=e.width,a=e.height,o=e.maxHeight,i=e.hash,c=e.title,s=e.index,l=e.poweredBy,u=e.postTitle,d=e.tags,m=e.mediaDescription,p=e.postDescription,f=r.state.thumbnailLink,h=Object(P.a)(d,m,p,u);return b.a.createElement("div",{className:"imageContainer"},b.a.createElement(E.a,{hash:i,title:c,indexForComment:s}),b.a.createElement("img",{ref:function(e){r.element=e},src:f,width:n,height:a,style:{maxHeight:o},onLoad:t,onError:r.onThumbnailError,loading:"lazy",alt:h}),l&&b.a.createElement("div",{className:"poweredBy"},l))})),g()(s()(r),"renderWithOriginalImage",(function(){var e=r.state.originalLink,t=r.props,n=t.postTitle,a=t.postDescription,o=t.mediaDescription,i=t.tags,c=Object(P.a)(i,o,a,n),s=C()({imageContainer:!0,zoomable:r.isZoomable()});return b.a.createElement("div",{className:s,onContextMenu:r.onContextMenu,onClick:r.onClick},b.a.createElement("img",{ref:function(e){r.placeholderElement=e},className:"image-placeholder",src:e,alt:c}),r.renderThumbnail())})),g()(s()(r),"isZoomable",(function(){var e=r.props,t=e.height,n=e.maxHeight;return n&&t>n}));var o=Object(O.b)(Object(k.Q)())?e.originalSrc:e.thumbSrc;return r.state={originalLink:o,thumbnailLink:o},r}return i()(n,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src"),this.placeholderElement&&this.placeholderElement.removeAttribute("src")}},{key:"render",value:function(){return this.props.withOriginalImage?this.renderWithOriginalImage():this.renderThumbnail()}}]),n}(b.a.Component);w.defaultProps={postTitle:"",mediaDescription:"",postDescription:"",tags:[]},w.__docgenInfo={description:"",methods:[{name:"onContextMenu",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onThumbnailError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderThumbnail",docblock:null,modifiers:[],params:[],returns:null},{name:"renderWithOriginalImage",docblock:null,modifiers:[],params:[],returns:null},{name:"isZoomable",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostImageComponent",props:{postTitle:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},mediaDescription:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postDescription:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},tags:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"object"}},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},thumbSrc:{type:{name:"string"},required:!1,description:""},originalSrc:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},withOriginalImage:{type:{name:"bool"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},poweredBy:{type:{name:"string"},required:!1,description:""}}},t.b=Object(S.a)(w)},CVa3:function(e,t,n){},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},Cz84:function(e,t,n){},D0BC:function(e,t,n){var r=n("vlbB"),a=n("mv/X"),o=n("ZCgT"),i=parseFloat,c=Math.min,s=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&a(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var u=s();return c(e+u*(t-e+i("1e-"+((u+"").length-1))),t)}return r(e,t)}},D4vR:function(e,t,n){},DT9I:function(e,t,n){e.exports=n.p+"desktop-assets/s3.8d7432b17023313078fbeb8fa946386d.svg"},DfB6:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("G5ih")),C=n("/MKj"),E=n("BWa0"),O=n("uwpD"),k=n("dRit"),P=n("GB65"),S=n("QIN0"),N=n("pVnL"),w=n.n(N),j=n("QILm"),q=n.n(j);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var D=function(e){u()(n,e);var t=I(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"getContainer",(function(e){r.container=e})),g()(s()(r),"handle",(function(e){if("touchend"===e.type&&(r.isTouch=!0),"click"!==e.type||!r.isTouch){var t=r.props.onClickOutside,n=r.container;n&&!n.contains(e.target)&&t(e)}})),r.isTouch=!1,r}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,q()(e,["children","onClickOutside"]));return b.a.createElement("div",w()({},n,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){Object(P.a)("touchend",this.handle,!0),Object(P.a)("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){Object(P.hb)("touchend",this.handle,!0),Object(P.hb)("click",this.handle,!0)}}]),n}(y.Component);D.__docgenInfo={description:"",methods:[{name:"getContainer",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"handle",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ClickOutside",props:{onClickOutside:{type:{name:"func"},required:!0,description:""},children:{type:{name:"node"},required:!1,description:""}}};var T=n("TSYQ"),A=n.n(T),R=n("JPcv"),x=n("sEfC"),M=n.n(x),_=n("E9Wd");function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var G=function(e){u()(n,e);var t=F(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"onSelect",(function(t){(0,e.props.onCategorySelection)(t)})),g()(s()(e),"renderReactionGifCategories",(function(t,n){var r=e.props.getColorByPostIndex,a=t.preview,o={backgroundImage:"linear-gradient(".concat(r(n),", #2e3035)")},i=t.shortname,c="gifpicker-collectionBackground".concat(t.is_promoted?" promotedCollection":"");return b.a.createElement("div",{key:"".concat(n).concat(a).concat(i),className:"gifpicker-collection",onClick:function(){e.onSelect(i),e.resetCollection()}},b.a.createElement("video",{style:o,className:c,autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:"".concat(_.U,"/").concat(a,"_lq.mp4")})),b.a.createElement("div",null,b.a.createElement("h2",{className:"gifpicker-collectionName"},t.name,t.is_promoted&&t.subtitle&&b.a.createElement("span",{className:"gifpicker-collectionSubtitle"},t.subtitle))))})),e}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections;t(),n()}},{key:"resetCollection",value:function(){this.props.reactionGifCollections}},{key:"render",value:function(){var e=this.props.reactionGifCollections;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-body Scrollbar--gray"},e.map(this.renderReactionGifCategories))))}}]),n}(b.a.Component);G.__docgenInfo={description:"",methods:[{name:"onSelect",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"renderReactionGifCategories",docblock:null,modifiers:[],params:[{name:"reactionGifObject",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCategories",props:{fetchReactionCollections:{type:{name:"func"},required:!0,description:""},reactionGifCollections:{type:{name:"object"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},renderReactionGifCategories:{type:{name:"func"},required:!1,description:""},reactionGifObject:{type:{name:"object"},required:!1,description:""},position:{type:{name:"string"},required:!1,description:""},resetCollection:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!0,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""}}};var L=Object(C.b)((function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections")}}),{fetchReactionCollections:O.e,resetReactionGifSearchCollections:O.h})(G),V=n("DzJC"),U=n.n(V),B=n("Uz4u"),H=n.n(B);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var J=function(e){u()(n,e);var t=Y(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"showCategoryCollection",(function(){var e=r.props,t=e.fetchReactionGifSearchFull,n=e.currentlyShowing,a=e.reactionGifSearchFullpageNum;!0===r.state.isFullyLoaded&&null!=n?(r.setState({showingCategory:!1}),t(n,a)):r.setState({showingCategory:!0})})),g()(s()(r),"handleScrollCollection",(function(){var e=r.state.showingCategory,t=r.props,n=t.currentlyShowing,a=t.reactionGifRequestPending,o=t.reactionGifSearchFullpageNum;if(""!==n&&!1===e){var i=r.GifPickerBodyCollection.current,c=i.scrollTop,s=i.scrollHeight,l=s-c;r.setState({scrollDistance:c}),l<1e3&&s>=1e3&&!1===a&&r.showCategoryCollection(n,o)}})),g()(s()(r),"selectGif",(function(e){(0,r.props.handleGifSelection)(e)})),g()(s()(r),"renderSelectableGifs",(function(e,t){var n=r.state.scrollDistance,a=r.props,o=a.reactionGifSearchFullpageNum,i=a.getColorByPostIndex,c=e.id,s=e.height,l=e.runningGifHeight,u={height:"".concat(s,"px")},d={backgroundImage:"linear-gradient(".concat(i(t),", #2e3035)"),height:"".concat(s,"px")},m="".concat(_.U,"/").concat(c,"_lq.mp4"),p="".concat(_.U,"/").concat(c,".gif");return l>=(n<450?0:n-450)&&l<n+343+450?b.a.createElement("div",{key:"".concat(t+c+o+!0),className:"gifpicker-image",style:u,onClick:function(){r.selectGif(p)}},b.a.createElement("video",{style:d,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:m}))):b.a.createElement("div",{key:"".concat(t+c+o+!1," "),className:"gifpicker-image",style:u},b.a.createElement("video",{style:d,className:"gifpicker-collectionBackground",preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4"})))})),g()(s()(r),"resetCollection",(function(){var e=r.props,t=e.handleReset,n=e.resetReactionGifSearchCollections;t(),n(),r.setState({column1:[],column2:[],column1Height:0,column2Height:0})})),r.handleScrollCollection=U()(r.handleScrollCollection.bind(s()(r)),35),r.GifPickerBodyCollection=b.a.createRef(),r.state={showingCategory:!1,scrollDistance:0,isFullyLoaded:!0,column1:[],column2:[],column1Height:0,column2Height:0},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchReactionGifSearchFull)(e.currentlyShowing,e.reactionGifSearchFullpageNum)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.gifsFromCategory,r=t.currentlyShowing,a=t.reactionGifSearchFullpageNum,o=t.fetchReactionGifSearchFull,i=this.state,c=i.column1Height,s=i.column2Height,l=this.state,u=l.column1,d=l.column2;if(n.size!==e.gifsFromCategory.size){for(var m=u.slice(0),p=d.slice(0),f=m.length+p.length!==0?m.length+p.length:0;f<n.size;f++){var h=z({},n.get(f)),g=141.5/h.width;h.height*=g,c<=s?(h.runningGifHeight=c+h.height+7,c=h.runningGifHeight,m.push(h)):(h.runningGifHeight=s+h.height+7,s=h.runningGifHeight,p.push(h))}this.setState({column1:m,column2:p,column1Height:c,column2Height:s})}r!==e.currentlyShowing&&(this.setState({column1:[],column2:[],column1Height:0,column2Height:0}),o(r,a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=this.state,o=a.column1,i=a.column2;return o.length||i.length||r?b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-collectionHeader"},b.a.createElement("div",{className:"gifpicker-backButton",onClick:function(){e.resetCollection()},"aria-label":"Go back to categories"},b.a.createElement(E.fb,{className:"icon fill",name:E.d,width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"})),b.a.createElement("h1",{className:"gifpicker-collectionHeaderText"},n)),b.a.createElement("div",{className:"gifpicker-body gifpicker-body-collection Scrollbar--gray",ref:this.GifPickerBodyCollection,onScroll:this.handleScrollCollection},b.a.createElement("div",null,o.map(this.renderSelectableGifs)),b.a.createElement("div",null,i.map(this.renderSelectableGifs)))):b.a.createElement("div",{className:"gifpicker-error"},b.a.createElement("div",{className:"gifpicker-error-image"},b.a.createElement("img",{src:H.a})),b.a.createElement("div",{className:"gifpicker-error-message"},b.a.createElement("h2",null,Object(v.b)("reactionGifEmptySearch1")),b.a.createElement("br",null),b.a.createElement("h3",null,Object(v.b)("reactionGifEmptySearch2"))))}}]),n}(b.a.Component);J.__docgenInfo={description:"",methods:[{name:"showCategoryCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"handleScrollCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"selectGif",docblock:null,modifiers:[],params:[{name:"videoShareURL",type:null}],returns:null},{name:"renderSelectableGifs",docblock:null,modifiers:[],params:[{name:"column",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCollections",props:{handleReset:{type:{name:"func"},required:!0,description:""},handleGifSelection:{type:{name:"func"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},fetchReactionGifSearchFull:{type:{name:"func"},required:!0,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},reactionGifSearchFull:{type:{name:"object"},required:!1,description:""},reactionGifRequestPending:{type:{name:"bool"},required:!1,description:""},reactionGifSearchFullpageNum:{type:{name:"number"},required:!1,description:""},gifsFromCategory:{type:{name:"object"},required:!0,description:""}}};var K=Object(C.b)((function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections"),reactionGifRequestPending:e.comments.get("reactionGifRequestPending"),reactionGifSearchFullpageNum:e.comments.get("reactionGifSearchFullpageNum"),gifsFromCategory:e.comments.get("gifsFromCategory")}}),{fetchReactionGifSearchFull:O.f,resetReactionGifSearchCollections:O.h})(J);n("/b2Y");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Q=function(e){u()(n,e);var t=X(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"preventPost",(function(e){e.stopPropagation(),e.preventDefault()})),g()(s()(r),"submitHandler",(function(){r.debounceSubmitHandler.cancel();var e=r.props,t=e.resetReactionGifSearchCollections,n=e.searchString;t(),r.setState({currentlyShowing:n})})),g()(s()(r),"inputChangeHandler",(function(e){(0,r.props.setReactionGifSearchString)(e.target.value),r.preventPost(e),r.debounceSubmitHandler()})),g()(s()(r),"onCategorySelection",(function(e){r.setState({currentlyShowing:e})})),g()(s()(r),"handleReset",(function(){var e=r.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections,a=e.setReactionGifSearchString,o=r.state.currentlyShowing;n(),t(),o&&(r.setState({currentlyShowing:""}),a(""))})),g()(s()(r),"handleGifSelection",(function(e){(0,r.props.selectGIF)(e,r.state.currentlyShowing)})),g()(s()(r),"handleKeyDown",(function(e){[k.b].includes(e.key)&&(r.preventPost(e),r.submitHandler())})),r.debounceSubmitHandler=M()(r.submitHandler,1e3),r.state={currentlyShowing:""},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.searchString;t(),""!==n&&this.submitHandler()}},{key:"componentWillUnmount",value:function(){(0,this.props.setReactionGifSearchString)("")}},{key:"getColorByPostIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"];return isNaN(e)&&(e=0),t[e%t.length]}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.position,o=r.placeholder,i=r.searchString,c=r.isPromoted,s=r.promotedConfig,l=this.state.currentlyShowing,u=A()(["gifpicker",{"gifpicker--down":"bottom"===a,"gifpicker--promoted":c}]),d="gifpicker-nano".concat(l&&"-collection");if(c){var m="#".concat(s.get("header_text_color","ffffff"));e={"--gifpicker-triangle-color":"#".concat(s.get("header_gradiant_top","353aab"))},t={background:"linear-gradient(to bottom, #".concat(s.get("header_gradiant_top","474a51"),", #").concat(s.get("header_gradiant_bottom","1f2b59"),")"),color:m,fill:m}}return b.a.createElement("div",{className:u,style:e},b.a.createElement("div",{className:"gifpicker-header",style:t},b.a.createElement("div",{className:"gifpicker-header-content"},c?b.a.createElement(b.a.Fragment,null,b.a.createElement("p",{className:"gifpicker-header-content-title"},s.get("header_title")),b.a.createElement("p",{className:"gifpicker-header-content-subtitle"},s.get("header_subtitle"))):b.a.createElement("p",{className:"gifpicker-header-content-title"},Object(v.b)("reactionGIF")),b.a.createElement("div",{className:"gifpicker-searchbar"},b.a.createElement("input",{placeholder:o,className:"gifpicker-searchbar-textInput",type:"text",value:i,onChange:this.inputChangeHandler,onSubmit:this.submitHandler,onKeyDown:this.handleKeyDown}),b.a.createElement("div",{className:"ReactionGIFSearch-Icon"},b.a.createElement(E.fb,{name:E.A,width:"21",height:"20",viewBox:"0 0 21 20",onClick:function(e){n.preventPost(e),n.submitHandler()}})))),c&&b.a.createElement("img",{className:"gifpicker-header-asset",src:"//".concat(_.W,".").concat(_.S,"/").concat(s.get("header_image"),".png")})),l?b.a.createElement(K,{currentlyShowing:l,getColorByPostIndex:this.getColorByPostIndex,handleReset:this.handleReset,handleGifSelection:this.handleGifSelection}):b.a.createElement(L,{onCategorySelection:this.onCategorySelection,getColorByPostIndex:this.getColorByPostIndex}),b.a.createElement("div",{className:d}))}}]),n}(b.a.Component);Q.defaultProps={placeholder:Object(v.b)("reactionGifSearchPlaceholder")};Q.__docgenInfo={description:"",methods:[{name:"getColorByPostIndex",docblock:null,modifiers:[],params:[{name:"itemIndex",type:null}],returns:null},{name:"preventPost",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCategorySelection",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"handleReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGifSelection",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactionGIF",props:{placeholder:{defaultValue:{value:"copy('reactionGifSearchPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:""},fetchReactionCollections:{type:{name:"func"},required:!0,description:""},position:{type:{name:"string"},required:!1,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},searchString:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!1,description:""},selectGIF:{type:{name:"func"},required:!0,description:""},setReactionGifSearchString:{type:{name:"func"},required:!0,description:""},promotedConfig:{type:{name:"object"},required:!1,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""}}};var Z=Object(C.b)((function(e){var t=e.comments,n=e.config;return{reactionGifCollections:t.get("reactionGifCollections"),promotedConfig:n.get("sponsoredReactionGifsDefinition",new R.Map),isPromoted:!!n.getIn(["sponsoredReactionGifsDefinition","is_active"]),searchString:t.get("reactionGifSearchString")}}),{fetchReactionCollections:O.e,resetReactionGifSearchCollections:O.h,setReactionGifSearchString:O.i})(Q);n("Cz84");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ee=function(e){u()(n,e);var t=$(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"handleKeyDown",(function(e){var t=r.props.setReactionGifPopupVisibility;[k.e,k.d].includes(e.key)&&t(!1)})),g()(s()(r),"gifToggle",(function(){var e=r.ReactionGIF.current.getBoundingClientRect().top,t=r.state.gifSaved,n=r.props,a=n.reactionGifSelectedAnalytics,o=n.isPromoted,i=n.disabled,c=n.setReactionGifPopupVisibility,s=n.isGIFOpen;if(!i){var l=!0;if(e<500&&(l=!1),s||r.setState({gifSaved:!1}),s&&!t){a(null,"Cancelled",o)}r.setState({gifOpenUp:l}),c(!s)}})),g()(s()(r),"onSelect",(function(e,t){var n=r.props,a=n.onSelect,o=n.reactionGifSelectedAnalytics,i=n.isPromoted,c=n.setReactionGifPopupVisibility;r.setState({gifSaved:!0}),c(!1);o(t,"Saved",i,Object(S.b)(e)),a(e)})),r.ReactionGIF=b.a.createRef(),r.state={gifOpenUp:!0,gifSaved:!1},r}return i()(n,[{key:"componentDidMount",value:function(){Object(P.c)("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){Object(P.kb)("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state.gifOpenUp,t=this.props,n=t.isGIFOpen,r=t.className,a=t.disabled,o=t.title;return b.a.createElement("div",{className:r,ref:this.ReactionGIF,disabled:a},b.a.createElement(E.fb,{className:"icon fill",name:E.b,id:"GIFButton",onClick:this.gifToggle,"aria-label":o,title:o,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),n?b.a.createElement(D,{onClickOutside:this.gifToggle},b.a.createElement(Z,{position:e?"top":"bottom",selectGIF:this.onSelect})):"")}}]),n}(b.a.PureComponent);ee.defaultProps={className:"ReactionGIF",title:Object(v.b)("gifOnHover")},ee.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"gifToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null},{name:"category",type:null}],returns:null}],displayName:"ReactionGIFButton",props:{className:{defaultValue:{value:"'ReactionGIF'",computed:!1},type:{name:"string"},required:!1,description:""},title:{defaultValue:{value:"copy('gifOnHover')",computed:!0},type:{name:"string"},required:!1,description:""},onSelect:{type:{name:"func"},required:!0,description:""},reactionGifSelectedAnalytics:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},isGIFOpen:{type:{name:"bool"},required:!1,description:""},setReactionGifPopupVisibility:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.b)((function(e){return{isPromoted:!!e.config.getIn(["sponsoredReactionGifsDefinition","is_active"])}}),{reactionGifSelectedAnalytics:O.g})(ee)},Dk6w:function(e,t,n){},DzJC:function(e,t,n){var r=n("sEfC"),a=n("GoyQ");e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:o,maxWait:t,trailing:i})}},"Ek/P":function(e,t,n){},F8bk:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("P5Jw"),C=n("/MKj"),E=(n("17x9"),n("fdoY")),O=n("/PhX"),k=n("O39/"),P=n("9rNq"),S=n("E9Wd"),N=n("G5ih"),w=n("BWa0"),j=n("GB65");n("co09");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var I=function(e){u()(n,e);var t=q(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"link",(function(){var t=e.props,n=t.copyLinkAction,r=t.title,a=t.hash;n("".concat(S.T,"/").concat(a),r,a,[],k.l)})),g()(s()(e),"download",(function(){var t=e.props,n=t.hash,r=t.title;Object(j.bb)("".concat(S.T,"/download/").concat(n,"/").concat(encodeURIComponent(r)||""))})),g()(s()(e),"comment",(function(){var t=e.props.indexForComment;document.getElementsByClassName("Comment-create-textarea").forEach((function(e,n){var r=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set,a="";""!==e.value&&(a=" "),r.call(e,e.value+"".concat(a,"#").concat(t+1));var o=new Event("input",{bubbles:!0});e.dispatchEvent(o),0===n&&e.scrollIntoView({behavior:"smooth",block:"center"})}))})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.hash,n=e.isLoggedIn,r=e.indexForComment,a=e.commentsDisabled;return b.a.createElement(P.a,{className:"Dropdown--btn Dropdown--media",dropdownIcon:b.a.createElement(w.fb,{name:w.l,width:"32",height:"32"})},b.a.createElement(v.CopyToClipboard,{text:"".concat(S.T,"/").concat(t),onCopy:this.link},b.a.createElement("button",{type:"button"},b.a.createElement(w.fb,{className:"icon stroke",name:w.s,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("copyLink")))),b.a.createElement("button",{type:"button",onClick:this.download},b.a.createElement(w.fb,{className:"icon stroke",name:w.i,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("download"))),n&&Number.isInteger(r)&&!a&&b.a.createElement(b.a.Fragment,null,b.a.createElement("button",{type:"button",onClick:this.comment},b.a.createElement(w.fb,{className:"icon stroke",name:w.g,width:"32",height:"32",title:Object(N.b)("mediaMenuComment"),fillColor:null}),b.a.createElement("span",{className:"label"},Object(N.b)("mediaMenuComment")))))}}]),n}(b.a.Component),D={copyLinkAction:E.Y,openDialogAction:O.I};I.__docgenInfo={description:"",methods:[{name:"link",docblock:null,modifiers:[],params:[],returns:null},{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"comment",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostMediaDropdown",props:{copyLinkAction:{type:{name:"func"},required:!0,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},indexForComment:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},commentsDisabled:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(C.b)((function(e){var t=e.user,n=e.postsData;return{isLoggedIn:t.get("isLoggedIn"),commentsDisabled:n.getIn(["currentPost","commentsDisabled"])}}),D)(I)},FtJD:function(e,t,n){e.exports=n.p+"desktop-assets/reddit_share.bac72f151cd0b4d1e59d7e34f6da8065.svg"},FuWu:function(e,t,n){},FwDa:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),O=n("A1Ak"),k=n("G5ih"),P=n("ErBw"),S=n("GB65"),N=n("/iGR"),w=n("q66R"),j=n("55Ip"),q=n("7oyi"),I=n("wAdX"),D=n("pNV7"),T=n("/wi3");n("DBuX");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var R=function(e){u()(n,e);var t=A(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"handleCloseWithAnalytics",(function(t){var n=e.props,r=n.whitelistedClosedAction,a=n.closeAdblockDialogAction;r(t,"Popup"),a()})),g()(s()(e),"handleClose",(function(){e.handleCloseWithAnalytics("No Thanks")})),g()(s()(e),"onWhitelisted",(function(){e.handleCloseWithAnalytics("Whitelisted"),Object(S.gb)()})),e}return i()(n,[{key:"render",value:function(){return b.a.createElement(I.a,{className:"AdblockDialog",name:P.b,onClose:this.handleClose,isModal:!1},b.a.createElement("div",{className:"AdblockDialog-content"},b.a.createElement(D.V,{name:D.G,className:"Footer-whitelist-baby",width:140}),b.a.createElement("h2",null,Object(k.b)("WhitelistDialogTitle")),Object(k.b)("WhitelistDialogDescription")),b.a.createElement("div",{className:"AdblockDialog-footer"},b.a.createElement(j.a,{to:"/emerald?source=adBlockRecoverUpload"},Object(k.b)("popOverSupportImgur")),b.a.createElement(q.a,{className:"AdblockDialog-footer-whitelisted",onClick:this.onWhitelisted,label:Object(k.b)("WhitelistDialogWhitelisted")})),b.a.createElement(T.b,{onClick:this.handleClose}))}}]),n}(b.a.Component);R.__docgenInfo={description:"",methods:[{name:"handleCloseWithAnalytics",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdblockDialog2",props:{whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},closeAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};var x=Object(v.b)(null,{whitelistedClosedAction:P.O,closeAdblockDialogAction:P.w})(R),M=n("9rNq");n("1p8+");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var F=function(e){u()(n,e);var t=_(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"_container",null),r.updateFooterItems=E()(r.updateFooterItems.bind(s()(r)),250),r.state={childrenDisplay:[],childrenRest:[],footerItems:O.f.map((function(e){return{title:Object(k.b)("".concat(e,"Footer")),href:O.a[e].href}}))},r}return i()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.width,a=n.showWhitelistDialog,o=n.closedWhitelistDialog,i=n.whitelistedDisplayedAction,c=n.openAdblockDialogAction,s=this.state.footerItems;e.width===r&&t.footerItems.length===s.length||this.updateFooterItems(r),e.showWhitelistDialog||e.closedWhitelistDialog||!a||o||(i(),c())}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t,n,r,a,o=this.state.footerItems,i=(t=this.measure.children,n=e,r=o,a=Array.from(t).map((function(e,t){var r=e.getBoundingClientRect(),a=r.left,o=r.width;return!t||a+o<n-275})),{childrenRest:r.filter((function(e,t){return!a[t]})),childrenDisplay:r.filter((function(e,t){return a[t]}))}),c=i.childrenRest,s=i.childrenDisplay,l=this.state.childrenRest;this.footerUpdated=c.length!==l.length||s.length!==l.length,this.setState({childrenRest:c,childrenDisplay:s})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?b.a.createElement(M.d,{className:"center",placeholder:" ",dropdownIcon:b.a.createElement("img",{src:D.a[D.u],className:"Dropdown-icon icon-points"})},t.map((function(e,t){return b.a.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?b.a.createElement("a",{href:e.href},e.title):b.a.createElement("div",{className:"Footer-optionText"},e.title))}))):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.childrenDisplay,r=void 0===n?[]:n,a=t.footerItems,o=this.props,i=o.isFooterVisible,c=o.showWhitelistDialog,s=o.closedWhitelistDialog;return b.a.createElement("div",{className:"Footer-wrapper".concat(i?"":" down")},c&&!s&&b.a.createElement(x,null),b.a.createElement("div",{className:"Footer"},b.a.createElement("ul",{ref:function(t){e.menu=t},className:"Footer-navbar"},r.map((function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)}))),this.renderDropdown(),b.a.createElement("div",{ref:function(t){e.appBtn=t},className:"Footer-app"},b.a.createElement("a",{href:"".concat(O.a[O.b].href)},Object(k.b)("getAppFooter")))),b.a.createElement("div",{className:"Footer Footer-measure"},b.a.createElement("ul",{ref:function(t){e.measure=t},className:"Footer-navbar Footer-navbar-dimensions"},a.map((function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)})))))}}]),n}(b.a.Component);F.defaultProps={width:0},F.__docgenInfo={description:"",methods:[{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},openAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};t.a=Object(v.b)((function(e){var t=e.ui,n=e.display,r=e.user,a=e.postsData;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:Object(S.W)()&&!Object(N.b)(P.q)&&r.get("isLoaded")&&!r.get("hasPaid")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&Object(w.e)(a.getIn(["currentPost","adConfig"]))}}),{whitelistedDisplayedAction:P.P,openAdblockDialogAction:P.B})(F)},"G6+a":function(e,t,n){},GGeJ:function(e,t,n){},HCTt:function(e,t,n){},HWIq:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("TSYQ")),i=n.n(o),c=n("Nm7g"),s=n("y/zE");function l(e){var t=e.count,n=e.username;if(!t&&!n)return null;var r=i()({"Accolade-userAvatar":!0,"Accolade-userAvatar--withCount":t>0}),o=i()({"Accolade-accoladeCountValue":!0,"Accolade-accoladeCountValue--plus":!!n}),l=i()({"Accolade-accoladeGiven":!0,"Accolade-accoladeGiven--avatar":!!n});return a.a.createElement("div",{className:l},n&&a.a.createElement(s.a,{className:r,username:n,displayUsername:n}),t>0&&a.a.createElement("div",{className:"Accolade-accoladeCount"},a.a.createElement("div",{className:o},n&&"+ ",Object(c.j)(t))))}l.__docgenInfo={description:"",methods:[],displayName:"AccoladeHead",props:{count:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""}}};n("Ek/P");function u(e){var t=e.count,n=e.username,r=e.background,o=e.imageUrl,c=e.imageName,s=i()({Accolade:!0,"Accolade-background":r});return a.a.createElement("div",{className:s},a.a.createElement(l,{count:t,username:n}),a.a.createElement("img",{className:"Accolade-accoladeImage",src:o,alt:"".concat(c)}),c&&a.a.createElement("div",{className:"Accolade-accoladeName"},c))}u.defaultProps={count:0,background:!1},u.__docgenInfo={description:"",methods:[],displayName:"Accolade",props:{count:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},background:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},imageUrl:{type:{name:"string"},required:!1,description:""},imageName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},HhWI:function(e,t,n){},IVpR:function(e,t,n){},IgJu:function(e,t,n){},JBc3:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("TSYQ")),s=n.n(c),l=n("AG5K"),u=n("E9Wd"),d=n("GB65"),m=n("BWa0");n("Ltx0");function p(e){var t=e.customClasses,n=e.isUserLoggedIn,r=e.showTitle,o=e.showSmallVersion,c=e.onClick,p=s()(a()({GiveEmeraldButton:!0,"GiveEmeraldButton-title":r,"GiveEmeraldButton-small":o},t,t)),f=Object(l.a)("giveEmerald");return i.a.createElement("a",{className:p,title:f,href:"".concat(u.K,"?redirect=").concat(encodeURIComponent(Object(d.w)())),onClick:function(e){n&&(e.preventDefault(),e.stopPropagation(),c())}},i.a.createElement(m.fb,{name:m.Z,width:"14",height:"14",viewBox:"0 0 20 20"}),r&&i.a.createElement("span",null,f))}p.defaultProps={showTitle:!1,showSmallVersion:!1,onClick:function(){},customClasses:""},p.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButton",props:{showTitle:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showSmallVersion:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},customClasses:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""}}}},JHKR:function(e,t,n){},KMpf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));n("Dhp7"),n("fPgW");function r(e,t){return e-t}function a(e){return e.set("points",r(e.get("ups"),e.get("downs")))}function o(e){var t=e.get("post");return t?e.setIn(["posts","point_count"],r(t.get("upvote_count"),t.get("downvote_count"))):e}},KhJ6:function(e,t,n){"use strict";function r(e,t,n,r){if(n.location.pathname.startsWith("/account/favorites/"))return e.get("username");var a,o=r.params,i=o.username?o.username.toLowerCase():null;return(a=i?t.getIn(["accounts",i]):t.get("accounts").first())?a.get("username"):i}n.d(t,"a",(function(){return r}))},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},LGYb:function(e,t,n){var r=n("1hJj"),a=n("jbM+"),o=n("Xt/L"),i=n("xYSL"),c=n("dQpi"),s=n("rEGp");e.exports=function(e,t,n){var l=-1,u=a,d=e.length,m=!0,p=[],f=p;if(n)m=!1,u=o;else if(d>=200){var h=t?null:c(e);if(h)return s(h);m=!1,u=i,f=new r}else f=t?[]:p;e:for(;++l<d;){var g=e[l],y=t?t(g):g;if(g=n||0!==g?g:0,m&&y==y){for(var b=f.length;b--;)if(f[b]===y)continue e;t&&f.push(y),p.push(g)}else u(f,y,n)||(f!==p&&f.push(y),p.push(g))}return p}},LUYa:function(e,t,n){e.exports=n.p+"desktop-assets/email_share.9c743f926cc5404880a0ca14688286a8.svg"},LbAz:function(e,t,n){},Ltx0:function(e,t,n){},"Lz/x":function(e,t,n){},ME7n:function(e,t,n){e.exports=n.p+"desktop-assets/facebook_share.420eb32611acbe98ec65f20774888f4e.svg"},MZXA:function(e,t,n){},"NXH/":function(e,t,n){},"O+9w":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("E9Wd"));function i(e){var t=e.isPromoted,n=e.isUserLoaded,r=e.itemUsername,i=e.currentUsername,c=e.children;return e.isEnabled&&!t&&n&&r&&i!==r&&!o.C.includes(r)?a.a.createElement("div",null,c):null}i.defaultProps={isEnabled:!0,isUserLoaded:!1,isPromoted:!1},i.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButtonSwitch",props:{isEnabled:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},isUserLoaded:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},itemUsername:{type:{name:"string"},required:!0,description:""},children:{type:{name:"object"},required:!0,description:""}}}},OQdq:function(e,t,n){},Oggj:function(e,t,n){e.exports=n.p+"desktop-assets/pinterest_share.f588cf418afb580945f9716831475648.svg"},Ojet:function(e,t,n){},"Pom+":function(e,t,n){"use strict";n.d(t,"b",(function(){return ro})),n.d(t,"a",(function(){return ao}));var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=n("17x9"),O=n.n(E),k=n("Ty5D"),P=n("mwIZ"),S=n.n(P),N=n("GB65"),w=n("dRit"),j=n("+VfX"),q=n("4TFA"),I=n("/0Wm"),D=n("/MKj"),T=n("sWSo"),A=n("N9yH"),R=n("RmMW"),x=n("Bw9V"),M=n("9Jdl"),_=n("+qLk"),F=n("G5ih"),G=n("/PhX"),L=n("q66R");n("2p6Y");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var U=function(e){m()(n,e);var t=V(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"toggleVisibility",(function(){var t=e.props;(0,t.setBottomRecircVisibilityAction)(!t.isBottomRecircVisible)})),e}return s()(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setPosts)(e.posts)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.adConfig,a=t.setPosts,o=t.posts;e.adsEnabled===n&&e.adConfig===r||a(o)}},{key:"render",value:function(){var e=this.props,t=e.isBottomRecircVisible,n=e.title,r=e.getRecirc,a=e.posts;return C.a.createElement("div",{className:"BottomRecirc"},C.a.createElement("h2",{className:"BottomRecirc-label",onClick:this.toggleVisibility},a.size>0&&n),C.a.createElement("div",{style:{display:t?"block":"none"}},r()))}}]),n}(C.a.Component),B=Object(D.b)((function(e,t){var n=e.posts,r=e.ui,a=t.op,o=t.treatment;return{posts:n.get("recircPosts"),isBottomRecircVisible:r.gallery.get("isBottomRecircVisible"),title:o===I.f?"More posts from ".concat(a):"More posts you may like"}}),(function(e,t){var n=t.op,r=t.postHash,a=t.treatment,o=function(){},i="",c="";return a===I.f?(c=_.G,o=R.f,i=n):a===I.g&&(c=_.w,o=x.z,i=r),{setBottomRecircVisibilityAction:function(t){e(Object(G.J)(t))},getRecirc:function(){return C.a.createElement(T.a,{streamSection:c,streamParam:i,recircFetcher:o,navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:M.g,sendToTop:!0})},setPosts:function(){e(o(i,0,x.g,r))}}}))(U);U.__docgenInfo={description:"",methods:[{name:"toggleVisibility",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BottomRecirc",props:{posts:{type:{name:"object"},required:!0,description:""},setBottomRecircVisibilityAction:{type:{name:"func"},required:!0,description:""},isBottomRecircVisible:{type:{name:"bool"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},adConfig:{type:{name:"object"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},getRecirc:{type:{name:"func"},required:!0,description:""},postHash:{type:{name:"string"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},setPosts:{type:{name:"func"},required:!0,description:""}}};var H=Object(D.b)((function(e){var t=e.posts,n=e.ui;return{posts:t.get("posts"),isBottomRecircVisible:n.gallery.get("isBottomRecircVisible"),title:Object(F.b)("page404LabelPosts")}}),(function(e,t){return{setBottomRecircVisibilityAction:function(t){e(Object(G.J)(t))},setPosts:function(n){var r=t.adsEnabled,a=t.adConfig,o=[],i=Object(L.e)(a);n.toArray().forEach((function(e){(r&&i||!e.get("isAd"))&&o.push(e.toJS())})),e(Object(A.f)(o))},getRecirc:function(){return C.a.createElement(T.b,{navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:M.g,sendToTop:!0})}}}))(U),W=n("b5GN"),z=n("wmRA"),Y=n("sEfC"),J=n.n(Y);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var X=function(e){m()(n,e);var t=K(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"handleScroll",value:function(){(0,this.props.onScroll)(Object(N.B)("pageYOffset"),Object(N.B)("innerHeight"))}},{key:"componentDidMount",value:function(){var e=this.props.debounceTimeout;this.handleScroll(),this.handleScroll=J()(this.handleScroll.bind(this),e),Object(N.a)("scroll",this.handleScroll),Object(N.a)("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),Object(N.hb)("scroll",this.handleScroll),Object(N.hb)("resize",this.handleScroll)}},{key:"render",value:function(){return C.a.createElement("span",null)}}]),n}(v.Component);X.defaultProps={debounceTimeout:10},X.__docgenInfo={description:"",methods:[{name:"handleScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Scroll",props:{debounceTimeout:{defaultValue:{value:"10",computed:!1},type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!0,description:""}}};var Q=n("/aJl"),Z=n("FwDa"),$=n("xbNk"),ee=n("Y22u");function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ne=function(e){m()(n,e);var t=te(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"lazyLoadHandler",J()((function(){var e=r.props.lazyLoadBuffer;Object(ee.c)(r.lazyLoadContainer.current,e)&&(r.setState({lazyLoadedIntoView:!0}),Object(N.kb)("scroll",r.lazyLoadHandler),Object(N.kb)("resize",r.lazyLoadHandler))}),200)),r.lazyLoadContainer=C.a.createRef(),r.state={lazyLoadedIntoView:!1},r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.c)("scroll",this.lazyLoadHandler),Object(N.c)("resize",this.lazyLoadHandler),this.lazyLoadHandler()}},{key:"componentWillUnmount",value:function(){Object(N.kb)("scroll",this.lazyLoadHandler),Object(N.kb)("resize",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props.children,t=this.state.lazyLoadedIntoView;return C.a.createElement("div",{ref:this.lazyLoadContainer},t?e():"")}}]),n}(v.Component);ne.__docgenInfo={description:"",methods:[],displayName:"LazyLoad",props:{children:{type:{name:"func"},required:!0,description:""},lazyLoadBuffer:{type:{name:"number"},required:!0,description:""}}};var re=n("yosD"),ae=n("XVVZ"),oe=n("heTe"),ie=n("6tpS"),ce=n("uscc");function se(e){var t=e.children,n=e.experimentTrigger,r=e.experimentName;return Object(v.useEffect)((function(){return n(r),function(){}}),[]),null!=t?t:null}se.propTypes={experimentName:O.a.string,experimentTrigger:O.a.func,children:O.a.node};var le=Object(D.b)(null,{experimentTrigger:ce.d})(se),ue=n("w8Sv"),de=n("bWDY"),me=n("E9Wd");var pe=n("0UWM"),fe=n("qhky"),he=n("RIqP"),ge=n.n(he),ye=n("JPcv");function be(e){var t,n,r=e.post,a=r&&Object(L.b)(r.get("adConfig"))?"none":"follow, index",o=function(e){if(!e)return Object(F.b)("postMetaDescription");var t=e.get("tags",Object(ye.List)()).reduce((function(e,t){return[].concat(ge()(e),[t.get("display")])}),[]),n=e.getIn(["account","username"],"");return Object(F.b)("postMetaDescription",t,n)}(r);return C.a.createElement(fe.a,null,C.a.createElement("title",null,function(e){if(r){var t=e.get("title"),n=e.get("media"),a=n.first();if(a&&(a.get("animationType")||a.get("isVideo")))return n.size>1?Object(F.b)("galleryMetaTitleGifs",t):Object(F.b)("galleryMetaTitleGif",t);var o=e.get("tags");return o.size?Object(F.b)("galleryMetaTitleTag",t,o.first().get("display",o.first().get("tag"))):t}return Object(F.b)("defaultTitle")}(r)),C.a.createElement("meta",{name:"description",content:o}),C.a.createElement("meta",{property:"og:description",content:o}),C.a.createElement("meta",{name:"twitter:description",content:o}),C.a.createElement("link",{rel:"canonical",href:(t=r,n=me.T,r?(t.get("inGallery")?n+="/gallery/".concat(t.get("id")):t.get("isAlbum")?n+="/a/".concat(t.get("id")):n+="/".concat(t.get("id")),n):n)}),C.a.createElement("meta",{name:"robots",content:a}))}be.__docgenInfo={description:"",methods:[],displayName:"GalleryMeta",props:{post:{type:{name:"object"},required:!1,description:""}}};var ve=n("TSYQ"),Ce=n.n(ve),Ee=n("iaU+"),Oe=n("94Yu"),ke=n("9UQG"),Pe=n("WSv3");n("7znt");function Se(e){var t=e.isAnnouncement,n=Ce()({"promoted-label":!0,"announcement-label":t,"promoted-hover":!t});return C.a.createElement("div",{className:n,onClick:!t&&function(e){e.preventDefault(),Object(N.bb)(M.z)},title:Object(F.b)("promotedLabelTitle",t)},Object(F.b)("promotedText",t))}Se.defatulProps={isAnnouncement:!1},Se.__docgenInfo={description:"",methods:[],displayName:"PromotedLabel",props:{isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Ne=n("ANjH"),we=n("fdoY"),je=n("BWa0"),qe=n("QILm"),Ie=n.n(qe),De=n("55Ip"),Te=n("RJ0p");function Ae(e){var t=e.recircSortType,n=e.postId,r=e.match,o=e.children,i=(e.dispatch,e.staticContext,Ie()(e,["recircSortType","postId","match","children","dispatch","staticContext"])),c=r.params,s=Object(Te.j)(t,c);return C.a.createElement(De.a,a()({to:"".concat(s).concat(n)},i),o)}Ae.__docgenInfo={description:"",methods:[],displayName:"PostLink",props:{match:{type:{name:"object"},required:!0,description:""},children:{type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!0,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},staticContext:{type:{name:"object"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""}}};var Re=Object(Ne.c)(Object(D.b)((function(e){return{recircSortType:e.postsData.get("recircSortType")}})),k.h)(Ae);n("D4vR");function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Me=function(e){m()(n,e);var t=xe(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"clickNext",(function(){var e=r.props,t=e.toNext,n=e.match.params;t(q.o.BUTTON,n)})),b()(u()(r),"clickPrev",(function(){var e=r.props,t=e.toPrev,n=e.match.params;t(q.o.BUTTON,n)})),r.elm=C.a.createRef(),r}return s()(n,[{key:"setElementPosition",value:function(){var e=this.props,t=e.setPosition,n=e.header,r=parseInt(this.elm.getBoundingClientRect().bottom,10)+Object(N.L)();n&&t(r)}},{key:"componentDidMount",value:function(){this.setElementPosition()}},{key:"componentDidUpdate",value:function(){this.setElementPosition()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prevPost,r=t.nextPost,a=t.transformationStyle,o=t.transformationNextStyle,i=Ce()({"Navigation-Container":!0,"first-item":!n,"last-item":!r});return C.a.createElement("div",{ref:function(t){e.elm=t}},(n||r)&&C.a.createElement("div",{className:i},n&&C.a.createElement(Re,{className:"Navigation Navigation-prev",postId:n.get("id"),onClick:this.clickPrev},C.a.createElement("div",{className:"content"},C.a.createElement(je.fb,{name:je.U,width:"16",height:"16",alt:"<"}))),r&&C.a.createElement(Re,{className:"Navigation Navigation-next",postId:r.get("id"),onClick:this.clickNext,style:a},C.a.createElement("div",{className:"content"},C.a.createElement("span",{style:o},Object(F.b)("nextPost")),C.a.createElement(je.fb,{name:je.V,width:"16",height:"16",alt:">"})))))}}]),n}(C.a.Component);Me.defaultProps={header:!1},Me.__docgenInfo={description:"",methods:[{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"clickNext",docblock:null,modifiers:[],params:[],returns:null},{name:"clickPrev",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PrevNextButtonsComponent",props:{header:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},toNext:{type:{name:"func"},required:!0,description:""},toPrev:{type:{name:"func"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},transformationNextStyle:{type:{name:"object"},required:!1,description:""},setPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""}}};var _e=Object(Ne.c)(Object(D.b)((function(e){var t=e.postsData,n=e.ad,r=e.ui,a={},o={};return n.getIn(["transformation","enabled"])&&(a={background:"rgb(".concat(n.getIn(["transformation","secondaryColor"]),")"),fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","nextFontSize"])},o={verticalAlign:n.getIn(["transformation","nextAlignment"])}),{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),coverHeight:r.cover.get("height"),transformationStyle:a,transformationNextStyle:o}}),{toNext:we.fb,toPrev:we.gb,setPosition:we.Kb}),k.h)(Me);function Fe(e){var t=e.className,n=e.username,r=e.label,a=e.children,o=e.onClick;n.toLowerCase()===me.z&&(n=me.B);var i=r||n;return"function"==typeof a?i=a(i):a&&(i=a),C.a.createElement(De.a,{className:t,to:"/user/".concat(n),title:Object(F.b)("usernameHint",n),onClick:o},i)}Fe.__docgenInfo={description:"",methods:[],displayName:"AuthorLinkComponent",props:{className:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"func"},{name:"instanceOf",value:"Object"}]},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};n("nswd");function Ge(e){var t=e.postTitle,n=e.postAuthor,r=e.className,a=e.isPostLoading,o=e.onProfileClick,i=e.transformationTitleStyle,c=e.isAnnouncement,s=e.isAd;return C.a.createElement("div",{className:Ce()(b()({CoverPostMeta:!0},r,r))},C.a.createElement("div",{className:"Wrapper"},C.a.createElement("div",{className:"Meta".concat(a?" fadeOut":"")},C.a.createElement("div",{className:"PostTitle",style:i},t),s&&C.a.createElement(Se,{isAnnouncement:c}),n&&C.a.createElement(Fe,{className:"author-name",username:n,onClick:function(){return o(n,"Username Byline")}},(function(e){return C.a.createElement(C.a.Fragment,null,C.a.createElement("span",{className:"normal"},Object(F.b)("postByLine")," "),e)}))),C.a.createElement("div",{className:"Navigation-buttons"},C.a.createElement(_e,null))))}Ge.__docgenInfo={description:"",methods:[],displayName:"CoverPostMetaComponent",props:{className:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},postAuthor:{type:{name:"string"},required:!1,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!0,description:""},isAd:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Le=Object(D.b)((function(e){var t=e.postsData,n=e.ad,r=t.get("currentPost"),a={};return n.getIn(["transformation","enabled"])&&(a={fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","stickyTitleFontSize"])}),{postTitle:r&&r.get("title"),postAuthor:r&&r.get("inGallery")&&r.getIn(["account","username"],""),transformationTitleStyle:a}}),{onProfileClick:Pe.S})(Ge);n("oYpj");function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Ue=function(e){m()(n,e);var t=Ve(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"onScroll",(function(){var e=r.props,t=e.prevNextPosition,n=e.coverTop,a=Object(N.L)()+Math.abs(n)>=t;a!==r.state.isDisplayPostMeta&&r.setState({isDisplayPostMeta:a})})),r.state={isDisplayPostMeta:!1},r}return s()(n,[{key:"componentDidUpdate",value:function(e){e.prevNextPosition!==this.props.prevNextPosition&&this.onScroll()}},{key:"render",value:function(){var e=this.props,t=e.isPostLoading,n=e.isPostAd,r=e.isAnnouncement,a=Ce()({GalleryCover:!0,withPostMeta:this.state.isDisplayPostMeta});return C.a.createElement(Ee.a,{minHeight:0,className:a,backgroundType:j.n,hideNewPostNotification:!0,SCTU:n?void 0:Oe.a,SCTUPath:M.V,SCTUReservePath:M.M,SCTUTargeting:{"2019NewPostPage":!0},onScroll:this.onScroll,Banner:ke.a},C.a.createElement(Le,{className:this.state.isDisplayPostMeta?"Display":"",isAd:n,isAnnouncement:r,isPostLoading:t}))}}]),n}(C.a.Component);Ue.__docgenInfo={description:"",methods:[{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryCoverComponent",props:{prevNextPosition:{type:{name:"number"},required:!0,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},isPostAd:{type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Be=Object(D.b)((function(e){var t=e.postsData,n=e.ui;return{prevNextPosition:t.get("prevNextPosition"),isPostLoading:n.spinner.get("retrievePost",{}).loading,isPostAd:t.getIn(["currentPost","isAd"],!1),isAnnouncement:t.getIn(["currentPost","isAnnouncement"],!1),coverTop:n.cover.getIn(["navbar","top"])}}))(Ue),He=n("v1Sp"),We=n("wAdX"),ze=n("7oyi"),Ye=n("pNV7");n("2X/W");function Je(e){var t=e.closeDialog,n=e.muteUser,r=e.resetMuteUserData,a=e.username,o=e.type,i=e.id;if(!(a&&o&&i))return null;var c=function(){r(),t()};return C.a.createElement(We.a,{className:"MuteUserDialog",name:He.a,isModal:!1,onClose:r},C.a.createElement("div",{className:"MuteUserDialog-head"},C.a.createElement("span",null,Object(F.b)("muteUserDialogTitle")),C.a.createElement(ze.a,{className:"MuteUserDialog-head--close",imageSrc:Ye.a[Ye.j],onClick:c})),C.a.createElement("div",{className:"MuteUserDialog-content"},C.a.createElement("div",{className:"MuteUserDialog-content--text"},Object(F.b)("muteUserDialogText")),C.a.createElement("div",{className:"MuteUserDialog-content--buttons"},C.a.createElement(ze.a,{className:"MuteUserDialog-content--mute",onClick:function(){n(a,o,i),t()},label:Object(F.b)("muteUserDialogMuteBtn")}),C.a.createElement(ze.a,{className:"MuteUserDialog-content--cancel",onClick:c,label:Object(F.b)("muteUserDialogCancelBtn")}))))}Je.__docgenInfo={description:"",methods:[],displayName:"MuteUserDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},muteUser:{type:{name:"func"},required:!0,description:""},resetMuteUserData:{type:{name:"func"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var Ke=Object(D.b)((function(e){var t=e.user;return{username:t.getIn(["muteUserData","username"]),type:t.getIn(["muteUserData","type"]),id:t.getIn(["muteUserData","id"])}}),{closeDialog:G.y,muteUser:Pe.D,resetMuteUserData:Pe.I})(Je),Xe=n("2YUA"),Qe=n("AG5K"),Ze=n("OX3u"),$e=n("fPgW"),et=n("Nm7g"),tt=n("Dhp7");function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var rt=function(e){m()(n,e);var t=nt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={countdown:null},r}return s()(n,[{key:"tick",value:function(){var e=this.props.target;e&&this.setState({countdown:Object(tt.n)(e)})}},{key:"componentDidMount",value:function(){var e=this;this.tick();var t=this.props.target;!this.timerID&&t&&(this.timerID=Object(N.vb)((function(){return e.tick()}),1e3))}},{key:"componentWillUnmount",value:function(){Object(N.h)(this.timerID),this.timerID=null}},{key:"render",value:function(){var e=this.state.countdown,t=this.props.className;return C.a.createElement("div",{className:t},e)}}]),n}(v.Component);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}rt.__docgenInfo={description:"",methods:[{name:"tick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Countdown",props:{target:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var ot=function(e){m()(n,e);var t=at(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"renderInventory",value:function(e,t){var n=t?"active":"dimmed";return C.a.createElement("div",{className:"AccoladeDialog-inventory--".concat(n),key:e},C.a.createElement(je.fb,{name:je.K,width:"18",height:"20",viewBox:"0 -9 32 32"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.total,r=t.remaining;return n&&0!==r?C.a.createElement("div",{className:"AccoladeDialog-inventory"},C.a.createElement("div",{className:"AccoladeDialog-inventory-badges"},ge()(Array(n)).map((function(t,n){return e.renderInventory(n,n+1<=r)}))),C.a.createElement("div",{className:"AccoladeDialog-inventory-message"},Object(Qe.a)("accoladesInventoryRemaining",r))):null}}]),n}(v.Component);ot.__docgenInfo={description:"",methods:[{name:"renderInventory",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"isActive",type:null}],returns:null}],displayName:"Inventory",props:{total:{type:{name:"number"},required:!1,description:""},remaining:{type:{name:"number"},required:!1,description:""}}};var it=n("HWIq");n("neJP");function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var st=n("RUHF");var lt=Object(D.b)((function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPostMeta","user","accolades"]),a=t.getIn(["currentPostMeta","post","accolades_counts"]);return{isSubscribed:n.getIn(["subscription","isSubscribed"],!1),postId:t.getIn(["currentPost","id"]),initialVote:t.getIn(["currentPost","vote"],$e.c),accolades:t.getIn(["currentPostMeta","accolades","available"]),total:r&&r.getIn(["total"],0),remaining:r&&r.getIn(["remaining"]),timerReset:r&&r.getIn(["timer_reset"]),userAccoladeId:r&&r.getIn(["accolade_id"]),postAccolades:a?a.toJS():{},isOwner:n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase(),currentUsername:n.get("username","")}}),(function(e){return{close:function(){e(Object(G.y)(Ze.a))},submit:function(t){e(Object(we.Zb)(t)),e(Object(G.y)(Ze.a)),t.vote===$e.b?e(t.userAccoladeId?Object(st.j)(t):Object(st.k)(t)):e(Object(st.l)(t))},onAccoladeDialogOpen:function(t){return e(Object(we.X)(t))}}}))(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){m()(o,n);var r=ct(o);function o(e){var t;return i()(this,o),t=r.call(this,e),b()(u()(t),"chooseAccolade",(function(e,n,r){0===n&&e&&!r||t.setState({currentSelectedAccoladeId:e})})),b()(u()(t),"handleAward",(function(){var e=t.props,n=e.submit,r=e.postId,a=e.initialVote,o=e.postAccolades,i=e.accolades,c=e.userAccoladeId,s=t.state.currentSelectedAccoladeId;n({postId:r,vote:$e.b,initialVote:a,trigger:"Award Accolade",accoladeId:s,userAccoladeId:c,accoladeName:i.find((function(e){return e.get("id")===s})).get("name"),accoladeCount:Object(et.n)(o)+1,previousAccoladeName:c?i.find((function(e){return e.get("id")===c})).get("name"):null})})),b()(u()(t),"handleRemove",(function(){var e=t.props,n=e.submit,r=e.postId,a=e.initialVote,o=e.userAccoladeId;n({postId:r,vote:$e.c,initialVote:a,trigger:"Delete Accolade",userAccoladeId:o})})),b()(u()(t),"getCount",(function(e){var n=t.props,r=n.postAccolades,a=n.userAccoladeId,o=r&&r[e]?r[e]:0;return o?(e===a&&--o,o):0})),b()(u()(t),"isAccoladeButtonEnabled",(function(){var e=t.props,n=e.userAccoladeId,r=e.remaining,a=t.state.currentSelectedAccoladeId;return null!==a&&(!(0===r&&!n)&&(!n||a!==n))})),b()(u()(t),"onOpen",(function(){var e=t.props,n=e.onAccoladeDialogOpen,r=e.isOwner,a=e.postAccolades;n({accoladeIds:r&&a&&Object.keys(a).length>0?Object.keys(a):null}),t.chooseAccolade(null)})),t.state={currentSelectedAccoladeId:null},t}return s()(o,[{key:"accoladeData",value:function(e,t){var n=this,r=this.state.currentSelectedAccoladeId,a=this.props,o=a.userAccoladeId,i=a.currentUsername,c=a.remaining,s=e.get("id");return C.a.createElement("div",{key:t,onClick:function(){return n.chooseAccolade(e.get("id"),c,o)}},C.a.createElement(it.a,{count:this.getCount(s),username:s===o?i:"",background:s===r,imageUrl:e.get("image_url"),imageName:e.get("name")}))}},{key:"renderAccolades",value:function(){var e=this,t=this.props.accolades;if(t)return C.a.createElement("div",{className:"AccoladeDialog-accoladesContainer"},t.map((function(t,n){return e.accoladeData(t,n)})))}},{key:"renderDialogTitle",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.isOwner,a=e.postAccolades,o=e.remaining,i=e.timerReset;if(r){var c=Object(et.n)(a);return Object(Qe.a)(c?"accoladePostHasAccoladesTitle":"accoladePostNotHasAccoladesTitle",Object(et.j)(c))}return t?0===o?C.a.createElement(C.a.Fragment,null,C.a.createElement(rt,{target:i,className:"AccoladeDialog-countdown"}),Object(Qe.a)("accoladesInventoryReload")):Object(Qe.a)(n?"accoladeGivenTitle":"accoladeGiveTitle"):Object(Qe.a)("accoladeJoinTitle")}},{key:"renderDialogButton",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.remaining;if(!t)return C.a.createElement("a",{className:"AccoladeDialog-link",href:"/".concat(W.f,"?source=").concat(Ze.s)},Object(Qe.a)("accoladeJoinEmerald"));if(0===r&&!n)return"";var a=this.isAccoladeButtonEnabled();return C.a.createElement("button",{disabled:!a,type:"button",className:"AccoladeDialog-button-".concat(a?"-active":"-hidden"),onClick:this.handleAward},n?Object(Qe.a)("accoladeChange"):Object(Qe.a)("accoladeAward"))}},{key:"render",value:function(){var n=this.props,r=n.isSubscribed,o=n.total,i=n.remaining,c=n.userAccoladeId,s=n.isOwner,l=n.close;return C.a.createElement(e,a()({className:"AccoladeDialog",isModal:!1,onClose:l,name:Ze.a,onOpen:this.onOpen},t),C.a.createElement("div",{className:"AccoladeDialog-head"},r&&!s&&0!==i&&C.a.createElement(ot,{total:o,remaining:i}),C.a.createElement(ze.b,{className:"AccoladeDialog-head--close",image:C.a.createElement(je.fb,{name:je.h,width:"24",height:"24"}),onClick:l})),C.a.createElement("div",{className:"AccoladeDialog-content"},C.a.createElement("div",{className:"AccoladeDialog-content-title"},this.renderDialogTitle()),this.renderAccolades()),C.a.createElement("div",{className:"AccoladeDialog-footer"},C.a.createElement("a",{className:"AccoladeDialog-LearnMore",href:Ze.c,target:"_blank",rel:"noopener noreferrer"},C.a.createElement(je.fb,{height:"24",name:je.L,width:"24"})),!s&&C.a.createElement("div",{className:"AccoladeDialog-footer-actions"},c&&C.a.createElement("div",{className:"AccoladeDialog-button--remove",onClick:this.handleRemove},Object(Qe.a)("accoladeRemove")),this.renderDialogButton())))}}]),o}(v.Component);return n.defaultProps={onAccoladeDialogOpen:function(){}},n}(We.a)),ut=n("5jHb"),dt=n("93Qx");n("qAYT");function mt(e){var t=e.closeDialog,n=e.deleteComment,r=e.resetDeleteCommentData,a=e.commentId;if(!a||!n)return null;var o=function(){r(),t()};return C.a.createElement(We.a,{className:"DeleteCommentDialog",name:ut.f,isModal:!1,onClose:r},C.a.createElement("div",{className:"DeleteCommentDialog-head"},C.a.createElement("span",null,Object(F.b)("DeleteCommentDialogTitle")),C.a.createElement(ze.a,{className:"DeleteCommentDialog-head--close",imageSrc:Ye.a[Ye.j],onClick:o})),C.a.createElement("div",{className:"DeleteCommentDialog-content"},C.a.createElement("div",{className:"DeleteCommentDialog-content--text"},Object(F.b)("DeleteCommentDialogText")),C.a.createElement("div",{className:"DeleteCommentDialog-content--buttons"},C.a.createElement(ze.a,{className:"DeleteCommentDialog-content--cancel",onClick:o,label:Object(F.b)("DeleteCommentDialogKeepBtn")}),C.a.createElement(ze.a,{className:"DeleteCommentDialog-content--delete",onClick:function(){n(a),t()},label:Object(F.b)("DeleteCommentDialogDeleteBtn")}))))}mt.__docgenInfo={description:"",methods:[],displayName:"DeleteCommentDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},deleteComment:{type:{name:"func"},required:!0,description:""},resetDeleteCommentData:{type:{name:"func"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""}}};var pt=Object(D.b)((function(e){return{commentId:e.comments.get("commentToDeleteId")}}),{closeDialog:G.y,deleteComment:dt.s,resetDeleteCommentData:dt.z})(mt),ft=n("if3o"),ht=n("Gk2F");n("IVpR");function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}function yt(){return C.a.createElement("svg",{style:{position:"absolute"},width:"0",height:"0",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("defs",null,C.a.createElement("path",{id:"folder-path0",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z",fill:"#43D0BD"}),C.a.createElement("path",{id:"folder-path1",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z"}),C.a.createElement("path",{id:"folder-lock-path",fillRule:"evenodd",clipRule:"evenodd",d:"M27 11.0375C24.7909 11.0375 23 12.8954 23 15.1872V16.4018C21.8348 16.829 21 17.9819 21 19.337V22.4493C21 24.1682 22.3431 25.5617 24 25.5617H30C31.6569 25.5617 33 24.1682 33 22.4493V19.337C33 17.9819 32.1652 16.829 31 16.4018V15.1872C31 12.8954 29.2091 11.0375 27 11.0375ZM29 16.2247V15.1872C29 14.0413 28.1046 13.1124 27 13.1124C25.8954 13.1124 25 14.0413 25 15.1872V16.2247H29ZM24 18.2996C23.4477 18.2996 23 18.764 23 19.337V22.4493C23 23.0223 23.4477 23.4868 24 23.4868H30C30.5523 23.4868 31 23.0223 31 22.4493V19.337C31 18.764 30.5523 18.2996 30 18.2996H24Z",fill:"white"}),C.a.createElement("filter",{id:"filter0_d",x:"0.167206",y:"0",width:"54.9194",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},C.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),C.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),C.a.createElement("feOffset",{dy:"4"}),C.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),C.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),C.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),C.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function bt(e){var t=e.id,n=e.coverHash,r=e.isPrivate;return C.a.createElement("svg",{width:"45",height:"32",viewBox:"5 1 45 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("g",{filter:"url(#filter0_d)"},C.a.createElement("use",{xlinkHref:"#folder-path0"}),n&&!r&&C.a.createElement("use",{xlinkHref:"#folder-path1",fill:"url(#pattern".concat(t,")")})),r&&C.a.createElement("use",{xlinkHref:"#folder-lock-path"}),C.a.createElement("defs",null,C.a.createElement("pattern",{id:"pattern".concat(t),patternContentUnits:"objectBoundingBox",width:"1",height:"1"},C.a.createElement("use",{xlinkHref:"#image".concat(t),transform:""})),C.a.createElement("image",{id:"image".concat(t),width:"1",height:"1",xlinkHref:n&&"".concat(me.U,"/").concat(n,"s.png")})))}function vt(e){var t=e.id,n=void 0===t?ft.a:t,r=e.coverHash,a=e.name,o=e.isPrivate,i=e.isSelected;return C.a.createElement("div",{className:"FavoriteDialog-Folder"},C.a.createElement("div",{className:"FavoriteDialog-FolderIcon"},C.a.createElement(bt,{coverHash:r,id:n,isPrivate:o})),C.a.createElement("div",{className:"FavoriteDialog-FolderLabel".concat(i?" selected":"")},a),C.a.createElement("div",{className:"FavoriteDialog-FolderSelected"},i&&C.a.createElement(je.fb,{name:je.S,width:"16",height:"16"})))}var Ct=function(e){m()(n,e);var t=gt(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"handleClose",(function(){var e=r.props.closeDialogAction;r.onClose(),e()})),b()(u()(r),"onClose",(function(){var e=r.props.resetFavoriteDataAction,t=r.state.selected;Object(N.i)(r.closeTimeOut),e(),t!==ft.a&&r.setState({selected:ft.a}),Object(N.kb)("scroll",r.handleClose)})),b()(u()(r),"handleSelectFolder",(function(e){var t=r.props,n=t.addFavoritesToFolderAction,a=t.postId,o=t.isAlbum;n({id:e,faves:["".concat(o?"album":"image","/").concat(a)],disableMessage:!0}),r.setState({selected:e}),Object(N.yb)(r.handleClose,500)})),b()(u()(r),"onOpen",(function(){(0,r.props.fetchFoldersAction)(),r.closeTimeOut=Object(N.yb)(r.handleClose,1e4),Object(N.c)("scroll",r.handleClose)})),b()(u()(r),"onMouseEnter",(function(){Object(N.i)(r.closeTimeOut),Object(N.kb)("scroll",r.handleClose)})),b()(u()(r),"onMouseLeave",(function(){Object(N.c)("scroll",r.handleClose)})),r.closeTimeOut=null,r.state={selected:ft.a},r}return s()(n,[{key:"componentWillUnmount",value:function(){this.onClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.folders,r=t.postId,o=t.coverHeight,i=t.coverTop,c=t.isCoverFixed,s=this.state.selected;if(!r)return null;var l={top:c?81:o-136+81+i};return C.a.createElement(We.a,{className:"FavoritesFoldersDialog",overlayOpacity:0,name:z.i,isModal:!1,onClose:this.onClose,onOpen:this.onOpen,styles:l},C.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},C.a.createElement("div",{className:"FavoritesFoldersDialog-head"},C.a.createElement("span",null,Object(F.b)("FavoritesFoldersDialogTitle")),C.a.createElement(ze.a,{className:"FavoritesFoldersDialog-head--close",imageSrc:Ye.a[Ye.j],onClick:this.handleClose})),C.a.createElement("div",{className:"FavoritesFoldersDialog-content"},C.a.createElement(yt,null),C.a.createElement("div",{className:"fadeOut fadeOut-top"}),C.a.createElement("div",{className:"FavoritesFoldersDialog-content--list Scrollbar--gray"},n.map((function(t){return C.a.createElement("button",{onClick:function(){return e.handleSelectFolder(t.id||ft.a)},type:"submit",key:t.id||ft.a},C.a.createElement(vt,a()({},t,{isSelected:s===t.id})))}))),C.a.createElement("div",{className:"fadeOut fadeOut-bottom"}))))}}]),n}(C.a.Component);Ct.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSelectFolder",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesFoldersDialog",props:{fetchFoldersAction:{type:{name:"func"},required:!0,description:""},closeDialogAction:{type:{name:"func"},required:!0,description:""},resetFavoriteDataAction:{type:{name:"func"},required:!0,description:""},addFavoritesToFolderAction:{type:{name:"func"},required:!0,description:""},folders:{type:{name:"array"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""}}};var Et=Object(D.b)((function(e){var t=e.favorites,n=e.postsData,r=e.ui;return{folders:t.get("folders").toList().toJS(),postId:n.getIn(["favoriteData","postId"]),isAlbum:n.getIn(["favoriteData","isAlbum"]),coverHeight:r.cover.get("height"),coverTop:r.cover.get("top"),isCoverFixed:r.cover.get("fixed")}}),{fetchFoldersAction:ht.q,closeDialogAction:G.y,resetFavoriteDataAction:we.wb,addFavoritesToFolderAction:ht.k})(Ct),Ot=n("T7zL");n("mky3");function kt(e){var t=e.title,n=e.createAd,r=new Date(n);return C.a.createElement("div",{className:"TitleDate"},C.a.createElement("div",{className:"Title"},t),C.a.createElement("div",{className:"Date"},Object(F.b)("statisticsDialogUploaded")," ",Object(tt.o)(r)))}function Pt(e){var t=e.views,n=e.comments,r=e.bandwidth,a=e.favorites,o=[{title:Object(F.b)("statisticsDialogViews"),value:Object(et.j)(t),icon:C.a.createElement(je.fb,{name:je.db,width:"16",height:"16"})},{title:Object(F.b)("statisticsDialogBandwidth"),value:Object(et.g)(r),icon:C.a.createElement(je.fb,{name:je.Q,width:"16",height:"16"})},{title:Object(F.b)("statisticsDialogComments"),value:Object(et.j)(n),icon:C.a.createElement(je.fb,{name:je.R,width:"16",height:"16"})},{title:Object(F.b)("statisticsDialogFavorites"),value:Object(et.j)(a),icon:C.a.createElement(je.fb,{name:je.ab,width:"16",height:"16"})}];return C.a.createElement("div",{className:"StatisticsData"},o.map((function(e,t){return C.a.createElement("div",{className:"item ".concat(t%2>0?"right":"left"," ").concat(t<2&&"top"),key:t},C.a.createElement("div",{className:"title-icon"},C.a.createElement("div",{className:"title"},e.title),C.a.createElement("div",{className:"icon"},e.icon)),C.a.createElement("div",{className:"value"},e.value))})))}function St(e){var t=e.closeDialog,n=e.meta,r=e.title,a=e.createdAtDate,o=e.coverImage,i=e.mediaSize;if(!n||!n.size)return null;var c={backgroundImage:"url(".concat(o,")")};return C.a.createElement(We.a,{className:"StatisticsDialog",name:z.M,isModal:!1},C.a.createElement("div",{className:"StatisticsDialog-head"},C.a.createElement("span",null,Object(F.b)("statisticsDialogTitle")),C.a.createElement(ze.a,{className:"StatisticsDialog-head--close",imageSrc:Ye.a[Ye.j],onClick:function(){return t()}})),C.a.createElement("div",{className:"StatisticsDialog-content"},C.a.createElement("div",{className:"Background",style:c},C.a.createElement("div",{className:"Background-Overlay"})),C.a.createElement("div",{className:"StatisticsDialog-content-container"},C.a.createElement(kt,{createAd:a,title:r}),C.a.createElement(Ot.a,{points:n.get("point_count"),ups:n.get("upvote_count"),downs:n.get("downvote_count")}),C.a.createElement(Pt,{views:n.get("view_count"),comments:n.get("comment_count"),bandwidth:n.get("view_count")*i,favorites:n.get("favorite_count")}))))}St.__docgenInfo={description:"",methods:[],displayName:"StatisticsDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},meta:{type:{name:"object"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!1,description:""},coverImage:{type:{name:"string"},required:!1,description:""},mediaSize:{type:{name:"number"},required:!1,description:""}}};var Nt=Object(D.b)((function(e){var t=e.postsData;return{meta:t.getIn(["currentPostMeta","post"]),title:t.getIn(["currentPost","title"]),createdAtDate:t.getIn(["currentPost","createdAt"]),coverImage:t.getIn(["currentPost","src","coverImage"]),mediaSize:t.getIn(["currentPost","media"],[]).reduce((function(e,t){return e+parseInt(t.get("size"),10)}),0)}}),{closeDialog:G.y})(St),wt=n("yFeA");n("4KxA");function jt(e){var t=e.viewPortWidth,n=e.post,r=e.streamSection,a=e.streamSort;return Object(N.W)()||t<768||n.get("isAd")?null:C.a.createElement("div",{className:"BottomAd-container"},C.a.createElement(wt.a,{path:M.H,postAdConfig:n.get("adConfig"),refresh:!0,slotTargeting:Object(Te.k)(n,r,a),shouldLazyLoad:!0}))}jt.__docgenInfo={description:"",methods:[],displayName:"BottomAd",props:{post:{type:{name:"object"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var qt=Object(D.b)((function(e){var t=e.display,n=e.gallery;return{viewPortWidth:t.getIn(["viewPort","width"]),streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}}))(jt),It=n("vOx8"),Dt=n("KMpf"),Tt=(n("a/1F"),n("xypG")),At=n("J4zp"),Rt=n.n(At),xt=n("y/zE"),Mt=n("O+9w"),_t=n("JBc3"),Ft=n("129X"),Gt=n("Ot+t"),Lt=n("QlZ4"),Vt=n("2OyZ"),Ut=n("A1Ak"),Bt=n("flVz"),Ht=n("9rNq"),Wt=n("p5w4");function zt(e){var t,n=e.onReport,r=e.onClick,o=e.isReported,i=e.isLoggedIn,c=e.ElementType,s=e.reportType,l=e.id,u=e.isMature,d=e.className,m=Ie()(e,["onReport","onClick","isReported","isLoggedIn","ElementType","reportType","id","isMature","className"]),p=Ce()((t={},b()(t,d,d),b()(t,"disabled",o),t));return C.a.createElement(c,a()({className:p,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),r&&r(e),o)return!1;n(s,l,u,i)}},m),C.a.createElement(je.fb,{className:"icon fill",name:je.z,width:"32",height:"32",fillColor:"#B4B9C2"}),C.a.createElement("span",{className:"label"},Object(F.b)(o?"reported":"report")))}zt.defaultProps={ElementType:"button"};zt.__docgenInfo={description:"",methods:[],displayName:"ReportDropDownOption",props:{ElementType:{defaultValue:{value:"'button'",computed:!1},type:{name:"string"},required:!1,description:""},onReport:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},isReported:{type:{name:"bool"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isMature:{type:{name:"bool"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},reportType:{type:{name:"enum",value:[{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0},{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0}]},required:!0,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var Yt=Object(D.b)((function(e,t){var n=e.user,r=e.report,a=t.reportType,o=t.id;return{isLoggedIn:!!n.get("isLoggedIn"),isReported:a===$.c&&!!r.get("reportedPosts",{})[o]||a===$.b&&!!r.get("reportedComments",{})[o]}}),(function(e){return{onReport:function(t,n,r,a){e(Object(Wt.h)({type:t,id:n,isMature:r})),a&&e(Object(G.I)({name:$.a}))}}}))(zt);n("HCTt");function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Kt=function(e){m()(n,e);var t=Jt(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"download",(function(){var t=e.props,n=t.isAlbum,r=t.postId,a=t.postTitle;n?Object(N.bb)("".concat(me.T,"/a/").concat(r,"/zip")):Object(N.bb)("".concat(me.T,"/download/").concat(r,"/").concat(encodeURIComponent(a)))})),b()(u()(e),"removeFromPublic",(function(){(0,e.props.openDialog)({name:z.K})})),b()(u()(e),"navigateToEditPage",(function(){var t=e.props,n=t.history,r=t.postId,a=t.isAlbum,o=t.isEditBeta,i=Object(Te.g)(r,a);if(o)return n.push(i);Object(N.bb)(i)})),b()(u()(e),"embed",(function(){var t=e.props,n=t.postId,r=t.postTitle,a=t.isAlbum,o=t.setEmbedData,i=t.openDialog,c=t.postTags;i({name:Vt.a}),o(n,r,Vt.b,a,c)})),b()(u()(e),"muteOP",(function(){var t=e.props,n=t.postUsername,r=t.postId,a=t.openDialog,o=t.muteUserData;a({name:He.a}),o(n,He.c,r)})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.postId,n=e.isMature,r=e.hideReport,a=e.isOwner,o=e.isUserLoggedIn,i=e.inGallery;return C.a.createElement("div",{className:"Gallery-Options"},C.a.createElement($.d,{type:$.c}),C.a.createElement(Ht.a,{className:"Gallery-OptionsMenu Dropdown--btn",dropdownIcon:C.a.createElement(je.fb,{name:je.l,width:"32",height:"32"})},C.a.createElement("button",{type:"button",onClick:this.embed},C.a.createElement(je.fb,{className:"icon stroke",name:je.n,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("embed"))),C.a.createElement("button",{type:"button",onClick:this.download},C.a.createElement(je.fb,{className:"icon stroke",name:je.i,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("download"))),!i&&C.a.createElement("button",{type:"button",onClick:function(){return Object(N.X)(Ut.a[Ut.c].href)}},C.a.createElement(je.fb,{className:"icon stroke",name:je.z,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("requestDeletionFooter"))),!r&&C.a.createElement(Yt,{reportType:$.c,id:t,isMature:n}),a&&C.a.createElement(C.a.Fragment,null,C.a.createElement("button",{type:"button",onClick:this.navigateToEditPage},C.a.createElement(je.fb,{className:"icon stroke",name:je.k,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("editPost"))),C.a.createElement("button",{type:"button",onClick:this.removeFromPublic},C.a.createElement(je.fb,{className:"icon stroke",name:je.r,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("removeFromPublic")))),o&&!a&&!r&&C.a.createElement(C.a.Fragment,null,C.a.createElement("button",{type:"button",onClick:this.muteOP},C.a.createElement(je.fb,{className:"icon stroke",name:je.v,width:"32",height:"32"}),C.a.createElement("span",{className:"label"},Object(F.b)("postMuteUser"))))))}}]),n}(C.a.Component),Xt={openDialog:G.I,setEmbedData:Bt.h,muteUserData:Pe.E};Kt.__docgenInfo={description:"",methods:[{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"removeFromPublic",docblock:null,modifiers:[],params:[],returns:null},{name:"navigateToEditPage",docblock:null,modifiers:[],params:[],returns:null},{name:"embed",docblock:null,modifiers:[],params:[],returns:null},{name:"muteOP",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryOptions",props:{postId:{type:{name:"string"},required:!0,description:""},postTitle:{type:{name:"string"},required:!0,description:""},isMature:{type:{name:"bool"},required:!0,description:""},hideReport:{type:{name:"bool"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!0,description:""},onRemoveFromPublic:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isEditBeta:{type:{name:"bool"},required:!1,description:""},setEmbedData:{type:{name:"func"},required:!0,description:""},openDialog:{type:{name:"func"},required:!0,description:""},postTags:{type:{name:"array"},required:!1,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},postUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},inGallery:{type:{name:"bool"},required:!0,description:""}}};var Qt=Object(Ne.c)(Object(D.b)((function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPost","inGallery"]),a=!r,o=n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase();return a||(t.getIn(["currentPost","isAd"])||o)&&(a=!0),{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),isMature:!!t.getIn(["currentPost","isMature"]),hideReport:a,isAlbum:t.getIn(["currentPost","isAlbum"]),isOwner:o,isEditBeta:!!n.getIn(["flags","desktopEditPageBeta"]),postTags:t.getIn(["currentPost","tags"]).map((function(e){return e.get("tag")})).toJS(),postUsername:t.getIn(["currentPost","account","username"]),isUserLoggedIn:n.get("isLoggedIn"),inGallery:r}}),Xt),k.h,Object(Lt.a)(Gt.a,Gt.h))(Kt);n("SeDK");function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var $t=function(e){m()(n,e);var t=Zt(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"setElementPosition",(function(){(0,r.props.setByLInePosition)(parseInt(r.elm.getBoundingClientRect().top+Object(N.L)(),10))})),b()(u()(r),"onProfileClick",(function(e){(0,r.props.onProfileClick)(r.getUsername(),e)})),b()(u()(r),"onUserProfileClick",(function(){return r.onProfileClick("Username Byline")})),b()(u()(r),"onAvatarProfileClick",(function(){return r.onProfileClick("Avatar Byline")})),b()(u()(r),"onGiveEmerald",(function(){var e=r.props,t=e.giveEmeraldData,n=e.username,a=e.postId;t({recipientUsername:n,recipientId:e.accountId,source:Ze.m,postId:a})})),b()(u()(r),"getUserAvatar",(function(){var e=r.props,t=e.avatar,n=e.isPromoted,a=e.isAnnouncement,o=r.isImgurAccount(),i=r.getUsername();return n?C.a.createElement(Ft.a,{className:a?"Gallery-Byline-announcement":""},C.a.createElement(Fe,{className:"author-link",username:i,onClick:r.onAvatarProfileClick},(function(){return C.a.createElement(xt.a,{src:t,username:i,displayUsername:i,className:"uScaleTransition Avatar".concat(o?" Avatar--imgur":"")})})),C.a.createElement(Ft.b,null,C.a.createElement(Se,{isAnnouncement:a}))):C.a.createElement(Fe,{className:"author-link",username:i,onClick:r.onAvatarProfileClick},C.a.createElement(xt.a,{src:t,username:i,displayUsername:i,className:"uScaleTransition Avatar".concat(o?" Avatar--imgur":"")}))})),r.elm=C.a.createRef(),r}return s()(n,[{key:"getUsername",value:function(){var e=this.props.username;return e.toLowerCase()===me.z?me.B:e}},{key:"isImgurAccount",value:function(){return this.getUsername()===me.B}},{key:"componentDidMount",value:function(){var e=this.props.currentPostViewingSummaryAnalytics;this.setElementPosition(),e(),this.maybeFireOpViewAnalytics()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.currentPostViewingSummaryAnalytics,a=t.currentUserId;this.setElementPosition(),e.postId!==n?(r(),this.maybeFireOpViewAnalytics()):a!==e.currentUserId&&this.maybeFireOpViewAnalytics()}},{key:"maybeFireOpViewAnalytics",value:function(){var e=this.props,t=e.currentUserId,n=e.accountId,r=e.postId,a=e.score,o=e.minutesOld,i=e.currentUserReputation,c=e.commentCount,s=e.inGallery,l=e.viewedByOpAnalyticsAction;s&&t===n&&l(r,a,o,c,i)}},{key:"render",value:function(){var e=this,t=this.props,n=t.createdAt,r=t.isPromoted,a=t.views,o=t.platform,i=t.inGallery,c=t.children,s=t.isUserLoggedIn,l=t.isUserLoaded,u=t.currentUsername,d=new Date(n),m=this.getUsername(),p=Ce()({"Info-Wrapper":!0,"hidden-post":!i});return C.a.createElement("div",{className:"Gallery-Byline",ref:function(t){e.elm=t}},m&&this.getUserAvatar(),C.a.createElement("div",{className:p},m&&C.a.createElement("div",{className:"Info"},C.a.createElement(Fe,{className:"author-name".concat(r?" author-name-promoted":""),username:m,onClick:this.onUserProfileClick},(function(e){return r?C.a.createElement(C.a.Fragment,null,C.a.createElement("span",{className:"normal"},Object(F.b)("postByLine")," "),e):e})),C.a.createElement(Mt.a,{currentUsername:u,itemUsername:m,isUserLoaded:l,isPromoted:r,isEnabled:me.u},C.a.createElement(_t.a,{isUserLoggedIn:s,showSmallVersion:!0,showTitle:!0,onClick:this.onGiveEmerald}))),!r&&C.a.createElement("div",{className:"Meta"},C.a.createElement("span",null,Object(et.j)(a)," ","Views"),C.a.createElement("span",{className:"delimiter"},""),C.a.createElement("span",{title:d},Object(tt.o)(d)),o&&o.toLowerCase()!==me.F&&C.a.createElement(C.a.Fragment,null,C.a.createElement("span",{className:"delimiter"},""),C.a.createElement("span",null,"via"," ",C.a.createElement("a",{className:"platform bold",href:"/apps"},Object(et.e)(o)))))),C.a.createElement(Qt,null),c)}}]),n}(C.a.Component);$t.defaultProps={isPromoted:!1,handleFollow:function(e){return Object(N.j)('Follow "'.concat(e,'"?'))}};$t.__docgenInfo={description:"",methods:[{name:"getUsername",docblock:null,modifiers:[],params:[],returns:null},{name:"isImgurAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"maybeFireOpViewAnalytics",docblock:null,modifiers:[],params:[],returns:null},{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null},{name:"getUserAvatar",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryByline",props:{isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleFollow:{defaultValue:{value:'(username) => confirm(`Follow "${username}"?`)',computed:!1},type:{name:"func"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},accountId:{type:{name:"number"},required:!0,description:""},createdAt:{type:{name:"string"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},platform:{type:{name:"string"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""},setByLInePosition:{type:{name:"func"},required:!0,description:""},currentPostViewingSummaryAnalytics:{type:{name:"func"},required:!0,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},currentUserId:{type:{name:"number"},required:!1,description:""},score:{type:{name:"number"},required:!0,description:""},minutesOld:{type:{name:"number"},required:!0,description:""},currentUserReputation:{type:{name:"number"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},viewedByOpAnalyticsAction:{type:{name:"func"},required:!0,description:""}}};var en=Object(D.b)((function(e){var t=e.postsData,n=e.user;return{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),inGallery:t.getIn(["currentPost","inGallery"]),isUserLoggedIn:n.get("isLoggedIn"),isUserLoaded:n.get("isLoaded"),currentUsername:n.get("username")||"",currentUserId:n.get("id"),currentUserReputation:n.get("reputation")}}),{currentPostViewingSummaryAnalytics:we.Z,setByLInePosition:we.Hb,onProfileClick:Pe.S,giveEmeraldData:st.r,viewedByOpAnalyticsAction:we.Yb})($t);n("XF+e");function tn(e){var t=e.accolades,n=e.onClick;return C.a.createElement("div",{className:"AccoladesBadge"},t.map((function(e,t){return C.a.createElement("div",{key:t,className:Ce()(b()({"AccoladesBadge-item":!0},"AccoladesBadge-item-".concat(t),!0)),onClick:n,title:"This post has been awarded the ".concat(e.get("name")," Accolade")},C.a.createElement(it.a,{imageUrl:e.get("image_url"),imageName:e.get("name"),background:t>0}))})))}tn.__docgenInfo={description:"",methods:[],displayName:"AccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var nn=n("Et25");function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var an=function(e){m()(n,e);var t=rn(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.accolades,n=e.openDialogAction;return t&&0!==t.size?C.a.createElement("div",{className:"Gallery-AccoladesBadge"},C.a.createElement(tn,{accolades:t,onClick:function(){n({name:Ze.a,eventSource:q.a.CLICKED_BADGE})}})):null}}]),n}(C.a.Component);an.__docgenInfo={description:"",methods:[],displayName:"GalleryAccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""}}};var on=Object(D.b)((function(e){var t=e.postsData;return{accolades:Object(nn.c)(t.getIn(["currentPostMeta","accolades","available"]),t.getIn(["currentPostMeta","post","accolades_counts"]))}}),{openDialogAction:G.I})(an);n("OQdq");function cn(e){var t=e.post,n=e.transformationTitleStyle,r={postId:t.get("id"),username:t.getIn(["account","username"],""),avatar:t.getIn(["account","avatar_url"]),accountId:t.getIn(["account","id"],0),createdAt:t.get("createdAt"),views:t.get("views"),platform:t.get("platform"),isPromoted:t.get("isAd"),score:t.get("score",0),minutesOld:Object(tt.m)(t.get("createdAt")),commentCount:t.get("commentCount"),isAnnouncement:t.get("isAnnouncement")},a=t.get("title"),o=!a||!a.length,i=!Object(Te.m)(t);return C.a.createElement("div",{className:"Gallery-Header"},C.a.createElement("div",{style:n,className:"Gallery-Title".concat(t.get("title").length>80?" long":"")},!o&&C.a.createElement("div",{className:"row"},C.a.createElement("span",null,t.get("title")),i&&C.a.createElement(_e,{header:!0}))),C.a.createElement(en,r,o&&i&&C.a.createElement(_e,{header:!0})),C.a.createElement(on,null))}cn.__docgenInfo={description:"",methods:[],displayName:"GalleryHeader",props:{post:{type:{name:"object"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var sn=n("FP0a"),ln=n.n(sn),un=n("26Ob"),dn=n("2c7z"),mn=n("1coQ"),pn=n("CG6i"),fn=n("cG8M"),hn=n("aYmD"),gn=n("yA1n"),yn="a",bn="iframe",vn={hashtag:yn,mention:yn,url:yn,iframe:bn},Cn={hashtag:function(e){return"/t/".concat(e.get("tag"))},mention:function(e){return"/user/".concat(e.get("username"))},url:function(e){return e.get("url")},iframe:function(e){return e.get("attributes").reduce((function(e,t,n){return e+="".concat(n,'="').concat(t,'" ')}),"")}};var En=n("ej/z"),On=n("Uhiq");function kn(e){var t=e.shouldHide,n=e.post,r=e.path,a=e.dimensions,o=e.streamSection,i=e.streamSort;return t?null:C.a.createElement(wt.a,{postAdConfig:n.get("adConfig"),path:r,slotTargeting:Object(Te.k)(n,o,i),shouldLazyLoad:!0,dimensions:a})}kn.__docgenInfo={description:"",methods:[],displayName:"GalleryContentAd",props:{post:{type:{name:"object"},required:!0,description:""},path:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!0,description:""},dimensions:{type:{name:"array"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},shouldHide:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var Pn=Object(D.b)((function(e,t){var n=e.gallery,r=t.post,a=t.viewPortWidth;return{shouldHide:Object(N.W)()||r.get("isAd")||!a,streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}}))(kn);n("nFdL");function Sn(e){var t=e.message,n=e.onClick;return C.a.createElement("div",{className:"loadMoreContainer"},C.a.createElement("button",{type:"button",className:"loadMore",onClick:n},C.a.createElement("div",{className:"BgHover"}),C.a.createElement("div",{className:"text"},C.a.createElement("span",null,t)," ",C.a.createElement(je.fb,{name:je.T,width:"18",height:"18",alt:""}))))}Sn.__docgenInfo={description:"",methods:[],displayName:"LoadMoreButton",props:{message:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};n("0pwo");function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var wn=1,jn=2;function qn(e){var t=e.post;return C.a.createElement("div",{className:"Gallery-ContentWrapper"},C.a.createElement(Dn,{post:t}))}var In=function(e){m()(n,e);var t=Nn(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"loadMore",(function(){var e=r.props,t=e.onLoadMore,n=e.resetMediaHeightForPostAction,a=e.post,o=r.state.isExtended,i=a.get("id");o||(n(i),r.setState({isExtended:!0,renderMode:wn},t))})),b()(u()(r),"onKeyboardInteraction",(function(e){return e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName)||"9"===e.key&&r.loadMore(),e})),b()(u()(r),"onResize",(function(){var e=r.props;(0,e.resetMediaHeightForPostAction)(e.post.get("id"))})),b()(u()(r),"handleIntersection",(function(e){e.forEach((function(e){var t=r.props,n=t.addVideoToViewListAction,a=t.removeVideoFromViewListAction,o=e.target.getAttribute("hash"),i=e.boundingClientRect.top<0?gn.b.GALLERY.TOP:gn.b.GALLERY.BOTTOM;e.intersectionRatio>i?n(o):a(o)}))})),b()(u()(r),"renderLoadMore",(function(e){return C.a.createElement(Sn,{message:Object(F.b)("loadMoreImages",e),onClick:r.loadMore})})),r.state={isExtended:!1,renderMode:wn},r.intersectionObserver=Object(On.a)(r.handleIntersection,{rootMargin:Object(On.b)("px",-j.f),threshold:[gn.b.HIDE,gn.b.GALLERY.TOP,gn.b.GALLERY.BOTTOM]}),r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction),Object(N.c)("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.post,n=e.post,r=this.state.renderMode,a=t.get("id");n.get("id")!==a&&this.setState({isExtended:!1}),r===wn&&this.setState({renderMode:jn})}},{key:"componentWillUnmount",value:function(){Object(N.kb)("keydown",this.onKeyboardInteraction),Object(N.kb)("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.onMainContentReady,a=t.maxWidth,o=t.zoom,i=t.isWebPSupported,c=t.setMediaHeightForPostAction,s=this.state,l=s.isExtended,u=s.renderMode,d=n.get("media"),m=n.get("meta"),p=n.get("id"),f=n.get("title"),h=n.get("description"),g=n.get("inGallery"),y=Rt()(M.r,1)[0],b=d.size,v=d;l||u!==jn||(v=v.slice(0,z.c));var E=v.map((function(e){if(e.get("renderHeight"))return e.get("renderHeight");var t=0;return t=a>=e.get("width")?e.get("height"):a*e.get("height")/e.get("width"),e.get("isVideo")&&t>window.innerHeight&&(t*=.8),Math.ceil(t)})),O=v.map((function(t,s){var l=Object(L.c)(g,s+1,b)&&a>=y;return C.a.createElement(C.a.Fragment,{key:t.get("id")},C.a.createElement(Tn,{maxWidth:a,mediaItem:t,postMeta:m,onMediaReady:0===s?r:void 0,index:s,zoom:o,isWebPSupported:i,postId:p,setMediaHeightForPostAction:c,renderMode:u,mediaHeight:E.get(s),intersectionObserver:e.intersectionObserver,postTitle:f,postDescription:h,mediaDescription:t.getIn(["metadata","description"]),tags:n.get("tags")?n.get("tags").toJS():[]}),l&&C.a.createElement("div",{className:"Gallery-Content--ad"},C.a.createElement(Pn,{post:n,path:M.L,dimensions:M.r,viewPortWidth:a})))}));return u===wn?C.a.createElement(C.a.Fragment,null,O,!l&&d.size>z.c&&this.renderLoadMore(d.size-z.c)):C.a.createElement(C.a.Fragment,null,C.a.createElement(ln.a,{elementHeight:E.toJS(),useWindowAsScrollContainer:!0},O),!l&&d.size>z.c&&this.renderLoadMore(d.size-z.c))}}]),n}(C.a.Component),Dn=Object(D.b)((function(e){var t=e.ui,n=e.agent;return{maxWidth:t.gallery.get("contentWrapperWidth"),isWebPSupported:n.get(hn.s)}}),{onLoadMore:we.lb,onMainContentReady:we.mb,zoom:un.b,setMediaHeightForPostAction:we.Jb,resetMediaHeightForPostAction:we.xb,addVideoToViewListAction:dn.i,removeVideoFromViewListAction:dn.j})(In),Tn=function(e){m()(n,e);var t=Nn(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"setHeight",(function(){var e=r.props,t=e.setMediaHeightForPostAction,n=e.postId,a=e.mediaItem,o=e.index;a.get("renderHeight")!==r.mediaContainer.current.offsetHeight&&t(n,o,r.mediaContainer.current.offsetHeight)})),r.mediaContainer=C.a.createRef(),r}return s()(n,[{key:"componentDidMount",value:function(){this.setHeight()}},{key:"componentDidUpdate",value:function(){this.setHeight()}},{key:"render",value:function(){var e=this.props,t=e.mediaItem,n=e.onMediaReady,r=e.index,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=e.renderMode,s=e.mediaHeight,l=e.intersectionObserver,u=e.postTitle,d=e.tags,m=e.postDescription,p=t.toJS(),f=p.id,h=p.isVideo,g=p.meta,y=p.src,b=p.animationType,v=p.url,E=p.width,O=p.height,k=p.isPicsart,P=Object(En.a)(a,E,O),S=Ce()({"Gallery-Content--media":!0,"Gallery-Content--unconstrained":!Object(En.b)(E,O)}),N=y.coverImage;return i&&b===z.u&&(N=y.webPImage),C.a.createElement("div",{ref:this.mediaContainer,className:"Gallery-Content--mediaContainer"},C.a.createElement("div",{className:S},c===wn&&C.a.createElement("div",{style:{height:s}}),c!==wn&&(h?C.a.createElement(fn.a,{src:y,animationType:b,playVideo:!1,playVideoByOne:!0,handleCanPlay:n,onError:n,controls:!0,hash:f,isFirst:0===r,width:E,height:O,maxHeight:P,title:g.title,index:r,intersectionObserver:l,postTitle:u,mediaDescription:g.description,postDescription:m,tags:d}):C.a.createElement(pn.a,{hash:f,thumbSrc:N,originalSrc:v,onLoad:n,onError:n,withOriginalImage:!0,width:E,height:O,maxHeight:P,zoom:o,title:g.title,index:r,poweredBy:k&&Object(F.b)("poweredByPicsart"),postTitle:u,mediaDescription:g.description,postDescription:m,tags:d}))),g.description&&C.a.createElement(An,{description:t.getIn(["meta","description"]),textAnnotations:t.getIn(["meta","text_annotations"])}))}}]),n}(C.a.Component);function An(e){var t,n,r,a,o=e.description,i=e.textAnnotations;return t=i?C.a.createElement("div",{dangerouslySetInnerHTML:(n=o,r=i,a=n.split(""),{__html:r.filter((function(e,t){return t in vn})).reduce((function(e,t,n){return t.forEach((function(t){var r=t.get("indices").get(0),a=t.get("indices").get(1)-1;switch(vn[n]){case yn:return e[r]="<".concat(yn,' target="_blank" href="').concat(Cn[n](t),'">').concat(e[r]),void(e[a]="".concat(e[a],"</").concat(yn,">"));case bn:e[r]="<".concat(bn," ").concat(Cn[n](t),"></").concat(bn,">")}})),e}),a).join("")})}):C.a.createElement(mn.a,null,o),C.a.createElement("div",{className:"Gallery-Content--descr"},t)}In.defaultProps={onMediaReady:function(){}},qn.__docgenInfo={description:"",methods:[],displayName:"GalleryPostContent",props:{post:{type:{name:"object"},required:!0,description:""}}},In.__docgenInfo={description:"",methods:[{name:"loadMore",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onResize",docblock:null,modifiers:[],params:[],returns:null},{name:"handleIntersection",docblock:null,modifiers:[],params:[{name:"entries",optional:!1,type:null}],returns:null},{name:"renderLoadMore",docblock:null,modifiers:[],params:[{name:"count",optional:!1,type:null}],returns:null}],displayName:"PostDefaultView",props:{onMediaReady:{defaultValue:{value:"() => {}",computed:!1},required:!1},post:{type:{name:"object"},required:!0,description:""},onLoadMore:{type:{name:"func"},required:!0,description:""},onMainContentReady:{type:{name:"func"},required:!0,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},resetMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},addVideoToViewListAction:{type:{name:"func"},required:!0,description:""},removeVideoFromViewListAction:{type:{name:"func"},required:!0,description:""}}},Tn.__docgenInfo={description:"",methods:[{name:"setHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDefaultViewMedia",props:{mediaItem:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onMediaReady:{type:{name:"func"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},renderMode:{type:{name:"number"},required:!0,description:""},mediaHeight:{type:{name:"number"},required:!1,description:""},intersectionObserver:{type:{name:"object"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},mediaDescription:{type:{name:"string"},required:!1,description:""},postDescription:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"arrayOf",value:{name:"object"}},required:!1,description:""}}},An.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewDescription",props:{description:{type:{name:"string"},required:!0,description:""},textAnnotations:{type:{name:"object"},required:!1,description:""}}};n("yzGh");function Rn(e){var t=e.backgroundHash,n=e.children,r=e.tagLink,a=e.onClick,o="linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(".concat(me.U,"/").concat(t,"_d.jpg?maxwidth=200&fidelity=grand)");return C.a.createElement(De.b,{className:"TagPill",to:r,style:{background:o},onClick:a},n)}function xn(e){var t=e.tags,n=e.onTagInteracted,r=e.isMainContentReady;return C.a.createElement("div",{className:"Gallery-Content--tags"},r&&t.map((function(e){var t=e.get("tag");return C.a.createElement(Rn,{key:t,backgroundHash:e.get("background_id"),tagLink:"/t/".concat(t),onClick:function(){return n(t)}},e.get("display")||e.get("tag"))})))}Rn.defaultProps={onClick:function(){}},Rn.__docgenInfo={description:"",methods:[],displayName:"TagPill",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},backgroundHash:{type:{name:"string"},required:!1,description:""},tagLink:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""}}};xn.__docgenInfo={description:"",methods:[],displayName:"GalleryTags",props:{tags:{type:{name:"object"},required:!0,description:""},onTagInteracted:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""}}};var Mn=Object(D.b)((function(e){return{isMainContentReady:!!e.postsData.get("isMainContentReady")}}),{onTagInteracted:we.pb})(xn),_n=n("wKGW");n("5e9/");function Fn(e){var t=e.title,n=e.icon,r=e.stat,a=e.text,o=e.link,i=C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{className:"OPStats-title"},t),C.a.createElement("div",{className:"OPStats-icon"},n),r&&C.a.createElement("div",{className:"OPStats-stat"},Object(et.i)(r)),C.a.createElement("div",{className:"OPStats-text"},a));return o?C.a.createElement(De.a,{to:{pathname:o},target:"_blank",className:"OPStats-card"},i):C.a.createElement("div",{className:"OPStats-card"},i)}function Gn(e){var t=e.score,n=e.seed,r="",a="",o="";return t<=5?(r="https://blog.".concat(me.S,"/2015/05/20/how-to-reach-the-front-page/"),a=Object(F.b)("opStatsTipsNoobLabel"),o=Object(F.b)("opStatsTipsNoobText",n)):(a=Object(F.b)("opStatsTipsMasterLabel"),o=Object(F.b)("opStatsTipsMasterText",n)),C.a.createElement(Fn,{title:a,icon:C.a.createElement(je.fb,{name:je.G,width:"29",height:"29"}),text:o,link:r})}function Ln(e){var t=e.tags,n=e.hash,r=e.isAlbum,a=e.score,o=e.seed,i=t.get(o%t.size),c="",s=!1;return 0===t.size?(c="/".concat(r?"a/":"").concat(n),s=!0):i&&a>=5&&(c="/t/".concat(i),s=!0),s?C.a.createElement(Fn,{title:Object(F.b)("opStatsTagsLabel",t.size),icon:C.a.createElement(je.fb,{name:je.F,width:"29",height:"29"}),text:Object(F.b)("opStatsTagsText",t.size,i,o),link:c}):null}function Vn(e){var t=e.post,n=e.postMeta,r=e.isFavoritedByOP;if(!t||!n)return null;var a=Object(tt.m)(t.get("createdAt")),o=new Date(t.get("createdAt")).getTime(),i=r?1:0,c=n.get("favorite_count")-i>0,s=null;return s=a<15?C.a.createElement(Fn,{title:Object(F.b)("opStatsTipsNewLabel"),icon:C.a.createElement(je.fb,{name:je.G,width:"29",height:"29"}),text:Object(F.b)("opStatsTipsNewText")}):C.a.createElement(C.a.Fragment,null,n.get("view_count")>0&&C.a.createElement(Fn,{title:Object(F.b)("opStatsViewsLabel"),icon:C.a.createElement(je.fb,{name:je.x,width:"29",height:"29"}),stat:n.get("view_count"),text:Object(F.b)("opStatsViewsText",o)}),C.a.createElement(Gn,{score:n.get("point_count"),seed:o}),n.get("upvote_count")>1&&C.a.createElement(Fn,{title:Object(F.b)("opStatsUpvotesLabel"),icon:C.a.createElement(je.fb,{name:je.I,width:"29",height:"29",fillColor:_n.$darkMintGreen,strokeColor:_n.$darkMintGreen}),stat:n.get("upvote_count"),text:Object(F.b)("opStatsUpvotesText",o)}),c&&C.a.createElement(Fn,{title:Object(F.b)("opStatsFavoritesLabel"),icon:C.a.createElement(je.fb,{name:je.q,width:"29",height:"29",fillColor:_n.$tealish,strokeColor:_n.$tealish}),stat:n.get("favorite_count"),text:Object(F.b)("opStatsFavoritesText",n.get("favorite_count"),o)}),n.get("comment_count")>0&&C.a.createElement(Fn,{title:Object(F.b)("opStatsCommentsLabel"),icon:C.a.createElement(je.fb,{name:je.g,width:"29",height:"29",fillColor:_n.$lavender,strokeColor:_n.$lavender}),stat:n.get("comment_count"),text:Object(F.b)("opStatsCommentsText",o)}),C.a.createElement(Ln,{tags:t.get("tags").map((function(e){return e.get("tag")})),hash:t.get("id"),isAlbum:t.get("isAlbum"),score:n.get("point_count"),seed:o}),t.get("inMostViral")&&C.a.createElement(Fn,{title:Object(F.b)("opStatsViralLabel"),icon:C.a.createElement(je.fb,{name:je.J,width:"29",height:"29"}),text:Object(F.b)("opStatsViralText",o)})),C.a.createElement("div",null,C.a.createElement("h3",{className:"OPStats-header"},Object(F.b)("opStatsTitle")),C.a.createElement("div",{className:"OPStats"},s))}Vn.__docgenInfo={description:"",methods:[],displayName:"OPStats",props:{post:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},isFavoritedByOP:{type:{name:"bool"},required:!1,description:""}}};var Un=Object(D.b)((function(e){var t=e.postsData;return{post:t.get("currentPost"),postMeta:t.getIn(["currentPostMeta","post"]),isFavoritedByOP:t.getIn(["currentPostMeta","user","favorite"],!1)}}),{})(Vn);function Bn(e){var t=e.post,n=e.unfilledAdSenseCallback;return C.a.createElement("div",{className:"Gallery-Content-AdSense"},C.a.createElement(wt.a,{postAdConfig:t.get("adConfig"),path:M.c,selectedProvider:de.a,unfilledAdSenseCallback:n}))}Fn.__docgenInfo={description:"",methods:[],displayName:"StatCard",props:{title:{type:{name:"string"},required:!0,description:""},icon:{type:{name:"element"},required:!0,description:""},stat:{type:{name:"number"},required:!1,description:""},text:{type:{name:"node"},required:!0,description:""},link:{type:{name:"string"},required:!1,description:""}}},Gn.__docgenInfo={description:"",methods:[],displayName:"TipsAndTricksCard",props:{score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}},Ln.__docgenInfo={description:"",methods:[],displayName:"TagCard",props:{tags:{type:{name:"object"},required:!0,description:""},hash:{type:{name:"string"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}},Bn.__docgenInfo={description:"",methods:[],displayName:"GalleryContentAdSense",props:{post:{type:{name:"object"},required:!0,description:""},unfilledAdSenseCallback:{type:{name:"func"},required:!1,description:""}}};n("y/VL");function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Wn=function(e){m()(n,e);var t=Hn(n);function n(e){var r;i()(this,n),r=t.call(this,e),b()(u()(r),"unfilledAdSenseCallback",(function(){r.setState({shouldShowAdSense:!1})}));var a=e.post;return r.state={shouldShowAdSense:Object(L.d)(a)},r}return s()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.post,n=e.post;t.get("id")!==n.get("id")&&this.setState({shouldShowAdSense:Object(L.d)(t)})}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationTitleStyle,r=e.isOwner,a=e.contentWidth,o=this.state.shouldShowAdSense,i=t.get("tags"),c=Rt()(M.r,1)[0],s=!o&&a>=c;return C.a.createElement("div",{className:"Gallery-Content"},C.a.createElement(cn,{post:t,transformationTitleStyle:n}),C.a.createElement(qn,{post:t}),i&&!!i.size&&C.a.createElement(Mn,{tags:i}),r&&C.a.createElement(Un,null),o&&C.a.createElement(Bn,{post:t,unfilledAdSenseCallback:this.unfilledAdSenseCallback}),s&&C.a.createElement("div",{className:"Gallery-Content-BottomAd"},C.a.createElement(Pn,{post:t,path:M.G,dimensions:M.r,viewPortWidth:a})))}}]),n}(C.a.Component);Wn.__docgenInfo={description:"",methods:[{name:"unfilledAdSenseCallback",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryContent",props:{post:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},contentWidth:{type:{name:"number"},required:!1,description:""}}};var zn=Object(D.b)((function(e){return{contentWidth:e.ui.gallery.get("contentWrapperWidth")}}),null)(Wn),Yn=n("KmZl"),Jn=n("A9fp"),Kn=n("fcmQ");n("wT/c");function Xn(e){var t=e.key,n=e.postId,r=e.cover,a=e.title,o=e.gallerySize,i=e.isPromoted,c=e.onMouseEnter,s=e.onMouseLeave,l=e.onClick,u=e.isActive,d=e.isAnnouncement;return C.a.createElement(Re,{className:"SidebarPost".concat(u?" active":""),onMouseEnter:c,onMouseLeave:s,onClick:function(){l(i,o,t)},postId:n},C.a.createElement("div",{className:"hover-bg"}),C.a.createElement("div",{className:"Thumbnail"},o>1&&C.a.createElement("span",{className:"counter"},o),C.a.createElement("img",{src:r,loading:"lazy",width:64,height:64})),C.a.createElement("div",{className:"description"},i&&C.a.createElement(Se,{isAnnouncement:d}),C.a.createElement("span",{className:"label"},Object(et.p)(a,z.G))))}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}Xn.__docgenInfo={description:"",methods:[],displayName:"SidebarPost",props:{key:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},cover:{type:{name:"string"},required:!1,description:""},gallerySize:{type:{name:"number"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},onMouseEnter:{type:{name:"func"},required:!1,description:""},onMouseLeave:{type:{name:"func"},required:!1,description:""},isActive:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Zn=function(e){m()(n,e);var t=Qn(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"handleAdUpdate",(function(){(0,r.props.handleAdUpdate)(r.container.current.clientHeight)})),r.callback=r.callback.bind(u()(r)),r.state={show:!1},r.container=C.a.createRef(),r.mutationObserver=new MutationObserver(r.handleAdUpdate.bind(u()(r))),r.resizeObserver=new ResizeObserver(r.handleAdUpdate.bind(u()(r))),r}return s()(n,[{key:"componentDidMount",value:function(){this.mutationObserver.observe(this.container.current,{childList:!0,subtree:!0,attributes:!0}),this.resizeObserver.observe(this.container.current)}},{key:"componentDidUpdate",value:function(){this.handleAdUpdate()}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.classNames,a=n.postId,o=n.adsEnabled;return this.state.show!==t.show||r!==e.classNames||a!==e.postId||o!==e.adsEnabled}},{key:"callback",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props.classNames,t=Ce()(e,{"hide!":!this.state.show});return C.a.createElement("div",{ref:this.container,className:t},C.a.createElement(wt.a,{adsEnabled:this.props.adsEnabled,path:this.props.slotPath,postAdConfig:this.props.postAdConfig,refresh:!0,slotTargeting:this.props.slotTargeting,callback:this.callback}))}}]),n}(C.a.Component);function $n(e){var t=e.postId,n=e.adConfig,r=e.adsEnabled,a=e.targeting,o=e.viewportHeight>=Yn.$sidebar600adMinHeightToShow;return C.a.createElement(Zn,{postId:t,slotPath:o?M.I:M.J,postAdConfig:n,adsEnabled:r,slotTargeting:a,classNames:Ce()("ad-slot",{Top300x600:o,Top320:!o})})}Zn.defaultProps={handleAdUpdate:function(){}},Zn.__docgenInfo={description:"",methods:[{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAdUpdate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SidebarAd",props:{handleAdUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},slotPath:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!1,description:""},classNames:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""}}},$n.__docgenInfo={description:"",methods:[],displayName:"SidebarResponsiveAd",props:{postId:{type:{name:"string"},required:!0,description:""},adConfig:{type:{name:"object"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},targeting:{type:{name:"object"},required:!0,description:""},viewportHeight:{type:{name:"number"},required:!0,description:""}}};var er=$n,tr=n("enaV"),nr=n("vuO0"),rr=n("ukqn");function ar(e){var t=e.isIncludeIcon,n=e.copy;return C.a.createElement(C.a.Fragment,null,t&&C.a.createElement("span",{role:"img","aria-label":"fire",className:"emoji"},""),n)}function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}ar.__docgenInfo={description:"",methods:[],displayName:"TitleComponent",props:{isIncludeIcon:{type:{name:"bool"},required:!1,description:""},copy:{type:{name:"any"},required:!0,description:""}}};var ir=function(e){var t=function(t){m()(r,t);var n=or(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"getTitleCopy",(function(){var e=t.props,n=e.streamSection,r=e.streamSort,a=e.streamWindow;return n===_.F?Object(F.b)("recircTitle".concat(n).concat(a)):[_.H,_.r,_.t].includes(n)?Object(F.b)("recircTitle".concat(n).concat(r)):Object(F.b)("recircTitle".concat(_.r).concat(_.A))})),b()(u()(t),"TitleComponent",(function(){return C.a.createElement(ar,{copy:t.getTitleCopy(),isIncludeIcon:t.props.streamSort===_.A&&t.props.streamSection!==_.F})})),t.state={Component:null},t}return s()(r,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.posts,o=n.streamSection,i=n.history,c=!(r&&r.size&&[_.F,_.H,_.r,_.t].includes(o)&&"PUSH"===i.action);this.setState({Component:Object(nr.a)(c,!1,!1)((function(n){return C.a.createElement(e,a()({Title:t.TitleComponent},n))}))})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?C.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(tr.b)())},location:M.g}):null}}]),r}(C.a.Component);t.displayName="WithSidebarHPHOC(".concat(Object(rr.b)(e),")");return Object(Ne.c)(Object(D.b)((function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),streamSort:n.get("streamSort"),streamWindow:n.get("streamWindow")}}),{setInitialGalleryState:x.S}),k.h)(t)};function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var sr=function(e){var t=function(t){m()(r,t);var n=cr(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"TitleComponent",(function(){var e=t.state.sort,n=t.props.streamDisplayName;return C.a.createElement(ar,{copy:Object(F.b)("recircTitleTag".concat(e),Object(et.q)(n,24)),isIncludeIcon:e===_.A})})),t.state={Component:null,sort:_.A},t}return s()(r,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.posts,o=n.streamSort,i=n.history;this.setState({Component:Object(nr.a)(!(r&&r.size&&"PUSH"===i.action),!1,!1)((function(n){return C.a.createElement(e,a()({Title:t.TitleComponent},n))})),sort:_.O[_.C].includes(o)?o:_.A})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.match.params.tagName,r=t.setInitialGalleryState;return C.a.createElement(e,{setGalleryParams:function(){return r(Object(tr.d)(n))}})}}]),r}(C.a.Component);t.displayName="WithSidebarTagHOC(".concat(Object(rr.b)(e),")");return Object(Ne.c)(Object(D.b)((function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSort:n.get("streamSort"),streamDisplayName:n.get("streamDisplayName")}}),{setInitialGalleryState:x.S}),k.h)(t)},lr=n("KhJ6"),ur=n("lQn5");function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var mr=function(e){var t=function(t){m()(r,t);var n=dr(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"getCopyTitle",(function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement("span",null,t.props.username||t.props.match.params.username),Object(F.b)("recircTitleFavorites"))})),b()(u()(t),"TitleComponent",(function(){return C.a.createElement(ar,{copy:t.getCopyTitle(),isIncludeIcon:!1})})),t.state={Component:null},t}return s()(r,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.posts,o=n.history;n.isFoldersFetched||this.props.fetchFolders(),this.setState({Component:Object(ur.a)(!(r&&r.size&&"PUSH"===o.action))((function(n){return C.a.createElement(e,a()({Title:t.TitleComponent},n))}))})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.username,r=t.isOwner,a=t.isLoggedIn;return C.a.createElement(e,{username:n,isOwner:r,isLoggedIn:a})}}]),r}(C.a.Component);t.displayName="WithSidebarFavoriteHOC(".concat(Object(rr.b)(e),")");return Object(Ne.c)(k.h,Object(D.b)((function(e,t){var n=e.posts,r=e.favorites,a=e.account,o=e.user,i=t.match,c=t.history,s=Object(lr.a)(o,a,c,i);return{posts:n.get("posts"),username:s,isOwner:o.get("username")===s,isFoldersFetched:r.get("isFoldersFetched"),isLoggedIn:!!o.get("isLoggedIn")}}),{fetchPublicFolders:ht.s,fetchFolders:ht.q}))(t)};function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var fr=function(e){var t=function(t){m()(r,t);var n=pr(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"TitleComponent",(function(){return C.a.createElement(ar,{copy:Object(F.b)("recircTitleSearch",Object(et.q)(t.props.searchQuery,24)),isIncludeIcon:!1})})),t.state={Component:null},t}return s()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState({Component:Object(nr.a)(!0,!1,!1)((function(n){return C.a.createElement(e,a()({Title:t.TitleComponent},n))}))})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?C.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(tr.c)(e.props.searchQuery))}}):null}}]),r}(C.a.Component);t.displayName="WithSidebarSearchHOC(".concat(Object(rr.b)(e),")");return Object(Ne.c)(Object(D.b)((function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),searchQuery:n.get("searchQuery")}}),{setInitialGalleryState:x.S}),k.h)(t)};function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var gr=n("Ywtv");function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var br=function(e){m()(n,e);var t=yr(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).impressionTimer=null,r.iframeRef=null,r.writeIframe=r.writeIframe.bind(u()(r)),r}return s()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.promotedPostProxyPixelAction;if(n){var a=n.impressionUrl;a&&(this.impressionTimer=Object(N.vb)((function(){e.iframeRef&&Object(ee.c)(e.iframeRef)&&(Object(N.W)()&&Object(Kn.m)(a)?r(a):Object(Kn.c)(a),Object(N.h)(e.impressionTimer))}),800))}}},{key:"componentWillUnmount",value:function(){Object(N.h)(this.impressionTimer)}},{key:"writeIframe",value:function(e){if(e){this.iframeRef=e;var t,n,r,a,o=this.props.data,i=e.contentDocument;switch(Object(gr.a)(o,"contents.0.data.customData.adType")){case"hash":case"native":n="".concat(me.U,"/").concat(Object(gr.a)(o,"contents.0.data.customData.hash"),".jpg"),r=Object(gr.a)(o,"contents.0.data.customData.link"),a=Object(gr.a)(o,"contents.0.data.customData.title"),t='<a href="'.concat(r,'" rel="nofollow" target="_blank" title="').concat(a,'"><img src="').concat(n,'" title="').concat(a,'" alt="').concat(a,'" border="0" width="300" height="250"></a>');break;case"html":t=Object(gr.a)(o,"contents.0.data.customData.html");break;default:t=Object(gr.a)(o,"contents.0.body")}i.open(),i.write(t),i.close()}}},{key:"render",value:function(){return this.props.data?C.a.createElement("div",{className:"Top320 MedRec ad-slot"},C.a.createElement("iframe",{ref:this.writeIframe,className:"Gallery-Sidebar-CompanionAd",title:"companion ad",width:"300",height:"250",marginWidth:"0",marginHeight:"0",hspace:"0",vspace:"0",scrolling:"no",frameBorder:"0",seamless:"seamless",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"})):null}}]),n}(C.a.Component);br.__docgenInfo={description:"",methods:[{name:"writeIframe",docblock:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML\n@param {node} frame",modifiers:[],params:[{name:"frame",description:null,type:{name:"node"},optional:!1}],returns:null,description:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML"}],displayName:"CompanionAd",props:{data:{type:{name:"object"},required:!1,description:""},promotedPostProxyPixelAction:{type:{name:"func"},required:!0,description:""}}};var vr=Object(D.b)(null,{promotedPostProxyPixelAction:we.qb})(br);n("7TkL");function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Er=Yn.$recircElmHeight+Yn.$recircElmMargin;function Or(e,t){var n="".concat(me.U,"/").concat(t);return n+=e?"_d.".concat(Jn.d,"?maxwidth=").concat(Jn.c,"&shape=thumb"):"b.".concat(Jn.b)}var kr=function(e){m()(n,e);var t=Cr(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"getElementHeights",(function(){var e=r.props.postOrder,t=r.state.elementHeights;return e.size===t.length?t:Array(e.size).fill(Er)})),b()(u()(r),"scrollToCurrentPost",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(r.postsComp&&r.postsComp.scrollable&&r.props.postIndex>=0){var t=r.props.postIndex*Er-r.postsComp.scrollable.scrollTop;if(!t)return;if(Math.abs(t)>4*Er)r.postsComp.scrollable.classList[e?"remove":"add"]("without-smoothScroll"),r.postsComp.scrollable.scrollTop=r.props.postIndex*Er;else{r.postsComp.scrollable.classList.add("without-smoothScroll");var n=r.postsComp.scrollable.firstChild;n.addEventListener("transitionend",r.onTransitionEnd),n.style.transform="translate(0, ".concat(-1*t,"px)"),n.classList.add("scroll")}}})),b()(u()(r),"onTransitionEnd",(function(e){var t=r.postsComp.scrollable.firstChild;e.target===t&&(r.postsComp.scrollable.scrollTop=r.props.postIndex*Er,t.style.transform="translate(0, 0)",t.classList.remove("scroll"),t.removeEventListener("transitionend",r.onTransitionEnd))})),b()(u()(r),"handlePostClick",(function(e,t){var n=r.props,a=n.setCurrentPostIndexAction,o=n.recircSortType;a(t),r.props.postRecircInteractedAnalytics(t+1,e,Kn.n[o],null,r.shouldRenderAds())})),b()(u()(r),"updateElementHeight",(function(e,t){r.setState((function(n){var r=n.elementHeights;return r[e]=t,{elementHeights:r}}))})),b()(u()(r),"handleTopAdUpdate",(function(e){r.setState({topAdClassNames:Ce()({Top320:!0,MedRec:e>=250,"ad-slot":!0})})})),r.postsComp=C.a.createRef(),r.sidebarWrapper=C.a.createRef(),r.state={elementHeights:[],topAdClassNames:"Top320 ad-slot"},r}return s()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.posts,r=t.postOrder,a=this.state.elementHeights;(!e.posts.size&&n.size||e.postIndex!==this.props.postIndex||e.isMainContentReady!==this.props.isMainContentReady)&&this.scrollToCurrentPost(e.postIndex>=0&&e.isMainContentReady),r.size!==a.length&&this.setState({elementHeights:this.getElementHeights()})}},{key:"componentWillUnmount",value:function(){(0,this.props.setCurrentPostIndexAction)(-1)}},{key:"currentPost",value:function(){var e=this.props,t=e.posts,n=e.post,r=n&&n.get("id");return t.get(r)||n}},{key:"shouldRenderAds",value:function(){var e=this.props,t=e.adsEnabled,n=e.posts,r=e.isLoading,a=this.currentPost();return t&&a&&!a.get("isAd")&&!r&&n&&n.size>1}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.topAdClassNames,r=this.props,a=r.postOrder,o=r.isLoading,i=r.post,c=r.postIndex,s=r.isMainContentReady,l=r.transformationEnabled,u=i&&i.get("id"),d=e.post&&e.post.get("id");return e.postOrder!==a||e.isLoading!==o||u!==d||e.postIndex!==c||e.isMainContentReady!==s||t.topAdClassNames!==n||e.transformationEnabled!==l}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.posts,a=t.postOrder,o=t.moreDataFetch,i=t.isLoading,c=t.adsEnabled,s=t.Title,l=t.isWebPSupported,u=t.recircItemCount,d=t.streamSection,m=t.streamSort,p=t.viewportHeight,f=this.state.topAdClassNames,h={},g={},y=!0,b=this.currentPost();b&&(h=b.get("adConfig"),g=Object(Te.k)(b,d,m),y=!Object(Te.m)(b));var v=this.props.isMainContentReady&&n&&a.size>0&&y,E=this.getElementHeights(),O=this.shouldRenderAds();return C.a.createElement("div",{ref:this.sidebarWrapper,className:"Gallery-Sidebar-Wrapper"},C.a.createElement("div",{className:"Top Sticky"},O&&C.a.createElement(Zn,{postId:this.props.post.get("id"),slotPath:M.X,postAdConfig:h,adsEnabled:c,slotTargeting:g,classNames:f,handleAdUpdate:this.handleTopAdUpdate}),b&&b.get("isAd")&&C.a.createElement(vr,{data:b.get("adSource",{}).sponsored_companion}),y&&C.a.createElement("h3",null,C.a.createElement(De.a,{to:"/".concat(W.o)},C.a.createElement(s,null))),C.a.createElement("div",{className:"Gallery-Sidebar-Posts-Wrapper"},v&&C.a.createElement(ln.a,{containerHeight:Yn.$recircItemHeight*u,elementHeight:E,className:"Gallery-Sidebar-posts Scrollbar--gray",onInfiniteLoad:o,isInfiniteLoading:i,infiniteLoadBeginEdgeOffset:200,ref:function(t){e.postsComp=t},loadingSpinnerDelegate:C.a.createElement(Tt.a,{size:30})},a.map((function(t,n){var a=r.get(t.get("postId"));return C.a.createElement(Sr,{key:n,setHeight:function(t){return e.updateElementHeight(n,t)},index:n,height:E[n]},C.a.createElement(Xn,{key:n,postId:a.get("id"),cover:Or(l,a.getIn(["cover","id"])||a.get("id")),title:a.get("title"),gallerySize:a.get("imageCount"),isPromoted:a.get("isAd"),onClick:function(){return e.handlePostClick(a,n)},isActive:a.get("id")===b.get("id"),isAnnouncement:a.get("isAnnouncement")}))}))),v&&C.a.createElement("div",{className:"fade-out"})),O&&C.a.createElement(er,{postId:b.get("id"),adConfig:h,adsEnabled:c,targeting:g,viewportHeight:p})))}}]),n}(C.a.Component);kr.defaultProps={Title:function(){return""}};kr.__docgenInfo={description:"",methods:[{name:"getElementHeights",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToCurrentPost",docblock:null,modifiers:[],params:[{name:"isSmoothScroll",type:null}],returns:null},{name:"onTransitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"currentPost",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRenderAds",docblock:null,modifiers:[],params:[],returns:null},{name:"handlePostClick",docblock:null,modifiers:[],params:[{name:"post",type:null},{name:"index",type:null}],returns:null},{name:"updateElementHeight",docblock:null,modifiers:[],params:[{name:"index",type:null},{name:"height",type:null}],returns:null},{name:"handleTopAdUpdate",docblock:null,modifiers:[],params:[{name:"elementHeight",type:null}],returns:null}],displayName:"GallerySidebar",props:{Title:{defaultValue:{value:"() => ''",computed:!1},type:{name:"func"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},postRecircInteractedAnalytics:{type:{name:"func"},required:!0,description:""},setCurrentPostIndexAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},postOrder:{type:{name:"object"},required:!1,description:""},postIndex:{type:{name:"number"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},recircItemCount:{type:{name:"number"},required:!0,description:""},transformationEnabled:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""},viewportHeight:{type:{name:"number"},required:!0,description:""}}};var Pr=Object(Ne.c)((function(e){return Object(Ne.c)(k.h,Object(D.b)((function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),searchQuery:n.get("searchQuery")}}),{setRecircSortType:we.Mb}))(function(e){return function(t){m()(r,t);var n=hr(r);function r(t){var a;return i()(this,r),a=n.call(this,t),b()(u()(a),"recognizeRenderComponent",(function(){var t=a.props,n=t.streamSection,r=t.match.params,o=t.history,i=t.setRecircSortType,c=t.searchQuery;if(r.tagName)a.setState({Component:sr(e)}),i(z.J.TAG);else if((r.username||Object(N.w)().startsWith("/account/favorites/"))&&r.galleryId)a.setState({Component:mr(e)}),i(z.J.FAVORITE);else if(c&&"POP"===o.action)a.setState({Component:fr(e)}),i(z.J.SEARCH);else{var s=z.J.MOST_VIRAL;switch(n){case _.H:s=z.J.USER_SUB;break;case _.F:s=z.J.TOP_GALLERY}i(s),a.setState({Component:ir(e)})}})),a.state={Component:null},a}return s()(r,[{key:"componentDidMount",value:function(){this.recognizeRenderComponent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.posts;e.posts.size&&!t.size&&this.recognizeRenderComponent()}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;return e?C.a.createElement(e,null):null}}]),r}(C.a.Component)}(e))}),Object(D.b)((function(e){var t=e.postsData,n=e.posts,r=e.ad,a=e.gallery,o=e.user,i=e.agent,c=e.display;return{post:t.get("currentPost"),postIndex:t.get("currentPostIndex"),recircSortType:t.get("recircSortType"),posts:n.get("posts"),postOrder:n.get("postOrder"),adsEnabled:Object(de.g)(r,o),isMainContentReady:t.get("isMainContentReady"),isLoading:a.get("isFetching"),isWebPSupported:i.get(hn.s),recircItemCount:o.getIn(["subscription","isSubscribed"])||o.get("hasPaid")?z.H:z.I,transformationEnabled:r.getIn(["transformation","enabled"]),streamSection:a.get("streamSection"),streamSort:a.get("streamSort"),viewportHeight:c.getIn(["viewPort","height"])}}),{postRecircInteractedAnalytics:we.ob,setCurrentPostIndexAction:we.Ib}))(kr),Sr=function(e){m()(n,e);var t=Cr(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).node=C.a.createRef(),r.state={height:r.props.height},r}return s()(n,[{key:"componentDidUpdate",value:function(){var e=Math.round(this.node.getBoundingClientRect().height);this.state.height!==e&&(this.setState({height:e}),this.props.setHeight(e))}},{key:"render",value:function(){var e=this;return C.a.createElement("div",{ref:function(t){e.node=t},className:"Gallery-Sidebar-PostContainer"},this.props.children)}}]),n}(C.a.Component);Sr.__docgenInfo={description:"",methods:[],displayName:"SideBarPostContainer",props:{children:{type:{name:"node"},required:!0,description:""},setHeight:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}};var Nr=n("kCKb"),wr=n("lJMb"),jr=n("L4iE"),qr=n("SsiD"),Ir=n("gGMO"),Dr=n("pQSO"),Tr=(n("xsax"),function(e){var t=e.accolades,n=e.title,r=e.body,a=e.buttonText,o=e.onButtonClick,i=e.className,c=t.map((function(e){return C.a.createElement("img",{key:e.id,className:"AccoladesTooltip-accoladeIcon",src:e.get("image_url")})})),s=Ce()(b()({AccoladesTooltip:!0},i,!0));return C.a.createElement("div",{className:s},c,C.a.createElement("div",{className:"AccoladesTooltip-title"},n),C.a.createElement("div",{className:"AccoladesTooltip-body"},r),C.a.createElement("button",{type:"button",className:"AccoladesTooltip-button",onClick:o},a))});Tr.defaultProps={className:"",accolades:[],onButtonClick:function(){}},Tr.__docgenInfo={description:"",methods:[],displayName:"AccoladesTooltip",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},accolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},onButtonClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},body:{type:{name:"string"},required:!0,description:""},buttonText:{type:{name:"string"},required:!0,description:""}}};n("1O1r");var Ar=function(e){var t,n=e.show,r=e.children,a=e.className,o=e.transitionName,i=Object(v.useRef)(null),c=Object(v.useState)(!1),s=Rt()(c,2),l=s[0],u=s[1],d=Object(v.useState)(!1),m=Rt()(d,2),p=m[0],f=m[1],h=Object(v.useState)(!1),g=Rt()(h,2),y=g[0],E=g[1],O=function(e){e.animationName==="".concat(o,"-animationend")&&(u(!1),f(!1))};Object(v.useEffect)((function(){var e=i.current;if(e)return e.addEventListener("animationend",O,!1),function(){e.removeEventListener("animationend",O,!1)}}),[i]),Object(v.useLayoutEffect)((function(){n?u(!0):y&&(E(!1),f(!0))}),[n]),Object(v.useLayoutEffect)((function(){l&&E(!0)}),[l]);var k=Ce()((t={Toggler:!0},b()(t,a,!0),b()(t,o,!0),b()(t,"Toggler-showing",l),b()(t,"".concat(o,"-visible"),y),b()(t,"".concat(o,"-hiding"),p),t));return C.a.createElement("div",{ref:i,className:k},r)};Ar.__docgenInfo={description:"",methods:[],displayName:"Toggler",props:{show:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},transitionName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"element"},required:!0,description:""}}};var Rr=function(e){var t=e.showAccolades,n=e.onEmeraldClick,r=e.availableAccolades,a=e.accolades,o=e.currentUsername,i=e.inGallery,c=e.isEmerald;if(!t)return t;var s=Object(v.useState)(null),l=Rt()(s,2),u=l[0],d=l[1],m=Object(v.useState)(!1),p=Rt()(m,2),f=p[0],h=p[1],g=Object(v.useState)(!1),y=Rt()(g,2),E=y[0],O=y[1];Object(v.useEffect)((function(){if(!c&&t&&i&&(null!=u&&(Object(N.i)(u),d(null)),f)){var e=Object(N.yb)((function(){O(!0)}),500);return function(){Object(N.i)(e),d(null)}}}),[f,i]);var k,P,S=!(E||(k=a,k&&k.size>0)),w=function(){return Object(N.cb)("?source=tooltip")};return C.a.createElement(C.a.Fragment,null,E&&C.a.createElement("div",{className:"GalleryVote-modal"}),C.a.createElement("div",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){h(!1),O(!1)},className:Ce()({"GalleryVote-accoladesButton":!0,"GalleryVote-accoladesAnimate":S,"GalleryVote-accoladesHighlight":E}),onClick:c?function(){return n(q.a.CLICKED_EMERALD)}:w},C.a.createElement("div",{className:Ce()({item:!0,"item-single":!0,btn:!0,"btn-emerald":!0,"btn-emerald-highlight":E})},0===(P=a?Math.min(a.size,3):0)?C.a.createElement(je.fb,{className:"emerald-icon",name:je.o,width:"32",height:"32"}):C.a.createElement(C.a.Fragment,null,a.slice(0,3).map((function(e,t){return C.a.createElement("div",{key:t,className:Ce()(b()({"accolade-icon":!0},"accolade-icon-".concat(P,"-").concat(t),!0))},C.a.createElement(it.a,{username:e.get("user_selected")?o:"",imageUrl:e.get("image_url"),imageName:e.get("name")}))})))),C.a.createElement("div",null,C.a.createElement("div",{className:"GalleryVote-accoladesBridge"},C.a.createElement(Ar,{show:E,className:"AccoladesButton-toggler",transitionName:"fader-right"},C.a.createElement(Tr,{accolades:r,title:Object(Qe.a)("accoladesTooltipTitle"),buttonText:Object(Qe.a)("accoladesTooltipBtnTxt"),className:"AccoladesButton-accoladesTooltip AccoladesTooltip-engagementTooltip",onButtonClick:w,body:Object(Qe.a)("accoladesTooltipBody")}))))))};Rr.__docgenInfo={description:"",methods:[],displayName:"AccoladeButton",props:{showAccolades:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!0,description:""},availableAccolades:{type:{name:"array"},required:!0,description:""},accolades:{type:{name:"object"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""}}};n("oSho");function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Mr=function(e){m()(n,e);var t=xr(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isFade:!1},r.timeout=null,r.tooltipDelay=null,r}return s()(n,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.score,a=n.postId;e.score!==r&&e.postId===a&&(this.setState({isFade:!0}),this.timeout=Object(N.yb)((function(){t.setState({isFade:!1})}),150))}},{key:"render",value:function(){var e=this.props,t=e.vote,n=e.onVote,r=e.score,a=e.isFavorite,o=e.onFavorite,i=e.hidePoints,c=e.upvoteRef,s=e.downvoteRef,l=e.favoriteRef,u=e.showEmerald,d=e.isEmerald,m=e.onEmeraldClick,p=e.transformationStyle,f=e.onPointsClick,h=e.accolades,g=e.inGallery,y=e.currentUsername,b=e.availableAccolades,v=this.state.isFade,E={item:!0,score:!0,"score-upvoted":t===$e.b,"score-downvoted":t===$e.a,"score-fade":v},O=u&&g;return C.a.createElement("div",{className:Ce()({GalleryVote:!0,"hidden-post":!g})},C.a.createElement(Rr,{showAccolades:O,onEmeraldClick:m,accolades:h,availableAccolades:b,currentUsername:y,inGallery:g,isEmerald:d}),C.a.createElement("div",{className:"GalleryVote-controls",style:p},g&&C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{className:"item btn btn-upvote",onClick:function(e){return n(e,t===$e.b?$e.c:$e.b)}},C.a.createElement(Ir.b,{selected:t===$e.b,width:"32",height:"32",title:Object(F.b)("upvoteHint"),setRef:c})),!i&&C.a.createElement("div",{className:Ce()(E),onClick:f},C.a.createElement("span",{title:Object(F.b)("scoreHint")},Object(et.j)(r))),C.a.createElement("div",{className:"item btn btn-downvote",onClick:function(e){return n(e,t===$e.a?$e.c:$e.a)}},C.a.createElement(Ir.a,{selected:t===$e.a,width:"32",height:"32",title:Object(F.b)("downvoteHint"),setRef:s}))),C.a.createElement("div",{className:"item item-single btn btn-favorite GalleryVote-favorite",onClick:o},C.a.createElement(Dr.a,{selected:a,width:"32",height:"32",title:Object(F.b)("favoriteHint"),setRef:l}))))}}]),n}(C.a.Component);Mr.defaultProps={vote:$e.c,onVote:function(){},score:0,isFaforite:!1,onFavorite:function(){},hidePoints:!1,showEmerald:!1,inGallery:!0},Mr.__docgenInfo={description:"",methods:[],displayName:"GalleryVote",props:{vote:{defaultValue:{value:"VETO",computed:!0},type:{name:"enum",value:[{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0}]},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},score:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFaforite:{defaultValue:{value:"false",computed:!1},required:!1},onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},hidePoints:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showEmerald:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inGallery:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},isFavorite:{type:{name:"bool"},required:!1,description:""},onPointsClick:{type:{name:"func"},required:!0,description:""},upvoteRef:{type:{name:"object"},required:!1,description:""},downvoteRef:{type:{name:"object"},required:!1,description:""},favoriteRef:{type:{name:"object"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},availableAccolades:{type:{name:"array"},required:!1,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""}}};var _r=n("P5Jw"),Fr=n("O39/"),Gr=n("ooTa");n("oAby");function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Vr=function(e){m()(n,e);var t=Lr(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"facebook",(function(){var t=e.props,n=t.onFacebookShare,r=t.postTitle,a=t.postId,o=t.postTags;n(Object(Gr.a)(),r,a,o,Fr.l)})),b()(u()(e),"twitter",(function(){var t=e.props,n=t.onTwitterShare,r=t.postTitle,a=t.postId,o=t.postTags;n(Object(Gr.a)(),r,a,o,Fr.l)})),b()(u()(e),"reddit",(function(){var t=e.props,n=t.onRedditShare,r=t.postTitle,a=t.postId,o=t.postTags;n(Object(Gr.a)(),r,a,o,Fr.l)})),b()(u()(e),"email",(function(){var t=e.props,n=t.onEmailShare,r=t.postTitle,a=t.postId,o=t.postTags;n(Object(Gr.a)(),r,a,o,Fr.l)})),b()(u()(e),"link",(function(){var t=e.props,n=t.onCopyLink,r=t.postTitle,a=t.postId,o=t.postTags;n(Object(Gr.a)(),r,a,o,Fr.l)})),e}return s()(n,[{key:"render",value:function(){return C.a.createElement("div",{className:"Gallery-Share"},C.a.createElement(Ht.a,{className:"item Gallery-ShareMenu Dropdown--horizontal Dropdown--btn",dropdownIcon:C.a.createElement(je.fb,{name:je.B,width:"32",height:"32"})},C.a.createElement("label",null,"Share"),C.a.createElement("button",{type:"button",onClick:this.facebook},C.a.createElement(je.fb,{className:"icon icon-facebook",name:je.C,width:"32",height:"32",title:Object(F.b)("facebook")})),C.a.createElement("button",{type:"button",onClick:this.twitter},C.a.createElement(je.fb,{className:"icon icon-twitter",name:je.E,width:"32",height:"32",title:Object(F.b)("twitter")})),C.a.createElement("button",{type:"button",onClick:this.reddit},C.a.createElement(je.fb,{className:"icon icon-reddit",name:je.D,width:"32",height:"32",title:Object(F.b)("reddit")})),C.a.createElement("button",{type:"button",onClick:this.email},C.a.createElement(je.fb,{className:"icon icon-mail",name:je.m,width:"32",height:"32",title:Object(F.b)("email")})),C.a.createElement(_r.CopyToClipboard,{text:Object(Gr.a)(),onCopy:this.link},C.a.createElement("button",{type:"button"},C.a.createElement(je.fb,{className:"icon icon-link",name:je.s,width:"32",height:"32",title:Object(F.b)("copyLinkToClipboard")})))))}}]),n}(C.a.Component),Ur={onFacebookShare:we.Pb,onTwitterShare:we.Tb,onRedditShare:we.Rb,onEmailShare:we.Ob,onCopyLink:we.Y};Vr.__docgenInfo={description:"",methods:[{name:"facebook",docblock:null,modifiers:[],params:[],returns:null},{name:"twitter",docblock:null,modifiers:[],params:[],returns:null},{name:"reddit",docblock:null,modifiers:[],params:[],returns:null},{name:"email",docblock:null,modifiers:[],params:[],returns:null},{name:"link",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryShare",props:{postTitle:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},postTags:{type:{name:"array"},required:!0,description:""},onFacebookShare:{type:{name:"func"},required:!0,description:""},onTwitterShare:{type:{name:"func"},required:!0,description:""},onRedditShare:{type:{name:"func"},required:!0,description:""},onEmailShare:{type:{name:"func"},required:!0,description:""},onCopyLink:{type:{name:"func"},required:!0,description:""}}};var Br=Object(D.b)((function(e){var t=e.postsData;return{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),postTags:t.getIn(["currentPost","tags"])&&t.getIn(["currentPost","tags"]).map((function(e){return e.get("tag")})).toJS()}}),Ur)(Vr);n("nAF4");function Hr(e){var t=e.commentsCount,n=e.onClick,r=e.transformationStyle;return C.a.createElement("div",{className:"Gallery-CommentsCounter",title:Object(F.b)("commentsCounterHint"),onClick:n,style:r},C.a.createElement("div",{className:"item"},C.a.createElement(je.fb,{name:je.g,width:"32",height:"32",title:"Jump to Comments",fillColor:null})),C.a.createElement("div",{className:"item label"},C.a.createElement("span",null,Object(et.j)(t))))}Hr.defaultProps={commentsCount:0,onClick:function(){}},Hr.__docgenInfo={description:"",methods:[],displayName:"GalleryCommentsCounter",props:{commentsCount:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}};var Wr=n("ErBw"),zr=n("/iGR");n("o9hv");function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Jr=function(e){m()(n,e);var t=Yr(n);function n(e){var r;i()(this,n),r=t.call(this,e),b()(u()(r),"setHovering",(function(e){r.setState({hovering:e})})),b()(u()(r),"unhover",(function(){r.setHovering(!1),Object(N.hb)("click",r.unhover)})),b()(u()(r),"setTransformation",(function(e){var t=r.props,n=t.setAnimatingIn,a=t.setAnimatingOut,o=t.onClick,i=t.font,c=t.transitionEnabledPixels;Object(N.z)("TransformationFont")||Object(N.d)(Object(N.n)("link",{id:"TransformationFont",href:i,rel:"stylesheet"})),e?(n(!0),Object(N.rb)(0,0,"smooth"),c.forEach((function(e){Object(Kn.c)(e)}))):a(!0),Object(N.yb)((function(){o(e,!0,!0)}),Yn.$transformationFadeOutTimeMS/2),Object(N.yb)((function(){e?n(!1):a(!1)}),Yn.$transformationFadeOutTimeMS)}));var a=!1;return Object(zr.b)(e.name)||(Object(zr.c)(e.name,!0,7),a=!0),r.state={hovering:a},r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.a)("click",this.unhover)}},{key:"componentWillUnmount",value:function(){Object(N.hb)("click",this.unhover)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.positionY,r=t.postId;n===e.positionY&&r===e.postId||this.setHovering(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isTransformed,r=t.transformationEnabledByDefault,a=t.exitIcon,o=t.enterIcon,i=t.buttonColor,c=t.tooltipTitle,s=t.tooltipDescription,l=t.tooltipStyle,u=this.state.hovering,d={};return u&&(d.filter="drop-shadow(0 0 3px rgba(".concat(i,", 0.16))")),C.a.createElement("div",{className:"Transformation-wrapper"},C.a.createElement("img",{src:n?a:o,style:d,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!n)},alt:Object(F.b)(n?"exit":"enter")}),n===r&&C.a.createElement("div",{className:"Transformation-tooltip".concat(u?" Transformation-tooltip--hovering":""),style:l},C.a.createElement("h2",null,c),C.a.createElement("p",null,s)))}}]),n}(C.a.Component);Jr.__docgenInfo={description:"",methods:[{name:"setHovering",docblock:null,modifiers:[],params:[{name:"hovering",type:null}],returns:null},{name:"unhover",docblock:null,modifiers:[],params:[],returns:null},{name:"setTransformation",docblock:null,modifiers:[],params:[{name:"enabled",type:null}],returns:null}],displayName:"PromotedTransformation",props:{name:{type:{name:"string"},required:!0,description:""},isTransformed:{type:{name:"bool"},required:!0,description:""},transformationEnabledByDefault:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},setAnimatingIn:{type:{name:"func"},required:!0,description:""},setAnimatingOut:{type:{name:"func"},required:!0,description:""},enterIcon:{type:{name:"string"},required:!0,description:""},exitIcon:{type:{name:"string"},required:!0,description:""},buttonColor:{type:{name:"string"},required:!0,description:""},tooltipTitle:{type:{name:"string"},required:!0,description:""},tooltipDescription:{type:{name:"string"},required:!0,description:""},tooltipStyle:{type:{name:"object"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},font:{type:{name:"string"},required:!0,description:""},transitionEnabledPixels:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}};var Kr=Object(D.b)((function(e){var t=e.ad,n=e.display,r=e.postsData;return{name:t.getIn(["transformation","name"]),isTransformed:t.getIn(["transformation","enabled"]),transformationEnabledByDefault:t.getIn(["transformation","enabledByDefault"]),font:t.getIn(["transformation","font"]),enterIcon:t.getIn(["transformation","enterIcon"]),exitIcon:t.getIn(["transformation","exitIcon"]),buttonColor:t.getIn(["transformation","buttonColor"]),tooltipTitle:t.getIn(["transformation","tooltipTitle"]),tooltipDescription:t.getIn(["transformation","tooltipDescription"]),tooltipStyle:{backgroundImage:'url("'.concat(t.getIn(["transformation","tooltipBg"]),'")')},positionY:n.get("positionY"),postId:r.getIn(["currentPost","id"],""),transitionEnabledPixels:t.getIn(["transformation","enabledPixels"])}}),{onClick:Wr.M,setAnimatingIn:Wr.J,setAnimatingOut:Wr.K})(Jr);n("fbUk");function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var $r=function(e){m()(n,e);var t=Zr(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"handleVote",(function(e,t){var n=r.props,a=n.isUserLoggedOut,o=n.showGalleryPopOverCTAAction,i=n.onVote,c=n.post,s=n.currentPostMeta,l=n.userAccoladeId,u=n.accoladeRevoked;if(a)return t===$e.b?o(wr.q,r.upvoteRef.current.parentNode):o(wr.h,r.downvoteRef.current.parentNode);if(!l||Object(N.B)("confirm")(Object(Qe.a)("accoladesDeleteConfirm",$e.e[t].toLowerCase()))){var d=e.type&&e.type.includes("key")?"Key Press":q.q;i({postId:c.get("id"),vote:t,initialVote:s.getIn(["user","vote"]),trigger:d}),t!==$e.b&&l&&u({userAccoladeId:l})}})),b()(u()(r),"handleFavorite",(function(e){var t=r.props,n=t.isUserLoggedOut,a=t.showGalleryPopOverCTAAction,o=t.onFavorite,i=t.post,c=t.currentPostMeta,s=t.openDialogAction;if(n)return a(wr.i,r.favoriteRef.current.parentNode);var l=e.type&&e.type.includes("key")?"Key Press":q.q,u=c.getIn(["user","favorite"])||i.get("favorite"),d=z.z;return i.get("inGallery")||(d=i.get("isAlbum")?z.y:z.A),o(i.get("id"),!u,i.get("isAlbum"),l,d),u?void 0:s({name:z.i})})),b()(u()(r),"handleCommentsCounterClick",(function(){var e=r.props,t=e.onScrollToComments,n=e.commentsListId,a=e.contentOffset,o=e.onScrollToCommentsAnalytics;t(n,a),o()})),b()(u()(r),"onKeyboardInteraction",(function(e){var t=r.props,n=t.openDialogAction,a=t.showEmerald;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;var o=r.props.currentPostMeta.getIn(["user","vote"]);switch(e.key){case")":case"0":r.handleFavorite(e);break;case"-":case"_":r.handleVote(e,o===$e.a?$e.c:$e.a);break;case"+":case"=":r.handleVote(e,o===$e.b?$e.c:$e.b);break;case"*":case"8":if(!a)return e;n({name:Ze.a,eventSource:q.a.HOTKEY})}return e})),r.state={gradient:""},r.upvoteRef=C.a.createRef(),r.downvoteRef=C.a.createRef(),r.favoriteRef=C.a.createRef(),r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.kb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){if(jr.h){var t=this.props.currentPostMeta,n=e.currentPostMeta;t.get("id")!==n.get("id")&&this.setState({gradient:Object(qr.c)()})}}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentPostMeta,r=e.openDialogAction,a=e.transformationStyle,o=e.showEmerald,i=e.availableAccolades,c=e.isEmerald,s=e.accolades,l=e.currentUsername,u=e.showsTransformationButton,d=this.state.gradient,m=n.getIn(["user","vote"])||$e.c,p=jr.h?{background:Object(qr.d)(m,d)}:{},f=Qr(Qr({},a),p),h=Ce()("Gallery-EngagementBar",{"april-fools-engagement-bar":jr.h});return C.a.createElement("div",{className:h},C.a.createElement("div",{className:"Gallery-EngagementBarContainer",style:{paddingBottom:0}},C.a.createElement(Mr,{postId:t.get("id"),vote:m,score:n.getIn(["post","point_count"])||0,onVote:this.handleVote,isFavorite:n.getIn(["user","favorite"])||t.get("favorite")||!1,onFavorite:this.handleFavorite,hidePoints:t.get("isAd")||t.get("adType")>0,upvoteRef:this.upvoteRef,downvoteRef:this.downvoteRef,favoriteRef:this.favoriteRef,transformationStyle:f,showEmerald:o,availableAccolades:i,isEmerald:c,onEmeraldClick:function(e){r({name:Ze.a,eventSource:e})},onPointsClick:function(){return r({name:z.M})},accolades:s,currentUsername:l,inGallery:t.get("inGallery")}),u&&C.a.createElement(Kr,null),C.a.createElement(Br,null),!t.get("commentsDisabled")&&C.a.createElement(Hr,{commentsCount:n.getIn(["post","comment_count"]),onClick:this.handleCommentsCounterClick,transformationStyle:f})))}}]),n}(C.a.Component);$r.defaultProps={onFavorite:function(){},onVote:function(){},onScrollToComments:function(){},availableAccolades:[]},$r.__docgenInfo={description:"",methods:[{name:"handleVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"handleFavorite",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCommentsCounterClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"GalleryEngagementBar",props:{onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onScrollToComments:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},availableAccolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},currentPostMeta:{type:{name:"object"},required:!0,description:""},onScrollToCommentsAnalytics:{type:{name:"func"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},showGalleryPopOverCTAAction:{type:{name:"func"},required:!0,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},setRef:{type:{name:"func"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},showEmerald:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""},userAccoladeId:{type:{name:"number"},required:!1,description:""},accoladeRevoked:{type:{name:"func"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};var ea=Object(D.b)((function(e){var t=e.ui,n=e.user,r=e.postsData,a=e.ad,o=!r.getIn(["currentPost","isAd"],!1),i={};return a.getIn(["transformation","enabled"])&&(i={borderColor:"rgb(".concat(a.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(a.getIn(["transformation","primaryColor"]),", 0.32)")}),{contentOffset:t.cover.get("collapsed",0),isUserLoggedOut:!n.get("isLoggedIn"),isEmerald:n.getIn(["subscription","isSubscribed"]),transformationStyle:i,showEmerald:o,currentPostMeta:r.get("currentPostMeta")&&Object(Dt.a)(r.get("currentPostMeta")),availableAccolades:r.getIn(["currentPostMeta","accolades","available"]),accolades:Object(nn.c)(r.getIn(["currentPostMeta","accolades","available"]),r.getIn(["currentPostMeta","post","accolades_counts"]),r.getIn(["currentPostMeta","user","accolades","accolade_id"])),currentUsername:n.get("username",""),userAccoladeId:r.getIn(["currentPostMeta","user","accolades","accolade_id"])}}),{onFavorite:we.db,onVote:we.Zb,onScrollToComments:Nr.g,onScrollToCommentsAnalytics:we.Gb,showGalleryPopOverCTAAction:wr.s,openDialogAction:G.I,accoladeRevoked:st.l})($r),ta=n("f6ut"),na=n("yzPS"),ra=n("66r6"),aa=n("QIN0"),oa=n("z6Vh"),ia=n("DfB6"),ca=(n("eeI0"),n("/y0k"));n("WYmX");function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var la=function(e){m()(n,e);var t=sa(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"handleFileInput",(function(e){(0,r.props.startCommentUpload)(e.target.files),r.inputRef.value=""})),b()(u()(r),"componentDidMount",(function(){(0,r.props.onLoad)(r.wrapperRef)})),r.inputRef=C.a.createRef(),r.wrapperRef=C.a.createRef(),r}return s()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,r=t.title;return C.a.createElement("div",{className:"CommentUploadButton",disabled:n,ref:function(t){e.wrapperRef=t}},C.a.createElement(je.fb,{className:"icon fill",name:je.a,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(t){return e.inputRef.click(t)},title:r}),C.a.createElement("input",{id:"file-input",className:"CommentUpload-fileInput",type:"file",name:"files",ref:function(t){e.inputRef=t},accept:ca.a,onChange:this.handleFileInput,disabled:n}))}}]),n}(C.a.Component);function ua(e){var t=e.className,n=e.copyName,r=e.op,a=(new Date).getTime();return C.a.createElement("p",{className:t},Object(F.b)(n,r,a))}la.defaultProps={title:Object(F.b)("commentUploadButton")},la.__docgenInfo={description:"",methods:[{name:"handleFileInput",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentUploadButton",props:{title:{defaultValue:{value:"copy('commentUploadButton')",computed:!0},type:{name:"string"},required:!1,description:""},startCommentUpload:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""}}},ua.__docgenInfo={description:"",methods:[],displayName:"CommentFormTitle",props:{className:{type:{name:"string"},required:!1,description:""},copyName:{type:{name:"string"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""}}};var da=Object(v.memo)(ua),ma=n("9WAK"),pa=n.n(ma),fa=1,ha=3;function ga(e){var t=e.openReactionGifs,n=e.setCommentValue,r=C.a.createElement(je.fb,{className:"icon fill Comment-create-prompts-gif",name:je.b,"aria-label":Object(F.b)("GIF"),title:Object(F.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=pa()([C.a.createElement("div",{onClick:function(){return t("cake day","commentAddCakeDay")}},Object(F.b)("commentAddCakeDay"),r),C.a.createElement("div",{onClick:function(){return t("dance","commentAddDance")}},Object(F.b)("commentAddDance"),r)]),o=pa()([C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentHappyCakeDayOP"))}},Object(F.b)("commentHappyCakeDayOP")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayHaveYourCake"))}},Object(F.b)("commentCakeDayHaveYourCake")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayBringOnTheCake"))}},Object(F.b)("commentCakeDayBringOnTheCake")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayEatSlice"))}},Object(F.b)("commentCakeDayEatSlice")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayGoodToHaveYou"))}},Object(F.b)("commentCakeDayGoodToHaveYou")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayBigBundts"))}},Object(F.b)("commentCakeDayBigBundts")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayCongrats"))}},Object(F.b)("commentCakeDayCongrats")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayEatCake"))}},Object(F.b)("commentCakeDayEatCake")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayRemember"))}},Object(F.b)("commentCakeDayRemember")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentCakeDayBestDay"))}},Object(F.b)("commentCakeDayBestDay"))]);return C.a.createElement(C.a.Fragment,null,a.filter((function(e,t){return t<fa})),o.filter((function(e,t){return t<ha})))}function ya(e){var t=e.openReactionGifs,n=e.setCommentValue,r=C.a.createElement(je.fb,{className:"icon fill Comment-create-prompts-gif",name:je.b,"aria-label":Object(F.b)("GIF"),title:Object(F.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=pa()([C.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(F.b)("commentNewOPGif"),r),C.a.createElement("div",{onClick:function(){return t("upvote","commentFirstPostAddAnUpvote")}},Object(F.b)("commentFirstPostAddAnUpvote"),r),C.a.createElement("div",{onClick:function(){return t("thumbs up","commentFirstPostThumbsUp")}},Object(F.b)("commentFirstPostThumbsUp"),r)]),o=pa()([C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostOPSolid"))}},Object(F.b)("commentFirstPostOPSolid")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostOPHaveAnUpvote"))}},Object(F.b)("commentFirstPostOPHaveAnUpvote")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPOneOfUs"))}},Object(F.b)("commentNewOPOneOfUs")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostGreatPostOnFirstTry"))}},Object(F.b)("commentFirstPostGreatPostOnFirstTry")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostFirstForay"))}},Object(F.b)("commentFirstPostFirstForay")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostIRemember"))}},Object(F.b)("commentFirstPostIRemember")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostHappyPosting"))}},Object(F.b)("commentFirstPostHappyPosting")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentFirstPostFirstDay"))}},Object(F.b)("commentFirstPostFirstDay"))]);return C.a.createElement(C.a.Fragment,null,a.filter((function(e,t){return t<fa})),o.filter((function(e,t){return t<ha})))}function ba(e){var t=e.openReactionGifs,n=e.setCommentValue,r=C.a.createElement(je.fb,{className:"icon fill Comment-create-prompts-gif",name:je.b,"aria-label":Object(F.b)("GIF"),title:Object(F.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=pa()([C.a.createElement("div",{onClick:function(){return t("welcome","commentNewOPWelcomeGif")}},Object(F.b)("commentNewOPWelcomeGif"),r),C.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(F.b)("commentNewOPGif"),r)]),o=pa()([C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPOneOfUs"))}},Object(F.b)("commentNewOPOneOfUs")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPHello"))}},Object(F.b)("commentNewOPHello")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPGladYoureHere"))}},Object(F.b)("commentNewOPGladYoureHere")),C.a.createElement("div",{onClick:function(){return n("".concat(Object(F.b)("commentNewOPWelcomeToParty")," "))}},Object(F.b)("commentNewOPWelcomeToParty"),C.a.createElement("span",{role:"img","aria-label":"wave"}," ")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPYayYouMadeIt"))}},Object(F.b)("commentNewOPYayYouMadeIt")),C.a.createElement("div",{onClick:function(){return n("".concat(Object(F.b)("commentNewOPWelcome")," "))}},Object(F.b)("commentNewOPWelcome"),C.a.createElement("span",{role:"img","aria-label":"wave"}," ")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPWelcomeCupcakes"))}},Object(F.b)("commentNewOPWelcomeCupcakes")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPWelcomePal"))}},Object(F.b)("commentNewOPWelcomePal")),C.a.createElement("div",{onClick:function(){return n(Object(F.b)("commentNewOPFitRightIn"))}},Object(F.b)("commentNewOPFitRightIn"))]);return C.a.createElement(C.a.Fragment,null,a.filter((function(e,t){return t<fa})),o.filter((function(e,t){return t<ha})))}function va(e){var t=e.suggestionGroup,n=e.openReactionGifs,r=e.setCommentValue;return C.a.createElement("div",{className:"Comment-create-prompts"},t===ut.d&&C.a.createElement(ba,{openReactionGifs:n,setCommentValue:r}),t===ut.c&&C.a.createElement(ya,{openReactionGifs:n,setCommentValue:r}),t===ut.b&&C.a.createElement(ga,{openReactionGifs:n,setCommentValue:r}))}ga.propTypes={openReactionGifs:O.a.func,setCommentValue:O.a.func},ya.propTypes={openReactionGifs:O.a.func,setCommentValue:O.a.func},ba.propTypes={openReactionGifs:O.a.func,setCommentValue:O.a.func},va.__docgenInfo={description:"",methods:[],displayName:"CommentSuggetions",props:{suggestionGroup:{type:{name:"string"},required:!1,description:""},openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var Ca=Object(v.memo)(va);ga.__docgenInfo={description:"",methods:[],displayName:"CakeDaySuggestions",props:{openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}},ya.__docgenInfo={description:"",methods:[],displayName:"FirstPostSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}},ba.__docgenInfo={description:"",methods:[],displayName:"NewOpSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var Ea=n("lIU6"),Oa=n("uwpD");function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Pa=function(e){m()(n,e);var t=ka(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"textareaElem",null),b()(u()(r),"adminBadgeElem",null),b()(u()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state,n=t.value,a=t.hasAdminBadge,o=t.maxChars,i=t.uploadedFile,c=Object(et.a)(n);(0===c||c>o)&&!i||(0,r.props.onCreate)({comment:n,hasAdminBadge:a,file:i})})),b()(u()(r),"handleClose",(function(e){var t=r.state.value;if(!("click"!==e.type&&Object(et.a)(t)>0)){var n=r.props.onClose;n&&n()}})),b()(u()(r),"handleKeyDown",(function(e){e.key===w.b?r.handleSubmit(e):[w.e,w.d].includes(e.key)&&r.handleClose(e)})),b()(u()(r),"onChange",(function(e){var t=r.state.value;r.updateTextareaHeight(r.textareaElem);var n=e?e.target.value:t,a=Object(et.a)(n),o=jr.h?Object(qr.b)(a):0;r.setState({characterCount:a,value:n,progressBarPercent:o})})),b()(u()(r),"setFocusIn",(function(){r.setState({focused:!0})})),b()(u()(r),"setFocusOut",(function(){r.setState({focused:!1})})),b()(u()(r),"setTextareaElem",(function(e){r.textareaElem=e})),b()(u()(r),"onCheckboxChange",(function(e){r.setState({hasAdminBadge:e.target.checked})})),b()(u()(r),"updateTextareaHeight",(function(e){e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))})),b()(u()(r),"onGIFSelect",(function(e){var t=r.state.value,n="".concat(t).concat(e),a=Object(et.a)(n);r.setState({value:n,characterCount:a,hasMedia:!0})})),b()(u()(r),"removeUploadedFile",(function(){var e=r.state,t=e.maxChars,n=e.fileObjURL;Object(N.pb)(n),r.setState({uploadedFile:null,maxChars:t+me.y,fileObjURL:"",hasMedia:!1})})),b()(u()(r),"getReactionPreview",(function(e){var t=Object(ra.j)(e);if(t)return C.a.createElement(Ea.b,{src:t,onClose:function(){return r.removeReactionMedia(t)}})})),b()(u()(r),"removeReactionMedia",(function(e){var t=r.state.value;r.setState({value:t.replace(e,""),hasMedia:!1},r.onChange)})),b()(u()(r),"focusOnTextArea",(function(){r.textareaElem.focus()})),b()(u()(r),"startCommentUpload",(function(e){if(e&&e[0]){var t=r.state.maxChars;r.setState({uploadedFile:e[0],fileObjURL:Object(N.o)(e[0]),maxChars:t-me.y,hasMedia:!0})}})),b()(u()(r),"showUploadPopOver",(function(e){var t=r.props,n=t.showPopOver;return(0,t.viewedCommentUploadPopupAction)(),n(wr.e,e)})),b()(u()(r),"openReactionGifs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.props,a=n.setReactionGifSearchStringAction,o=n.newOPWelcomeAnalyticsAction;a(e),r.setState({isGIFOpen:!0}),o(Object(F.b)(t))})),b()(u()(r),"setCommentValue",(function(e){var t=r.props.newOPWelcomeAnalyticsAction;r.setState({value:e},r.onChange),t(e)})),b()(u()(r),"setReactionGifPopupVisibility",(function(e){r.setState({isGIFOpen:e})})),r.state={characterCount:0,value:"",focused:!!e.autoFocus,hasAdminBadge:!1,maxChars:ut.j,fileObjURL:"",uploadedFile:null,hasMedia:!1,isGIFOpen:!1,progressBarPercent:0},jr.h&&(r.initialGradient=Object(qr.c)()),r}return s()(n,[{key:"componentDidMount",value:function(){this.updateTextareaHeight(this.textareaElem)}},{key:"componentDidUpdate",value:function(e){var t=e.isLoading,n=this.props.isLoading,r=this.state.uploadedFile;t&&!n&&(r&&this.removeUploadedFile(),this.setState({characterCount:0,value:"",hasAdminBadge:!1}))}},{key:"renderUploadedFile",value:function(e,t){return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ea.b,{src:t,isVideo:Object(aa.e)(e.name),onClose:this.removeUploadedFile,isUpload:!0}),C.a.createElement(Ea.a,null))}},{key:"getCommentMedia",value:function(){var e=this.state,t=e.value,n=e.uploadedFile,r=e.fileObjURL;return n?this.renderUploadedFile(n,r):this.getReactionPreview(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.characterCount,r=e.focused,a=e.maxChars,o=e.hasMedia,i=e.isGIFOpen,c=e.progressBarPercent,s=a-n,l=s<0,u=this.props,d=u.placeholder,m=u.isCommunityTeam,p=u.autoFocus,f=u.onClose,h=u.transformationCreateStyles,g=u.isLoading,y=u.shouldShowCommentUploadTooltip,b=u.commentPromptType,v=u.shouldShowSuggestedComments,E=u.opUsername,O=!1;0!==n&&!l||o||(O=!0);var k=Ce()({"Comment-create-textarea":!0,over:l}),P=Ce()({"Comment-create-charCount":!0,over:l}),S=Ce()({"Create-submitBtn":!0,disabled:O}),N=Ce()({"Comment-create-bar":!0,focused:r}),w={};return w=o?{commentUpload:Object(F.b)("commentPreviewAlreadyExists"),reactionGIF:Object(F.b)("commentPreviewAlreadyExists")}:{commentUpload:Object(F.b)("commentUploadButton"),reactionGIF:Object(F.b)("gifOnHover")},C.a.createElement("div",{className:"Comment-create",style:h},b!==ut.e&&C.a.createElement(da,{className:"Comment-create-titleMessage",copyName:b,op:E}),C.a.createElement("form",{className:"Comment-create-form",onSubmit:this.handleSubmit},C.a.createElement("div",{className:N,onClick:this.focusOnTextArea},f&&C.a.createElement(je.fb,{name:je.h,onClick:this.handleClose,width:"25",height:"25",viewBox:"0 0 32 32",className:"Comment-create-close"}),C.a.createElement("textarea",{ref:this.setTextareaElem,autoFocus:p,className:k,value:t,onChange:this.onChange,onKeyDown:this.handleKeyDown,onFocus:this.setFocusIn,onBlur:this.setFocusOut,placeholder:d}),jr.h&&C.a.createElement("div",{className:"april-fools-form",style:{width:"".concat(c,"%"),background:Object(qr.a)(c,this.initialGradient)}}),this.getCommentMedia(),v&&""===t&&C.a.createElement(Ca,{suggestionGroup:b,openReactionGifs:this.openReactionGifs,setCommentValue:this.setCommentValue})),C.a.createElement("div",{className:"Comment-create-summary"},C.a.createElement("a",{className:"Comment-create-rules",target:"_blank",href:"/rules"},Object(F.b)("readCommunityRules")),C.a.createElement("div",{className:"Comment-create-actions"},C.a.createElement(la,{disabled:o,startCommentUpload:this.startCommentUpload,title:w.commentUpload,onLoad:y(this.showUploadPopOver)}),C.a.createElement(ia.a,{disabled:o,onSelect:this.onGIFSelect,title:w.reactionGIF,setReactionGifPopupVisibility:this.setReactionGifPopupVisibility,isGIFOpen:i}),m&&C.a.createElement(ta.a,{className:"Comment-create-adminbadge",text:Object(F.b)("showAdminBadgeCheckbox"),handleOnChange:this.onCheckboxChange,checkmarkPosition:"right"}),C.a.createElement("div",{className:P},"".concat(s)),C.a.createElement(ze.c,{onClick:this.handleSubmit,className:S,isLoading:g,label:Object(F.b)("post")})))))}}]),n}(C.a.PureComponent);var Sa={showPopOver:wr.s,viewedCommentUploadPopupAction:G.P,setReactionGifSearchStringAction:Oa.i,newOPWelcomeAnalyticsAction:dt.x};Pa.defaultProps={shouldShowSuggestedComments:!1,shouldShowCommentUploadTooltip:function(){return function(){}},commentPromptType:ut.e},Pa.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setFocusIn",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocusOut",docblock:null,modifiers:[],params:[],returns:null},{name:"setTextareaElem",docblock:null,modifiers:[],params:[{name:"domElem",type:null}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"updateTextareaHeight",docblock:null,modifiers:[],params:[{name:"textareaElem",type:null}],returns:null},{name:"onGIFSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"removeUploadedFile",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUploadedFile",docblock:null,modifiers:[],params:[{name:"file",type:null},{name:"fileObjURL",type:null}],returns:null},{name:"getCommentMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"removeReactionMedia",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"focusOnTextArea",docblock:null,modifiers:[],params:[],returns:null},{name:"startCommentUpload",docblock:null,modifiers:[],params:[{name:"files",type:null}],returns:null},{name:"showUploadPopOver",docblock:null,modifiers:[],params:[{name:"wrapperRef",type:null}],returns:null},{name:"openReactionGifs",docblock:null,modifiers:[],params:[{name:"search",type:null},{name:"copyName",type:null}],returns:null},{name:"setCommentValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"setReactionGifPopupVisibility",docblock:null,modifiers:[],params:[{name:"isGIFOpen",type:null}],returns:null}],displayName:"CommentForm",props:{shouldShowSuggestedComments:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shouldShowCommentUploadTooltip:{defaultValue:{value:"() => () => {}",computed:!1},type:{name:"func"},required:!1,description:""},commentPromptType:{defaultValue:{value:"COMMENT_PROMPT_NONE",computed:!0},type:{name:"enum",value:[{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0}]},required:!1,description:""},onCreate:{type:{name:"func"},required:!0,description:""},onClose:{type:{name:"func"},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},isCommunityTeam:{type:{name:"bool"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},transformationCreateStyles:{type:{name:"object"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},showPopOver:{type:{name:"func"},required:!1,description:""},viewedCommentUploadPopupAction:{type:{name:"func"},required:!1,description:""},setReactionGifSearchStringAction:{type:{name:"func"},required:!0,description:""},newOPWelcomeAnalyticsAction:{type:{name:"func"},required:!0,description:""},level:{type:{name:"number"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""}}};var Na=Object(D.b)((function(e,t){var n=e.ui,r=e.user,a=e.ad,o=e.postsData,i={};a.getIn(["transformation","enabled"])&&(i={borderColor:"rgb(".concat(a.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(a.getIn(["transformation","primaryColor"]),", 0.32)")});var c=Object(oa.b)(r,o,t.level);return{shouldShowCommentUploadTooltip:function(e){return n.emeraldFeature.get("viewedCommentUploadTooltip")?function(){}:e},isCommunityTeam:-1!==r.get("roles").indexOf(na.c),isLoading:n.spinner.get("createPostComment")&&n.spinner.get("createPostComment").loading,transformationCreateStyles:i,commentPromptType:Object(oa.b)(r,o,t.level),shouldShowSuggestedComments:c!==ut.e&&Object(oa.g)(o),opUsername:o.getIn(["currentPost","account","username"]),placeholder:Object(F.b)("commentWrite")}}),Sa)(Pa),wa=n("hIyu"),ja=n("0WSl");function qa(e){var t=e.postId,n=e.commentId,r=e.parentId,a=e.username,o=e.currentUsername,i=e.muteUserData,c=e.setDeleteCommentData,s=e.openDeleteCommentDialog,l=e.isLoggedIn,u=e.history,d=o&&a.toLowerCase()===o.toLowerCase(),m=l&&!d&&C.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),i(a,He.b,n)}},C.a.createElement(je.fb,{className:"icon",name:je.v,width:"32",height:"32",fillColor:"#B4B9C2"}),C.a.createElement("span",{className:"label"},Object(F.b)("commentMuteUser"))),p=l&&d&&C.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),c(n),s()}},C.a.createElement(je.fb,{className:"icon",name:je.H,width:"32",height:"32",fillColor:"#B4B9C2"}),C.a.createElement("span",{className:"label"},Object(F.b)("commentDelete"))),f=C.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(Te.e)(t,n))}},C.a.createElement(je.fb,{className:"icon stroke",name:je.s,width:"32",height:"32",fillColor:"#B4B9C2"}),C.a.createElement("span",{className:"label"},Object(F.b)("commentPermalink"))),h=!!r&&C.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(Te.f)(t,n))}},C.a.createElement(je.fb,{className:"icon stroke",name:je.s,width:"32",height:"32",fillColor:"#B4B9C2"}),C.a.createElement("span",{className:"label"},Object(F.b)("commentContext")));return C.a.createElement(Ht.a,{className:"CommentDropdown-menu Dropdown--btn",dropdownIcon:C.a.createElement(je.fb,{name:je.l,width:"24",height:"24"})},f,h,m,p,C.a.createElement(Yt,{reportType:Wt.d,id:n,isMature:!1}))}qa.defaultProps={currentUsername:""};qa.__docgenInfo={description:"",methods:[],displayName:"CommentDropDownMenu",props:{currentUsername:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},openDeleteCommentDialog:{type:{name:"func"},required:!0,description:""},setDeleteCommentData:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},parentId:{type:{name:"number"},required:!1,description:""}}};var Ia=Object(Ne.c)(Object(D.b)((function(e){var t=e.user;return{isLoggedIn:!!t.get("isLoggedIn"),currentUsername:t.get("username","")}}),{muteUserData:Pe.E,openDeleteCommentDialog:dt.y,setDeleteCommentData:dt.C}),k.h)(qa);n("G6+a");function Da(e){var t=e.avatar,n=e.username,r=e.isSubComment,a=e.onUserProfileClick;return C.a.createElement("div",{className:"GalleryComment-avatar-bar"},C.a.createElement("div",{className:"avatar"},C.a.createElement(Fe,{username:n,onClick:a},C.a.createElement("span",{style:{backgroundImage:"url(".concat(t,")")},title:n}))),r&&C.a.createElement("div",{className:"verticalLine"}))}Da.__docgenInfo={description:"",methods:[],displayName:"CommentAvatarBar",props:{avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""}}};n("Dk6w");function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Aa=function(e){m()(n,e);var t=Ta(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"randomVector",(function(){return 2*Math.random()-1})),b()(u()(r),"createParticles",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!r.shouldCreateParticles)return e;for(var t=ge()(e),n=0;n<6;n++)t.push({x:r.canvas.width/2+100*r.randomVector(),y:r.canvas.height/2,size:Math.floor(Math.random()*Math.floor(8)),opacity:1,vectorX:r.randomVector(),vectorY:r.randomVector()});return t})),b()(u()(r),"drawParticles",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.context,n=ge()(e),a=0;a<n.length;a++){t.beginPath(),t.arc(n[a].x,n[a].y,.5*n[a].size,0,2*Math.PI);var o=t.createRadialGradient(n[a].x,n[a].y,.5*n[a].size,n[a].x+.1,n[a].y,.1);o.addColorStop(.2143,"rgba(45, 217, 244, ".concat(n[a].opacity,")")),o.addColorStop(1,"rgba(22, 191, 118, ".concat(n[a].opacity,")")),t.fillStyle=o,t.filter="none",t.closePath(),t.fill(),t.beginPath(),t.arc(n[a].x,n[a].y,.5*n[a].size+2,0,2*Math.PI),t.fillStyle="rgba(67, 208, 189, ".concat(n[a].opacity,")"),t.filter="blur(".concat(8,"px)"),t.closePath(),t.fill()}return n})),b()(u()(r),"moveParticles",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ge()(e),n=0;n<t.length;n++)t[n].x+=.8*t[n].vectorX,t[n].y+=.8*t[n].vectorY,t[n].size=Math.max(0,t[n].size-.005),t[n].opacity=Math.max(0,t[n].opacity-.012),t[n].opacity<=0&&t.splice(n,1);return t})),b()(u()(r),"clearFrame",(function(){var e=r.context;e&&e.clearRect&&e.clearRect(0,0,r.canvas.width,r.canvas.height)})),b()(u()(r),"draw",(function(){if(r.counter++,r.shouldAnimate){if(r.clearFrame(),!r.particles.length&&!r.shouldCreateParticles)return r.stopAnimation(!0);r.particles=r.moveParticles(r.particles),r.drawParticles(r.particles),r.lastFrameId=Object(N.nb)((function(){return r.draw()}))}})),b()(u()(r),"startAnimation",(function(e){if(r.counter=0,!r.canvas)return e;r.stopAnimation(!0),r.shouldAnimate=!0,r.shouldCreateParticles=!0,r.particles=[],r.particles=r.createParticles(r.particles),r.animationTimer=Object(N.vb)((function(){r.particles=r.createParticles(r.particles)}),250),r.draw(r.particles)})),b()(u()(r),"stopAnimation",(function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return Object(N.e)(r.lastFrameId),r.clearFrame(),r.particles=[],r.shouldAnimate=!1,void Object(N.h)(r.animationTimer);r.shouldCreateParticles=!1})),r.canvas=Object(v.createRef)(),r.context=null,r.particles=[],r.animationTimer=null,r.lastFrameId=null,r.shouldAnimate=!1,r.shouldCreateParticles=!0,r}return s()(n,[{key:"componentDidMount",value:function(){this.context=this.canvas.getContext("2d")}},{key:"componentWillUnmount",value:function(){this.stopAnimation(!0)}},{key:"render",value:function(){var e=this,t=this.props.rank;return C.a.createElement("div",{className:"badge-best-wrapper"},C.a.createElement("canvas",{className:"badge-best-animation",ref:function(t){e.canvas=t}}),C.a.createElement(De.a,{to:"/leaderboard",className:"badge-best",onMouseEnter:this.startAnimation,onMouseLeave:function(){return e.stopAnimation()}},C.a.createElement("span",null,Object(F.b)("bestComment",t))))}}]),n}(C.a.PureComponent);Aa.__docgenInfo={description:"",methods:[{name:"randomVector",docblock:null,modifiers:[],params:[],returns:null},{name:"createParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"drawParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"moveParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"clearFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[],returns:null},{name:"startAnimation",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"stopAnimation",docblock:null,modifiers:[],params:[{name:"immediately",type:null}],returns:null}],displayName:"CommentLeaderboardBadge",props:{rank:{type:{name:"number"},required:!0,description:""}}};n("WHPL");function Ra(e){var t=e.postId,n=e.username,r=e.commentId,a=e.parentId,o=e.hasOpBadge,i=e.hasAdminBadge,c=e.avatar,s=e.onAvatarProfileClick,l=e.onUserProfileClick,u=e.createdAtDate,d=e.platform,m=e.isSubComment,p=e.rank,f=e.onGiveEmerald,h=e.isUserLoggedIn,g=e.currentUsername,y=e.isPromotedPost,b=Ce()({"byline-badge":!0,"byline-badge-admin":i,"byline-badge-op":o&&!i}),v=new Date(u),E=Object(et.e)(d);return C.a.createElement("div",{className:"GalleryComment-byLine"},C.a.createElement("div",{className:"Meta"},C.a.createElement(Da,{username:n,avatar:c,isSubComment:m,onUserProfileClick:s}),C.a.createElement(Fe,{className:"author-name",username:n,onClick:l}),(o||i)&&C.a.createElement("div",{className:b},i&&C.a.createElement("a",{className:"admin-badge-link",href:ja.a,target:"_blank",rel:"noopener noreferrer"},C.a.createElement(je.fb,{name:je.P,width:"16",height:"16"}),C.a.createElement("span",{className:"byline-badge-text"},Object(F.b)("adminBadge"))),o&&i&&C.a.createElement("div",{className:"delimiter byline-badge-text"},"|"),o&&C.a.createElement("span",{className:"byline-badge-text"},"OP")),C.a.createElement("span",{className:"date",title:v},C.a.createElement("span",{className:"delimiter"},""),Object(tt.o)(v," ago"),E&&C.a.createElement(C.a.Fragment,null," via ",C.a.createElement("a",{className:"platform bold",href:"/apps"},E))),C.a.createElement(Mt.a,{currentUsername:g,itemUsername:n,isUserLoaded:!0,isPromoted:y,isEnabled:me.t},C.a.createElement(_t.a,{isUserLoggedIn:h,showTitle:!0,onClick:f,customClasses:"GiveEmeraldButton-secondary"})),p&&C.a.createElement(Aa,{rank:p}),C.a.createElement(Ia,{postId:t,commentId:r,parentId:a,username:n})))}Ra.__docgenInfo={description:"",methods:[],displayName:"CommentByline",props:{postId:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},hasOpBadge:{type:{name:"bool"},required:!1,description:""},hasAdminBadge:{type:{name:"bool"},required:!1,description:""},onAvatarProfileClick:{type:{name:"func"},required:!0,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},rank:{type:{name:"number"},required:!1,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onGiveEmerald:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};n("Lz/x");function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Ma=function(e){m()(n,e);var t=xa(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),b()(u()(e),"collapseReplies",(function(t){var n=e.props.toggleReplies;t.stopPropagation(),n(!1)})),b()(u()(e),"extendReplies",(function(t){var n=e.props.toggleReplies;t.stopPropagation(),n(!0)})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.replies,n=e.isExpanded,r=e.onReply,a=e.showReply,o=e.vote,i=e.pointCount,c=e.hasMoreComments,s=e.loadMore,l=e.onVote;return C.a.createElement("div",{className:"GalleryComment-actions"},C.a.createElement("div",{className:"vote-btn upvote actions-btn",onClick:function(e){return l(e,o===$e.b?$e.c:$e.b)},title:Object(F.b)("upvoteHint")},C.a.createElement(Ir.b,{selected:o===$e.b,isMini:!0,strokeColor:"#B4B9C2"})),C.a.createElement("div",{className:"points ".concat(o)},"".concat(Object(et.j)(i))),C.a.createElement("div",{className:"vote-btn down actions-btn",onClick:function(e){return l(e,o===$e.a?$e.c:$e.a)},title:Object(F.b)("downvoteHint")},C.a.createElement(Ir.a,{selected:o===$e.a,isMini:!0,strokeColor:"#B4B9C2"})),!c&&C.a.createElement(C.a.Fragment,null,C.a.createElement("button",{type:"button",onClick:this.collapseReplies,className:Ce()({hide:!n,"toggle-replies":!0,"actions-btn":!0})},C.a.createElement(je.fb,{name:je.bb,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(F.b)("commentCollapseReplies")),C.a.createElement("button",{type:"button",onClick:this.extendReplies,className:Ce()({hide:n||!t.size,"toggle-replies":!0,"actions-btn":!0})},C.a.createElement(je.fb,{name:je.cb,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(F.b)("commentRepliesCount",t.size))),c&&C.a.createElement("button",{type:"button",className:"load-more actions-btn",onClick:s},Object(F.b)("loadMore")),a&&C.a.createElement("button",{type:"button",className:"reply actions-btn",onClick:r},C.a.createElement(je.fb,{name:je.R,width:"16",height:"16",strokeColor:"#FFFFFF"}),Object(F.b)("commentReply")))}}]),n}(C.a.PureComponent);Ma.__docgenInfo={description:"",methods:[{name:"collapseReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"extendReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentActions",props:{toggleReplies:{type:{name:"func"},required:!0,description:""},replies:{type:{name:"object"},required:!0,description:""},isExpanded:{type:{name:"bool"},required:!1,description:""},onReply:{type:{name:"func"},required:!0,description:""},showReply:{type:{name:"bool"},required:!0,description:""},onVote:{type:{name:"func"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},pointCount:{type:{name:"number"},required:!1,description:""},loadMore:{type:{name:"func"},required:!1,description:""},hasMoreComments:{type:{name:"bool"},required:!1,description:""}}};n("o+s0");function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Fa=function(e){m()(n,e);var t=_a(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"toggleBadComments",(function(){r.setState((function(e){return{expandBadComments:!e.expandBadComments}}))})),b()(u()(r),"renderBadComments",(function(){var e=r.props.replies.filter((function(e){return e.get("point_count")<0}));return e.size?C.a.createElement("div",null,C.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:r.toggleBadComments},C.a.createElement(je.fb,{name:r.state.expandBadComments?je.bb:je.cb,width:"16",height:"16"}),C.a.createElement("span",null,Object(F.b)("commentToggleBadReplies",r.state.expandBadComments))),r.state.expandBadComments&&e.map((function(e){return C.a.createElement(Va,{key:e.get("id"),comment:e,isSubComment:!0,onCreateComment:r.props.onCreateComment})}))):""})),r.state={expandBadComments:!1},r}return s()(n,[{key:"render",value:function(){var e=this;return C.a.createElement("div",{className:"GalleryComment-replies"},this.props.replies.filter((function(e){return e.get("point_count")>=0})).map((function(t){return C.a.createElement(Va,{key:t.get("id"),comment:t,isSubComment:!0,level:e.props.level,expandMode:e.props.expandMode,onCreateComment:e.props.onCreateComment})})),this.renderBadComments())}}]),n}(C.a.Component);Fa.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentReplies",props:{replies:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},level:{type:{name:"number"},required:!0,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""}}};n("GGeJ");function Ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var La=function(e){m()(n,e);var t=Ga(n);function n(e){var r;i()(this,n),r=t.call(this,e),b()(u()(r),"isCommentExpanded",(function(e){return e.expandMode===ut.i&&e.level<ut.a&&e.comment.get("comments").size>0})),b()(u()(r),"hasMoreComments",(function(){var e=r.props,t=e.level,n=e.comment;return t===ut.a&&(n.get("comments").size>0||n.get("next"))})),b()(u()(r),"toggleReplies",(function(e){r.setState({expanded:e})})),b()(u()(r),"onReply",(function(e){var t=r.props,n=t.isUserLoggedOut,a=t.showPopOver;if(e.stopPropagation(),n)return a(wr.k,e.currentTarget);r.setState({reply:!0})})),b()(u()(r),"onCloseReply",(function(){r.setState({reply:!1})})),b()(u()(r),"onCreate",(function(e){var t=e.comment,n=e.hasAdminBadge,a=e.file,o=r.props;(0,o.onCreateComment)({comment:t,hasAdminBadge:n,parentId:o.comment.get("id"),file:a}),r.setState({reply:!1,expanded:!0})})),b()(u()(r),"onVote",(function(e,t){var n=r.props,a=n.comment,o=n.onVote,i=n.isUserLoggedOut,c=n.showPopOver,s=n.vote;return e.stopPropagation(),i?c(t===$e.b?wr.f:wr.d,e.currentTarget):o(a.get("id"),t,s)})),b()(u()(r),"onProfileClick",(function(e){var t=r.props,n=t.comment;return(0,t.onProfileClick)(n.get("account_id"),e)})),b()(u()(r),"onUserProfileClick",(function(){return r.onProfileClick("Username Comment")})),b()(u()(r),"onAvatarProfileClick",(function(){return r.onProfileClick("Avatar Comment")})),b()(u()(r),"onContainerClick",(function(e){var t=r.state.expanded;r.props.comment.get("comments").size>0&&"A"!==e.target.tagName&&r.setState({expanded:!t})})),b()(u()(r),"loadMore",(function(e){var t=r.props,n=t.comment,a=t.history;e.stopPropagation(),a.push(Object(Te.f)(n.get("post_id"),n.get("id")))})),b()(u()(r),"onGiveEmerald",(function(){var e=r.props,t=e.giveEmeraldData,n=e.comment,a=n.getIn(["account"]);t({recipientUsername:a.get("username"),recipientId:a.get("id"),source:Ze.l,sourceURL:me.T+Object(Te.e)(n.get("post_id"),n.get("id")),postId:n.get("post_id"),commentId:n.get("id")})})),b()(u()(r),"shouldShowAprilFoolsBorder",(function(){var e=r.props.isTopComment;return jr.h&&e}));var a=e.isTopComment;return r.state={expanded:r.isCommentExpanded(r.props),reply:!1},jr.h&&a&&(r.initialGradient=Object(qr.c)()),r}return s()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.expandMode,n=this.state.expanded;e.expandMode!==t&&(n&&t<=ut.h?this.setState({expanded:!1}):!n&&this.isCommentExpanded(this.props)&&this.setState({expanded:!0}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isSubComment,r=e.opUsername,a=e.level,o=e.displayUsername,i=e.vote,c=e.expandMode,s=e.onCreateComment,l=e.postMedia,u=e.isUserLoggedOut,d=e.currentUsername,m=e.isPromotedPost,p=this.state,f=p.expanded,h=p.reply,g=t.getIn(["account","username"]),y=t.get("comments"),b=Ce()({"GalleryComment-wrapper":!0,"comment-op":g===r,"comment-admin":t.get("has_admin_badge")}),v=this.hasMoreComments();return C.a.createElement("div",{className:"GalleryComment"},C.a.createElement("div",{className:b},this.shouldShowAprilFoolsBorder()&&C.a.createElement("div",{className:"april-fools-comment",style:{background:"".concat(Object(qr.d)(i,this.initialGradient)," border-box")}}),C.a.createElement("div",{className:"hover-background"}),C.a.createElement("div",{className:"GalleryComment-container",onClick:this.onContainerClick},C.a.createElement("div",{className:"GalleryComment-content"},C.a.createElement(Ra,{username:g,hasOpBadge:g===r,hasAdminBadge:t.get("has_admin_badge"),onAvatarProfileClick:this.onAvatarProfileClick,onUserProfileClick:this.onUserProfileClick,isSubComment:n,commentId:t.get("id"),parentId:t.get("parent_id"),postId:t.get("post_id"),platform:t.get("platform"),createdAtDate:t.get("created_at"),avatar:t.getIn(["account","avatar"]),rank:t.get("rank"),onGiveEmerald:this.onGiveEmerald,isUserLoggedIn:!u,currentUsername:d,isPromotedPost:m}),C.a.createElement("div",{className:"GalleryComment-body"},C.a.createElement(wa.a,{expandlink:"true",opUsername:r,isLinkifyTargetMedia:!0,postMedia:l},t.get("comment"))),C.a.createElement(Ma,{replies:y,toggleReplies:this.toggleReplies,isExpanded:f,onReply:this.onReply,showReply:!h&&!v,vote:i,onVote:this.onVote,pointCount:t.get("point_count"),hasMoreComments:v,loadMore:this.loadMore})))),h&&C.a.createElement("div",{className:"GalleryComment-reply"},C.a.createElement("div",{className:"avatar"},C.a.createElement(xt.b,{displayUsername:o}),C.a.createElement("div",{className:"verticalLine"})),C.a.createElement(Na,{onCreate:this.onCreate,onClose:this.onCloseReply,placeholder:Object(F.b)("commentWriteReply"),level:a,autoFocus:!0})),f&&!v&&C.a.createElement(Fa,{replies:y,level:a+1,expandMode:c,onCreateComment:s}))}}]),n}(C.a.Component);La.defaultProps={level:1},La.__docgenInfo={description:"",methods:[{name:"isCommentExpanded",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"hasMoreComments",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleReplies",docblock:null,modifiers:[],params:[{name:"expand",type:null}],returns:null},{name:"onReply",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCloseReply",docblock:null,modifiers:[],params:[],returns:null},{name:"onCreate",docblock:null,modifiers:[],params:[{name:"{\n    comment: commentString,\n    hasAdminBadge,\n    file,\n}",type:null}],returns:null},{name:"onVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onContainerClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"loadMore",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowAprilFoolsBorder",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Comment",props:{level:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},comment:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},isTopComment:{type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!0,description:""},showPopOver:{type:{name:"func"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},postMedia:{type:{name:"object"},required:!0,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};var Va=Object(Ne.c)(Object(D.b)((function(e,t){var n=e.postsData,r=e.user,a=t.comment;return{opUsername:n.getIn(["currentPost","account","username"]),postMedia:n.getIn(["currentPost","media"]),isPromotedPost:n.getIn(["currentPost","isAd"]),vote:n.getIn(["currentPostMeta","user","comment_votes","".concat(a.get("id"))]),isUserLoggedOut:!r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",currentUsername:r.get("username")||""}}),{onVote:dt.D,showPopOver:wr.s,onProfileClick:Pe.S,giveEmeraldData:st.r}),k.h)(La);n("q8cC");function Ua(e){var t=e.count,n=void 0===t?1:t;return C.a.createElement("div",{className:"CommentsList-Placeholder-wrapper"},function(){for(var e=[],t=0;t<n;t++)e.push(C.a.createElement("div",{key:t,className:"CommentsList-Placeholder"},C.a.createElement("div",{className:"CommentsList-Placeholder-avatar-wrapper"},C.a.createElement("div",{className:"CommentsList-Placeholder-avatar"})),C.a.createElement("div",{className:"CommentsList-Placeholder-line-wrapper"},C.a.createElement("div",{className:"CommentsList-Placeholder-line"}),C.a.createElement("div",{className:"CommentsList-Placeholder-line"}),C.a.createElement("div",{className:"CommentsList-Placeholder-line"}),C.a.createElement("div",{className:"CommentsList-Placeholder-line"}))));return e}())}Ua.__docgenInfo={description:"",methods:[],displayName:"CommentsPlaceholder",props:{count:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};n("B0tv");function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Ha=function(e){m()(n,e);var t=Ba(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"toggleBadComments",(function(){r.setState((function(e){return{expandBadComments:!e.expandBadComments}}))})),b()(u()(r),"shouldRefetchComments",(function(e){var t=r.props,n=t.postId,a=t.commentId,o=t.parentContext,i=t.isUserLoaded;return e.postId!==n||e.commentId!==a||e.parentContext!==o||e.isUserLoaded!==i})),b()(u()(r),"loadMoreHandler",(function(){var e=r.props,t=e.commentsSort,n=e.postCommentsNextPageLink;(0,e.fetchComments)(t,n)})),b()(u()(r),"renderEmptyState",(function(){return C.a.createElement("div",{className:"CommentsList-comments--empty"},C.a.createElement(Ye.V,{name:Ye.p,width:92}),C.a.createElement("span",null,Object(F.b)("beTheFirstToComment")))})),b()(u()(r),"renderBadComments",(function(e){var t=r.props,n=t.expandMode,a=t.onCreateComment,o=r.state.expandBadComments,i=e.filter((function(e){return e.get("point_count")<0}));return i.size?C.a.createElement("div",null,C.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:r.toggleBadComments},C.a.createElement(je.fb,{name:o?je.bb:je.cb,width:"16",height:"16"}),C.a.createElement("span",null,Object(F.b)("commentToggleBadComments",o))),o&&i.entrySeq().map((function(e){var t=Rt()(e,2),r=t[0],o=t[1];return C.a.createElement(Va,{key:r,comment:o,expandMode:n,onCreateComment:a})}))):""})),b()(u()(r),"renderLoadingComponent",(function(){var e=r.props,t=e.isMainContentReady,n=e.isLoading,a=e.isAllCommentsLoaded,o=e.parentContext;return t&&!n?!a&&!o&&C.a.createElement(Sn,{message:Object(F.b)("loadMoreComments"),onClick:r.loadMoreHandler}):C.a.createElement(Ua,{count:3})})),r.commentsListContainer=Object(v.createRef)(),r.state={expandBadComments:!1,commentsListContainerStyles:{}},r}return s()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchComments)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetPostCommentsAction)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetPostCommentsAction,r=t.fetchComments;this.shouldRefetchComments(e)&&(n(),r())}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,r=t.postId,a=t.isMainContentReady,o=t.isLoading,i=t.commentId,c=t.expandMode,s=t.onCreateComment,l=this.state.commentsListContainerStyles;return C.a.createElement("div",{className:"CommentsList-comments",ref:function(t){e.commentsListContainer=t},style:l},i&&C.a.createElement("div",{className:"single-comment-thread"},C.a.createElement("span",null,Object(F.b)("viewingSingleComment")),C.a.createElement("p",null,C.a.createElement(De.a,{to:"/".concat(W.m,"/").concat(r),className:"load-more"},Object(F.b)("seeRestComments")))),C.a.createElement("div",{className:"CommentsList-comments--container"},a&&n.size>0&&n.filter((function(e){return e.get("point_count")>=0})).entrySeq().map((function(e,t){var n=Rt()(e,2),r=n[0],a=n[1];return C.a.createElement(Va,{key:r,comment:a,expandMode:c,isTopComment:t<jr.g,onCreateComment:s})})),a&&this.renderBadComments(n),!n.size&&!o&&this.renderEmptyState()),C.a.createElement("div",{className:"CommentsList-comments--loading"},this.renderLoadingComponent()))}}]),n}(C.a.Component);Ha.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRefetchComments",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"loadMoreHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"renderEmptyState",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[{name:"comments",type:null}],returns:null},{name:"renderLoadingComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentsList",props:{postId:{type:{name:"string"},required:!0,description:""},comments:{type:{name:"object"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},postCommentsNextPageLink:{type:{name:"string"},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isAllCommentsLoaded:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},fetchComments:{type:{name:"func"},required:!0,description:""}}};var Wa=Object(D.b)((function(e){var t=e.postsData,n=e.comments,r=e.ui,a=e.user;return{postId:t.get("currentPost").get("id"),comments:n.get("postComments"),commentsSort:n.get("postCommentsSort"),postCommentsNextPageLink:n.get("postCommentsNextPageLink"),isLoading:r.spinner.get("postComments",{}).loading||!1,isAllCommentsLoaded:n.get("isAllPostCommentsLoaded"),isMainContentReady:t.get("isMainContentReady"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded")}}),{resetPostCommentsAction:dt.A,commentSortSelectedAction:dt.p})(Ha),za=n("gjSL");n("QqH4");function Ya(){return C.a.createElement("div",{className:"Comment-create"},C.a.createElement("div",{className:"Comment-create-guest"},C.a.createElement("span",{className:"placeholder"},Object(F.b)("signInToLeaveComment")),C.a.createElement("div",null,C.a.createElement(ze.b,{className:"Button signin",label:Object(F.b)("signIn"),title:Object(F.b)("signIn"),href:Object(za.a)()}),C.a.createElement(ze.b,{className:"Button signup",label:Object(F.b)("signUp"),title:Object(F.b)("signUp"),href:Object(za.b)()}))))}function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}Ya.__docgenInfo={description:"",methods:[],displayName:"SignInToLeaveComment"};var Ka=function(e){m()(n,e);var t=Ja(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"expandAll",(function(){r.setState({expandMode:ut.i})})),b()(u()(r),"collapseAll",(function(){r.setState((function(e){return{expandMode:ut.h-Math.abs(e.expandMode)}}))})),b()(u()(r),"handleClickToggleForceExpanded",(function(){r.state.expandMode!==ut.i?r.expandAll():r.collapseAll()})),b()(u()(r),"onKeyboardInteraction",(function(e){if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case"[":r.handleClickToggleForceExpanded(e);break;case"]":r.collapseAll()}return e})),b()(u()(r),"createComment",(function(e){var t=e.comment,n=e.hasAdminBadge,a=void 0!==n&&n,o=e.parentId,i=void 0===o?null:o,c=e.file,s=void 0===c?null:c,l=r.props,u=l.postId;(0,l.createPostCommentAction)({imageId:u,comment:t,parentId:i,hasAdminBadge:a,file:s})})),b()(u()(r),"fetchComments",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.props,a=n.id,o=n.fetchPostCommentsAction,i=n.commentId,c=n.parentContext,s=n.scrollToComments,l=n.contentOffset,u=n.galleryId,d=n.isUserLoggedIn;if(n.isUserLoaded){var m=d?ut.l:ut.m;t&&(m=ut.k),o(u,e,t,i,0!==c,m),i&&s(a,l)}})),b()(u()(r),"setPlaceholderHeight",(function(){r.setState({commentsListContainerStyles:{minHeight:"".concat(r.commentsListContainer.current.getBoundingClientRect().height,"px")}})})),b()(u()(r),"sortHandler",(function(e){var t=r.props,n=t.commentSortSelectedAction,a=t.resetPostCommentsAction;r.setPlaceholderHeight(),a(),r.fetchComments(e),n(e)})),r.commentsListContainer=C.a.createRef(),r.state={expandMode:e.commentId?ut.i:ut.g,commentsListContainerStyles:{}},r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.kb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.commentId,a=t.comments;!e.commentId&&r&&this.expandAll(),e.commentId&&!r&&e.postId===n&&this.setState({expandMode:ut.h}),a.size&&!Object(ye.is)(e.comments,a)&&this.setState({commentsListContainerStyles:{}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.lazyLoad,r=e.postId,a=e.isUserLoggedIn,o=e.commentsSortList,i=e.commentsSort,c=e.commentCount,s=e.parentContext,l=e.commentId,u=this.state,d=u.expandMode,m=u.commentsListContainerStyles,p=d===ut.i,f=C.a.createElement(Wa,{id:t,expandMode:d,onCreateComment:this.createComment,fetchComments:this.fetchComments,parentContext:s,commentId:l});return C.a.createElement("div",{id:t,className:"CommentsList",ref:this.commentsListContainer,style:m},a?C.a.createElement(Na,{key:"commentForm-".concat(r),onCreate:this.createComment}):C.a.createElement(Ya,null),C.a.createElement("div",{id:"".concat(t,"-headline"),className:"CommentsList-headline"},C.a.createElement("div",{className:"CommentsList-headline--counter"},C.a.createElement("span",null,Object(F.b)("postCommentsCounter",Object(et.j)(c)))),C.a.createElement("div",{className:"CommentsList-headline--expand",onClick:this.handleClickToggleForceExpanded},C.a.createElement("span",null,Object(F.b)("expandAll",p))," ",C.a.createElement(je.fb,{name:p?je.W:je.Y,width:"15",height:"15",fillColor:"#DADCE2"})),C.a.createElement(Ht.a,{className:"CommentsList-headline--sort",dropdownIcon:C.a.createElement(Ye.V,{name:Ye.f,width:15}),options:o,value:i,onChange:this.sortHandler})),n?C.a.createElement(ne,{lazyLoadBuffer:400},(function(){return f})):f)}}]),n}(C.a.Component);function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showContext,n=e.commentId;return t||(n?1:0)}Ka.__docgenInfo={description:"",methods:[{name:"expandAll",docblock:null,modifiers:[],params:[],returns:null},{name:"collapseAll",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickToggleForceExpanded",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"createComment",docblock:null,modifiers:[],params:[{name:"{\n    comment,\n    hasAdminBadge = false,\n    parentId = null,\n    file = null,\n}",type:null}],returns:null},{name:"fetchComments",docblock:null,modifiers:[],params:[{name:"sort",type:null},{name:"postCommentsNextPageLink",type:null}],returns:null},{name:"setPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"sortHandler",docblock:null,modifiers:[],params:[{name:"sort",type:null}],returns:null}],displayName:"CommentsListWrapper",props:{id:{type:{name:"string"},required:!0,description:""},lazyLoad:{type:{name:"bool"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},comments:{type:{name:"object"},required:!0,description:""},commentsSortList:{type:{name:"array"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},galleryId:{type:{name:"string"},required:!1,description:""},createPostCommentAction:{type:{name:"func"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},fetchPostCommentsAction:{type:{name:"func"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},scrollToComments:{type:{name:"func"},required:!0,description:""}}};var Qa=Object(k.h)(Object(D.b)((function(e,t){var n=e.postsData,r=e.comments,a=e.user,o=e.ui,i=t.match;return{postId:n.get("currentPost").get("id"),commentCount:n.getIn(["currentPostMeta","post","comment_count"],0),commentId:(i.params||{}).commentId||null,comments:r.get("postComments"),commentsSort:r.get("postCommentsSort"),commentsSortList:r.get("postCommentsSortList"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded"),parentContext:Xa(i.params),contentOffset:o.cover.get("collapsed",0),galleryId:(i.params||{}).galleryId}}),{createPostCommentAction:dt.r,commentSortSelectedAction:dt.p,fetchPostCommentsAction:dt.t,resetPostCommentsAction:dt.A,scrollToComments:Nr.g})(Ka));function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var $a=function(e){m()(n,e);var t=Za(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"onResize",(function(e){r.updateContentWrapperWidth(e)})),b()(u()(r),"updateContentWrapperWidth",(function(){(0,r.props.updateGalleryContentWrapperWidth)(r.getMaxWidth())})),b()(u()(r),"getMaxWidth",(function(){var e=r.contentWrapper.current;return e&&e.getBoundingClientRect().width||_.q})),r.contentWrapper=C.a.createRef(),r}return s()(n,[{key:"componentDidMount",value:function(){Object(N.c)("resize",this.onResize),this.updateContentWrapperWidth(this.getMaxWidth())}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationAnimating,r=e.transformationTitleStyle,a=e.isFadeOut,o=e.style,i=e.commentsListId,c=e.isContentWrapperMount,s=e.commentPermalinkId,l=e.isOwner,u=e.showsTransformationButton;return C.a.createElement(Tt.c,{isLoading:!t},t?C.a.createElement("div",{className:"Gallery".concat(n?" Gallery--transformation":""),style:o},C.a.createElement("div",{className:"Gallery-MainContainer".concat(a?" fadeOut":"")},C.a.createElement(ea,{post:t,commentsListId:i,showsTransformationButton:u}),C.a.createElement("div",{className:"Gallery-contentWrapper"},C.a.createElement("div",{className:"Gallery-insideContentWrapper",ref:this.contentWrapper},c&&C.a.createElement(zn,{post:t,transformationTitleStyle:r,isOwner:l}),c&&!t.get("commentsDisabled")&&C.a.createElement(Qa,{id:i,lazyLoad:!s})))),C.a.createElement("div",{className:"Gallery-Sidebar"},C.a.createElement(Pr,null))):C.a.createElement("div",{className:"placeholder"}))}}]),n}(C.a.Component);$a.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"updateContentWrapperWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMaxWidth",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostContentWrapper",props:{post:{type:{name:"object"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isFadeOut:{type:{name:"bool"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},isContentWrapperMount:{type:{name:"bool"},required:!1,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!1,description:""},commentPermalinkId:{type:{name:"string"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};n("CVa3");function eo(e){var t=e.style,n=e.children,r=e.showGate,a=Object(F.b)("desktopAgeGate"),o=Object(v.useState)(!1),i=Rt()(o,2),c=i[0],s=i[1];return r&&!c?C.a.createElement("div",{className:"WallPage"},C.a.createElement("div",{className:"WallPage-background"}),C.a.createElement(Ee.a,{minHeight:0,className:"GalleryCover",backgroundType:j.n,hideNewPostNotification:!0}),C.a.createElement("div",{className:"Wall",style:t},C.a.createElement("img",{src:Ye.a[Ye.H]}),a.text,C.a.createElement("div",{className:"Wall-choices"},C.a.createElement("a",{className:"Wall-Button Button btn-wall--no",href:"/"},a.backButton),C.a.createElement("div",{className:"Wall-Button Button btn-wall--yes",onClick:function(){return s(!0)}},a.continueButton)),C.a.createElement("div",{className:"Wall-footer"},a.terms))):n}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}eo.__docgenInfo={description:"",methods:[],displayName:"Wall",props:{style:{type:{name:"object"},required:!1,description:""},children:{type:{name:"element"},required:!1,description:""},showGate:{type:{name:"bool"},required:!1,description:""}}};var no=function(e){m()(n,e);var t=to(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"loadPrimis",(function(){var e=r.props,t=e.post,n=e.adsEnabled,a=e.isLoggedIn,o=e.userIsLoaded,i=r.state.primisLoaded;if(i&&o&&!a&&t&&n&&Object(L.e)(t.get("adConfig"))&&!t.get("is_ad"))if(i){var c=document.getElementById("primisPlayerContainerDiv");c&&c.classList.remove("hide!")}else{var s,l,u=(l={s:s=108937,playerApiId:s},Object(me.X)()||(l.pubUrl="www.primis.tech"),Object(N.n)("script",{src:"https://live.primis.tech/live/liveView.php?".concat(new URLSearchParams(l)),async:!0}));document.body.appendChild(u),r.setState({primisLoaded:!0})}})),b()(u()(r),"hidePrimis",(function(){if(r.state.primisLoaded){var e=document.getElementById("primisPlayerContainerDiv");if(e){e.classList.add("hide!");var t=e.querySelector("video");t&&(t.muted=!0)}}})),b()(u()(r),"onResize",(function(e){(0,r.props.updateViewportHeightAction)(e)})),b()(u()(r),"scrollToFirstMedia",(function(){var e=Object(N.L)(),t=r.props.byLinePosition;(e>=r.state.previousByLinePosition-26||e>t-25)&&Object(N.rb)(0,t-25)})),b()(u()(r),"onKeyboardInteraction",(function(e){var t=r.props,n=t.history,a=t.newPostAction,o=t.goToPreviousPostAction,i=t.goToNextPostAction,c=t.params,s=t.toggleAudioState;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case w.g:case w.f:r.lastNavArrow=!0,o(q.o.HOTKEY,c);break;case w.i:case w.h:r.lastNavArrow=!0,i(q.o.HOTKEY,c);break;case"`":a(),n.push("/".concat(W.y));break;case"m":case"M":s()}return e})),b()(u()(r),"retrievePost",(function(e){var t=r.props,n=t.params,a=t.post,o=t.retrievePostAction,i=t.retrievePostMetaAction,c=t.retrievePromotedPostAction,s=t.failedFetchAttempts,l=t.toastError,u=t.incomingPost,d=r.state.setToast;3!==s?a&&!u&&a.get("id")===e||(u&&u.get("isAdInserted")?c(e):u&&u.get("inGallery")&&u.get("media")&&u.get("media").size>0?i(e,u):o(e)):d||(r.setState({setToast:!0}),l({id:"post-".concat(n.galleryId),description:Object(F.b)("errorLoadingPost")}))})),b()(u()(r),"calculateTopOffset",(function(e){return Math.max(0,e-2*j.h)})),b()(u()(r),"onScroll",(function(){var e=r.props,t=e.reachedBottom,n=e.post,a=e.isLoading,o=e.isCommentsLoading,i=Object(N.Z)(),c=Object(N.u)(),s=Object(N.s)();i+c>=s-q.p&&n&&!r.reachedBottomSent&&!a&&!o&&(t(n,s),r.reachedBottomSent=!0)})),r.state={isFadeOut:!1,isContentWrapperMount:!1,setToast:!1,prevPostId:null,previousByLinePosition:e.byLinePosition,primisLoaded:!1},r.reachedBottomSent=!1,r.lastNavArrow=!1,r}return s()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params,n=e.retrievePostAction,r=t.galleryId;n&&this.retrievePost(r);var a=this.props.history;a&&"PUSH"===a.action&&Object(N.rb)(0,0),Object(N.c)("keydown",this.onKeyboardInteraction),this.loadPrimis()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.params,a=t.post,o=t.isLoading,i=t.isLoggedIn,c=t.promotedPostViewAction,s=t.setTransformationAction,l=t.isPromotedTransformation,u=t.transformationEnabled,d=t.transformationEnabledByDefault,m=t.transformationEnabledByUser,p=t.updateAdConfigAction,f=t.sendToTop,h=t.retrievePostAction,g=t.showsTransformationButton,y=this.state.isFadeOut,b=r.galleryId;if((!e.retrievePostAction&&h||a&&b!==a.get("id")&&!o)&&(this.retrievePost(b),this.reachedBottomSent=!1),y&&(f?Object(N.qb)((function(){return Object(N.rb)(0,0)})):Object(N.qb)(this.scrollToFirstMedia),this.lastNavArrow=!1),a&&!e.post&&Object(N.qb)((function(){return Object(N.Cb)("resize")})),a){var v=!e.post||a.get("id")!==e.post.get("id"),C=!Object(L.e)(a.get("adConfig"))&&e.post&&Object(L.e)(e.post.get("adConfig"));a.get("isAd")&&v?(c(a.get("id")),!l&&u&&s(!1,!1,!1)):C&&!l&&!a.get("inGallery")&&u?s(!1,!1,!1):!u&&(m||null===m&&d)&&g&&s(!0,!1,!1),!v||a.get("inGallery")||Object(L.e)(a.get("adConfig"))||p({enabled:!1}),!n||a.get("is_ad")||i?this.hidePrimis():this.loadPrimis()}}},{key:"componentWillUnmount",value:function(){var e=this.props.resetPostDataAction;Object(N.kb)("resize",this.onResize),Object(N.kb)("keydown",this.onKeyboardInteraction),e(),this.hidePrimis()}},{key:"shouldShowGate",value:function(){var e=this.props,t=e.isLoggedIn,n=e.post;if(t||!n||n.get("inGallery"))return!1;var r=n.getIn(["adConfig","wallFlags"]);return r&&r.includes(z.q)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.topOffset,r=e.isLoggedIn,a=e.isOwner,o=e.transformationEnabled,i=e.transformationAnimating,c=e.transformationCoverStyle,s=e.transformationBackgroundStyle,l=e.transformationTitleStyle,u=e.postWidth,d=e.adsEnabled,m=e.updateGalleryContentWrapperWidth,p=e.params,f=e.isMainContentReady,h=e.isInRecircExperimentWithTreatment,g=e.treatment,y=e.isLoading,b=e.showsTransformationButton,v=this.state,E=v.isFadeOut,O=v.isContentWrapperMount,k={marginTop:this.calculateTopOffset(n)},P="CommentsList-".concat(t&&t.get("id"));return C.a.createElement(eo,{showGate:this.shouldShowGate()},C.a.createElement("div",{className:"GalleryPage",style:s},o&&C.a.createElement(pe.a,{width:u,height:"1000"}),C.a.createElement(be,{post:t}),C.a.createElement(ue.a,null),C.a.createElement($.d,null),C.a.createElement(Nt,null),r&&C.a.createElement(C.a.Fragment,null,C.a.createElement(Ke,null),t&&C.a.createElement(Xe.a,{postId:t.get("id"),isAlbum:t.get("isAlbum")}),C.a.createElement(pt,null),C.a.createElement(Et,null)),C.a.createElement(lt,null),C.a.createElement(re.a,null),C.a.createElement(ae.a,null),C.a.createElement(oe.a,null),C.a.createElement(ie.a,null),C.a.createElement("div",{className:"GalleryPage-background",style:c}),C.a.createElement(Be,null),C.a.createElement($a,{style:k,post:t,transformationAnimating:i,transformationTitleStyle:l,isFadeOut:E,commentsListId:P,isContentWrapperMount:O,updateGalleryContentWrapperWidth:m,commentPermalinkId:p.commentId,isOwner:a,showsTransformationButton:b}),C.a.createElement("div",{className:"badges-wrapper"},C.a.createElement(Q.a,null)),t&&d&&C.a.createElement(qt,{post:t}),t&&f&&!y&&C.a.createElement(ne,{lazyLoadBuffer:800},(function(){return C.a.createElement(le,{experimentName:I.e},h&&!t.get("isAd")?C.a.createElement(B,{op:t.getIn(["account","username"],""),postHash:t.get("id"),treatment:g}):C.a.createElement(H,{adsEnabled:d,adConfig:t.get("ad_config")}))})),t&&t.get("hasPicsart")&&C.a.createElement(It.a,null),C.a.createElement(Z.a,null),C.a.createElement(X,{onScroll:this.onScroll})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.failedFetchAttempts,r=e.isLoading,a=e.isLoadingMeta,o=e.post,i=e.byLinePosition,c=t.setToast,s=t.prevPostId,l=t.isFadeOut;if(o&&o.get("id")!==s)return{prevPostId:o.get("id"),isContentWrapperMount:!0,setToast:!1};if(0===n&&c)return{setToast:!1};if(o&&(r||a)){if(!l)return{previousByLinePosition:i,isFadeOut:!0}}else if(l)return{isFadeOut:!1};return null}}]),n}(C.a.Component);no.defaultProps={failedFetchAttempts:0};var ro=function(e,t){var n=e.experiments,r=e.postsData,a=e.display,o=e.posts,i=e.ui,c=e.user,s=e.ad,l=n.get(I.e),u=l&&l.get("isActive")&&!l.get("isControl"),d=l?l.get("activeTreatment"):"",m=s.getIn(["transformation","enabled"]),p=s.getIn(["transformation","enabledByDefault"]),f=s.getIn(["transformation","enabledByUser"]),h={},g={},y={};if(s.getIn(["transformation","animatingIn"])&&(h={opacity:0}),m){var b=s.getIn(["transformation","backgroundColor"]);h={background:"linear-gradient(rgba(".concat(b,", 0.4) 0%, rgba(").concat(b,", 1) 100%), url(").concat(s.getIn(["transformation","backgroundImage"]),")"),opacity:s.getIn(["transformation","animatingOut"])?0:1},g={background:"rgb(".concat(s.getIn(["transformation","backgroundColor"]),")")},y={fontFamily:s.getIn(["transformation","fontFamily"]),fontSize:s.getIn(["transformation","titleFontSize"])}}var v=r.get("currentPost")&&Object(Dt.b)(r.get("currentPost")),C=Object(de.g)(s,c),E=s.getIn(["transformation","promotedPostIds"]).includes(r.getIn(["currentPost","id"])),O=(new Date).getTime(),k=!!v&&(C&&(Object(L.e)(v.get("adConfig"))||v.get("inGallery")&&!v.get("isAd")||E)&&O>s.getIn(["transformation","startTime"])&&(O<s.getIn(["transformation","endTime"])||m));return{isInRecircExperimentWithTreatment:u,treatment:d,post:v,incomingPost:o.getIn(["posts",S()(t,"match.params.galleryId")]),isMainContentReady:r.get("isMainContentReady"),topOffset:i.cover.get("height"),userIsLoaded:c.get("isLoaded"),isLoggedIn:!!c.get("isLoggedIn"),isOwner:c.get("isLoggedIn")&&c.get("id")===r.getIn(["currentPost","account","id"]),isLoading:i.spinner.get("retrievePost",{}).loading,isLoadingMeta:i.spinner.get("retrievePostMeta",{}).loading,isCommentsLoading:i.spinner.get("postComments",{}).loading||!1,byLinePosition:r.get("byLinePosition"),adsEnabled:C,isPromotedTransformation:E,transformationAnimating:s.getIn(["transformation","animatingIn"])||s.getIn(["transformation","animatingOut"]),transformationCoverStyle:h,transformationBackgroundStyle:g,transformationTitleStyle:y,transformationEnabled:m,transformationEnabledByDefault:p,transformationEnabledByUser:f,failedFetchAttempts:r.get("error").failedFetchAttempts,sendToTop:S()(t,"location.state.sendToTop",!1),postWidth:a.getIn(["viewPort","width"]),showsTransformationButton:k}};function ao(e){var t=Object(k.g)();return C.a.createElement(no,a()({params:t},e))}no.__docgenInfo={description:"",methods:[{name:"loadPrimis",docblock:null,modifiers:[],params:[],returns:null},{name:"hidePrimis",docblock:null,modifiers:[],params:[],returns:null},{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"scrollToFirstMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"retrievePost",docblock:null,modifiers:[],params:[{name:"galleryId",type:null}],returns:null},{name:"calculateTopOffset",docblock:null,modifiers:[],params:[{name:"coverHeight",type:null}],returns:null},{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowGate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDetail",props:{failedFetchAttempts:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},params:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},incomingPost:{type:{name:"object"},required:!1,description:""},topOffset:{type:{name:"number"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},userIsLoaded:{type:{name:"bool"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isLoadingMeta:{type:{name:"bool"},required:!1,description:""},byLinePosition:{type:{name:"number"},required:!1,description:""},isCommentsLoading:{type:{name:"bool"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationCoverStyle:{type:{name:"object"},required:!1,description:""},transformationBackgroundStyle:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},transformationEnabled:{type:{name:"bool"},required:!1,description:""},transformationEnabledByDefault:{type:{name:"bool"},required:!1,description:""},transformationEnabledByUser:{type:{name:"bool"},required:!1,description:""},postWidth:{type:{name:"number"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},setTransformationAction:{type:{name:"func"},required:!1,description:""},toggleAudioState:{type:{name:"func"},required:!1,description:""},isPromotedTransformation:{type:{name:"bool"},required:!1,description:""},promotedPostViewAction:{type:{name:"func"},required:!0,description:""},reachedBottom:{type:{name:"func"},required:!0,description:""},updateViewportHeightAction:{type:{name:"func"},required:!0,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!0,description:""},goToNextPostAction:{type:{name:"func"},required:!0,description:""},goToPreviousPostAction:{type:{name:"func"},required:!0,description:""},newPostAction:{type:{name:"func"},required:!0,description:""},retrievePostAction:{type:{name:"func"},required:!0,description:""},retrievePromotedPostAction:{type:{name:"func"},required:!0,description:""},retrievePostMetaAction:{type:{name:"func"},required:!0,description:""},resetPostDataAction:{type:{name:"func"},required:!0,description:""},toastError:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!0,description:""},updateAdConfigAction:{type:{name:"func"},required:!0,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},treatment:{type:{name:"string"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}},ao.__docgenInfo={description:"",methods:[],displayName:"PostDetailWithParams"}},QFwP:function(e,t,n){},QqH4:function(e,t,n){},"R/W3":function(e,t,n){var r=n("KwMD"),a=n("2ajD"),o=n("CZoQ");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},Rhnt:function(e,t,n){},SeDK:function(e,t,n){},SsiD:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("J4zp"),a=n.n(r),o=n("L4iE"),i=n("fPgW");function c(){return o.a[Math.floor(Math.random()*o.a.length)]}function s(e,t){switch(e){case i.b:return o.c;case i.a:return o.b;default:return t}}function l(e){return o.d.reduce((function(e,t,n){var r,i=a()(t,2),c=i[0],s=i[1],l=e.accCharsCount,u=e.accPercent;if(l<=0)return e;var d=null!==(r=o.d[n-1])&&void 0!==r?r:[],m=a()(d,2),p=m[0],f=void 0===p?0:p,h=m[1],g=c-f,y=s-(void 0===h?0:h);return{accCharsCount:l-g,accPercent:u+Math.min(l,g)*(y/g)}}),{accCharsCount:e,accPercent:0}).accPercent}function u(e,t){return e===o.f?o.e:t}},T7zL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("G5ih")),i=n("gGMO"),c=n("Nm7g");n("pxaO");function s(e){var t=e.points,n=e.ups,r=e.downs,s=66*Math.PI,l=n*s/(n+r);return a.a.createElement("div",{className:"ChartData"},a.a.createElement("div",{className:"Chart"},a.a.createElement("svg",{width:"192",height:"192",viewBox:"14 0 178 192",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{filter:"url(#filter0_d)"},a.a.createElement("g",{filter:"url(#filter1_d)"},a.a.createElement("circle",{cx:"96",cy:"86",r:"65",fill:"#FE6065"})),a.a.createElement("circle",{r:"33",cx:"0",cy:"0",stroke:"#2FBE7C",strokeWidth:"97",strokeDasharray:"".concat(l," ").concat(s),transform:"rotate(-90) scale(1, -1) translate(-86, -96)"}),a.a.createElement("g",{filter:"url(#filter2_d)"},a.a.createElement("circle",{cx:"96",cy:"86",r:"50",fill:"#3C424B"})),a.a.createElement("text",{x:"96",y:"82",textAnchor:"middle",className:"points"},Object(c.j)(t)),a.a.createElement("text",{x:"96",y:"100",textAnchor:"middle",className:"pointsLabel"},Object(o.b)("statisticsDialogPoints"))),a.a.createElement("defs",null,a.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"192",height:"192",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.a.createElement("feOffset",{dy:"10"}),a.a.createElement("feGaussianBlur",{stdDeviation:"7"}),a.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),a.a.createElement("filter",{id:"filter1_d",x:"17",y:"17",width:"158",height:"158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.a.createElement("feOffset",{dy:"10"}),a.a.createElement("feGaussianBlur",{stdDeviation:"7"}),a.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),a.a.createElement("filter",{id:"filter2_d",x:"32",y:"24",width:"128",height:"128",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.a.createElement("feOffset",{dy:"2"}),a.a.createElement("feGaussianBlur",{stdDeviation:"7"}),a.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))),a.a.createElement("div",{className:"Votes"},a.a.createElement("div",{className:"ups"},a.a.createElement(i.b,{isMini:!0,selected:!0})," ",Object(c.j)(n)),a.a.createElement("div",{className:"downs"},a.a.createElement(i.a,{isMini:!0,selected:!0})," ",Object(c.j)(r))))}s.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{points:{type:{name:"number"},required:!0,description:""},ups:{type:{name:"number"},required:!0,description:""},downs:{type:{name:"number"},required:!0,description:""}}}},Uyyq:function(e,t,n){e.exports=n.p+"desktop-assets/drag.660828a621ac6ca507e8b0ec53165870.png"},Uz4u:function(e,t,n){e.exports=n.p+"desktop-assets/ReactionGifEmptySearch.2ac15cedf0d98e71a201086d56b96c2a.svg"},Uzvo:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return I}));var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("AoHe"),E=n("+qLk");var O=n("KMpf");n("ZYtQ");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}function N(e){var t=function(t){m()(r,t);var n=S(r);function r(){return s()(this,r),n.apply(this,arguments)}return u()(r,[{key:"render",value:function(){if(!e)return null;var t=this.props,n=t.post,r=t.height,o=t.width,i=t.colorLoading,c=t.streamSection,s=t.streamParam;if(!n)return null;var l=n.toJS(),u={color:i,height:r},d=Object(C.b)(l,o,r),m=d.contentWidth,p=d.contentHeight,f=Object(C.e)(l.isAd,r,p,null!=l.title&&l.title.length),h="".concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.inGallery||![E.H,E.r,E.F,E.t,E.u].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.isAlbum?"/a":"":"/".concat(E.n)}(l,c,s),"/").concat(l.id),g=P(P({},this.props),{},{spinner:u,post:P(P({},l),{},{streamParam:s||l.streamParam,streamSection:c||l.streamSection,width:m,height:p,href:h}),styles:f});return b.a.createElement(e,a()({className:"Post-item"},g))}}]),r}(b.a.Component);return t}function w(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["posts",o]);return{post:i&&Object(O.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}function j(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["recircPosts",o]);return{post:i&&Object(O.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}var q=function(e){return Object(v.b)(w)(N(e))},I=function(e){return Object(v.b)(j)(N(e))}},VhX2:function(e,t,n){var r=n("vlbB");e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},W8uW:function(e,t,n){},WHPL:function(e,t,n){},WYmX:function(e,t,n){},X9Zs:function(e,t,n){e.exports=n.p+"desktop-assets/b3.e6334893f2151aa2c16ce7596c4daeaa.svg"},"XF+e":function(e,t,n){},XKKw:function(e,t,n){},XVVZ:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),o=n.n(a),i=n("J4zp"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=(n("17x9"),n("b5GN")),d=n("AG5K"),m=n("OX3u"),p=n("GB65"),f=n("pNV7"),h=n("BWa0");n("7Yk7");function g(e){var t=e.initialNumber,n=e.minNumber,r=e.maxNumber,a=e.onNumberChange,o=Object(s.useState)(t),i=c()(o,2),u=i[0],d=i[1],m=function(e){""!==e?(e=Math.min(Math.max(n,e),r))!==u&&(d(e),a(e)):d(e)},p=function(e,t){return l.a.createElement(h.fb,{name:e,width:"26",height:"26",viewBox:"0 0 26 26",className:t?"disabled":"",fillColor:t?"#585D6A":"#ffffff",strokeColor:t?"#585D6A":"#ffffff"})};return l.a.createElement("div",{className:"InputStepper"},l.a.createElement("div",{className:"InputStepper-minus",onClick:function(){return m(u-1)}},p(h.M,n===u)),l.a.createElement("div",{className:"InputStepper-number"},l.a.createElement("input",{type:"number",value:u,onChange:function(e){return m(e.target.value)},onBlur:function(){u||d(n)},min:n,max:r})),l.a.createElement("div",{className:"InputStepper-plus",onClick:function(){return m(u+1)}},p(h.N,r===u)))}g.defaultProps={initialNumber:1,minNumber:1,maxNumber:12,onNumberChange:function(){}},g.__docgenInfo={description:"",methods:[],displayName:"InputStepper",props:{initialNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},minNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},maxNumber:{defaultValue:{value:"12",computed:!1},type:{name:"number"},required:!1,description:""},onNumberChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""}}};n("rlD7");function y(e){var t=e.monthNumber,n=e.price,r=e.onClick,a=e.isDisabled;return l.a.createElement("button",{type:"button",className:"GiveGiftButton",onClick:r,disabled:a},l.a.createElement("div",{className:"GiveGiftButton-description"},l.a.createElement(h.fb,{name:h.Z,width:"20",height:"20",viewBox:"0 0 20 20"}),l.a.createElement("span",null,Object(d.a)("giftPeriod",t))),l.a.createElement("div",{className:"GiveGiftButton-price"},"$".concat((n*t).toFixed(2))))}y.defaultProps={monthNumber:1,price:5,onClick:function(){}},y.__docgenInfo={description:"",methods:[],displayName:"GiveGiftButton",props:{monthNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},price:{defaultValue:{value:"5",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}};var b=n("7oyi");n("IgJu");var v=n("wAdX"),C=n("/PhX"),E=n("RUHF");t.a=Object(r.b)((function(e){var t=e.emerald,n=e.user,r=t.get("giveEmeraldData").toJS();return r.gifterId=n.get("id"),{giftData:r}}),(function(e){return{close:function(){e(Object(C.y)(m.p)),e(Object(E.v)())},submit:function(t){e(Object(E.p)(t))}}}))(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n){var r=n.giftData,a=n.close,i=n.onDialogOpen,v=n.submit;if(!r.recipientUsername)return null;var C=Object(s.useState)(r.amount||1),E=c()(C,2),O=E[0],k=E[1],P=Object(s.useState)(r.anonymous||!1),S=c()(P,2),N=S[0],w=S[1],j=Object(s.useState)(!1),q=c()(j,2),I=q[0],D=q[1];return l.a.createElement(e,o()({className:"GiveGiftDialog",isModal:!1,onClose:a,name:m.p,onOpen:i},t),l.a.createElement("div",{className:"GiveGiftDialog-head"},l.a.createElement(f.V,{name:f.R}),l.a.createElement(b.b,{className:"GiveGiftDialog-head--close",image:l.a.createElement(h.fb,{name:h.h,width:"32",height:"32"}),onClick:a})),l.a.createElement("div",{className:"GiveGiftDialog-content"},l.a.createElement("div",{className:"GiveGiftDialog-title"},r.title||Object(d.a)("giveGiftDialogTitle")),l.a.createElement("div",{className:"GiveGiftDialog-description"},Object(d.a)("giveGiftDialogDescription",r.recipientUsername)),l.a.createElement("div",{className:"GiveGiftDialog-input"},l.a.createElement("span",null,Object(d.a)("howManyMonths")),l.a.createElement(g,{initialNumber:O,onNumberChange:k})),l.a.createElement("div",{className:"GiveGiftDialog-anonymously"},l.a.createElement("label",{className:"GiveGiftDialog-anonymously--input"},l.a.createElement("input",{type:"checkbox",name:"giftAnonymously",id:"giftAnonymously",onChange:function(){return w(!N)},checked:N}),l.a.createElement("span",null)),l.a.createElement("label",{className:"GiveGiftDialog-anonymously--label",htmlFor:"giftAnonymously"},Object(d.a)("giftAnonymously"))),l.a.createElement("div",{className:"GiveGiftDialog-button"},l.a.createElement(y,{monthNumber:O,onClick:function(){D(!0);var e=Object(p.H)();v(Object.assign(r,{amount:O,anonymous:N,redirectURL:e,sourceURL:r.sourceURL?r.sourceURL:e,recipientUsername:r.recipientUsername}))},isDisabled:I})),l.a.createElement("div",{className:"GiveGiftDialog-footer"},Object(d.a)("giveGiftDialogFooter"),l.a.createElement("a",{href:"/".concat(u.f,"?source=giveGiftDialog"),target:"_blank",rel:"noreferrer noopener"},Object(d.a)("fullInfo")))))}return n.defaultProps={onDialogOpen:function(){}},n}(v.a))},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},Ya97:function(e,t,n){},ZCgT:function(e,t,n){var r=n("tLB3"),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZYtQ:function(e,t,n){},"a/1F":function(e,t,n){},c0eP:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("/MKj")),s=n("55Ip"),l=n("TSYQ"),u=n.n(l),d=n("pNV7"),m=n("b5GN"),p=n("G5ih"),f=n("fdoY"),h=(n("W8uW"),Object(p.b)("newPost"));function g(e){var t=e.className,n=e.onClick,r=u()(a()({Button:!0,upload:!0},t,t));return i.a.createElement(s.a,{className:r,to:"/".concat(m.y),onClick:n},i.a.createElement("img",{src:d.a[d.o]}),i.a.createElement("span",{className:"newPostLabel"},h))}function y(e){var t=e.onClick;return i.a.createElement(s.a,{to:"/".concat(m.y),onClick:t},h)}g.defaultProps={className:""};var b=Object(c.b)(null,{onClick:f.ib}),v=b(y);g.__docgenInfo={description:"",methods:[],displayName:"NewPostButton",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},t.b=b(g),y.__docgenInfo={description:"",methods:[],displayName:"NewPostLink",props:{onClick:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return M}));var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=(n("4cSd"),n("q1tI")),C=n.n(v),E=(n("17x9"),n("/MKj")),O=n("TSYQ"),k=n.n(O),P=n("GB65"),S=n("wmRA"),N=n("yA1n"),w=n("WY5P"),j=n("2c7z"),q=n("ej/z"),I=n("x3Un"),D=n("F8bk");n("qhsG");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var A=function(e){m()(n,e);var t=T(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"movementStartPos",0),b()(u()(r),"volumeStart",0),b()(u()(r),"stateIndicator",C.a.createRef()),b()(u()(r),"time",C.a.createRef()),b()(u()(r),"scrubber",C.a.createRef()),b()(u()(r),"bar",C.a.createRef()),b()(u()(r),"audioIndicator",C.a.createRef()),b()(u()(r),"volume",C.a.createRef()),b()(u()(r),"updateDimensionsFromScrubber",(function(){var e=r.scrubber.current.offsetWidth;e||(e=1),r.updateDimensions(e,r.scrubber.current.getBoundingClientRect().left)})),b()(u()(r),"handleMouseDown",(function(){Object(P.c)("mouseup",r.handleMouseUp),Object(P.c)("mousemove",r.handleMouseMove),Object(P.y)("body").style.userSelect="none",r.setState({dragging:!0})})),b()(u()(r),"handleMouseUp",(function(){var e=r.props.onTimeChange;Object(P.kb)("mouseup",r.handleMouseUp),Object(P.kb)("mousemove",r.handleMouseMove),Object(P.y)("body").style.userSelect="auto",r.setState((function(t){return{scrubPauseWait:e(t.playedPercentModifier),dragging:!1}}))})),b()(u()(r),"handleMouseMove",(function(e){var t=r.props.onScrubbing,n=r.state.scrubberWidth;t();var a=r.movementStartPos,o=n;r.setState({playedPercentModifier:r.getPlayedPercentModifier(e.pageX,a,o)})})),b()(u()(r),"handleMouseDownVolume",(function(){Object(P.c)("mouseup",r.handleMouseUpVolume),Object(P.c)("mousemove",r.handleMouseMoveVolume),Object(P.y)("body").style.userSelect="none",r.volumeStart=r.volume.current.getBoundingClientRect().left})),b()(u()(r),"handleMouseUpVolume",(function(e){Object(P.kb)("mouseup",r.handleMouseUpVolume),Object(P.kb)("mousemove",r.handleMouseMoveVolume),Object(P.y)("body").style.userSelect="auto",r.setVolumeFromCoordinates(e.pageX)})),b()(u()(r),"handleMouseMoveVolume",(function(e){r.setVolumeFromCoordinates(e.pageX)})),b()(u()(r),"handleScrubberBarClick",(function(e){var t=r.props.onTimeChange,n=r.state.scrubberWidth,a=r.movementStartPos,o=n;t(r.getPlayedPercentModifier(e.pageX,a,o))})),r.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.updateDimensionsFromScrubber(),Object(P.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach((function(t){return Object(P.a)(t,e.updateDimensionsFromScrubber)}))}},{key:"componentWillUnmount",value:function(){var e=this;Object(P.kb)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach((function(t){return Object(P.hb)(t,e.updateDimensionsFromScrubber)}))}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.playedPercentModifier,r=t.scrubPauseWait;null!==n&&e.playedPercent>r&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=this.props.onVolumeChange,n=1-Math.min(Math.max((this.volumeStart+104+Object(P.B)("scrollX")-e)/104,0),1);t(n),this.setState({volume:n})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var r=(e-t)/n;return r<0?0:r>1?1:r}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],r=[],a=0;a<n.length;a++)if(e<=n[a][0]){r=[a-1,a];break}var o=n[r[0]][1],i=n[r[1]][1],c=n[r[0]][0],s=(e-c)/(n[r[1]][0]-c);return this.pickRgb(i,o,s).join()}},{key:"pickRgb",value:function(e,t,n){var r=((2*n-1)/1+1)/2,a=1-r;return[Math.round(e[0]*r+t[0]*a),Math.round(e[1]*r+t[1]*a),Math.round(e[2]*r+t[2]*a)]}},{key:"render",value:function(){var e=this.props,t=e.playedPercent,n=e.duration,r=e.time,a=e.playState,o=e.audioState,i=e.fullscreen,c=e.onPlayToggle,s=e.toggleFullscreen,l=e.hasAudio,u=e.onAudioToggle,d=e.id,m=e.hash,p=e.title,f=e.index,h=this.state,g=h.playedPercentModifier,y=h.scrubberWidth,b=h.volume,v=h.dragging,E=t;null!==g&&(E=g);var O=y*E,P=-1*O,S=(O+=5)-25,w=Math.floor(n-r),j="".concat(O,"px"),q=a===N.d.PLAY_STATE.PRESENT_PLAYING?"playing":"paused",I=this.slide(O,y),T="0 0 10px 0 rgb(".concat(I,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(I,")"),A=o===N.d.AUDIO_STATE.PRESENT_MUTED?"mute":"on",R=k()({"PostVideoControls-fullscreen":!0,fullscreen:i}),x=o===N.d.AUDIO_STATE.PRESENT_MUTED?0:104*b,M=x;return C.a.createElement("div",{className:"PostVideoControls",id:d},!l&&C.a.createElement(D.a,{hash:m,title:p,indexForComment:f}),C.a.createElement("div",{className:"PostVideoControls-container"},C.a.createElement("span",{onClick:c,className:"PostVideoControls-state"},C.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(q)},"")),C.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(w/60),":",this.pad(w%60)),C.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},C.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"},""),C.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:j}},C.a.createElement("style",null,"\n                                ".concat(d?"#".concat(d):""," .PostVideoControls-scrubber-bar::after{\n                                    width: ").concat(y,"px;\n                                }\n                                ").concat(d?"#".concat(d):""," .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(I,")\n                                }\n\n                            "))),C.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:j}}),v&&C.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},C.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:S}},C.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:P}})),C.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:S}},C.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:P}}))),C.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:j,background:"rgb(".concat(I,")"),boxShadow:T},onMouseDown:this.handleMouseDown},C.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:P}}))),s&&C.a.createElement("span",{onClick:function(){return s(!0)},className:R},"")),l?C.a.createElement("span",{className:"PostVideoControls-audio-container"},C.a.createElement("span",{ref:this.audioIndicator,onClick:u,className:"PostVideoControls-audio PostVideoControls-audio-".concat(A)}),C.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},C.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:x}}),C.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:M}})),C.a.createElement(D.a,{hash:m,title:p,indexForComment:f})):"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),n}(C.a.Component);A.defaultProps={volume:N.a},A.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!0,description:""}}};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var x=function(e){m()(n,e);var t=R(n);function n(e){var r;i()(this,n),r=t.call(this,e),b()(u()(r),"unmount",!1),b()(u()(r),"timeStarted",-1),b()(u()(r),"timePlayed",0),b()(u()(r),"duration",0),b()(u()(r),"soundWasEverEnabled",!1),b()(u()(r),"videoContainer",C.a.createRef()),b()(u()(r),"srcmp4",C.a.createRef()),b()(u()(r),"video",C.a.createRef()),b()(u()(r),"updateAudioState",(function(e){var t=r.props,n=t.globalAudioState,a=t.hash,o=t.setHashWithAudioOn,i=t.isFirst,c=t.hashWithAudioOn,s=r.state.audioState;if(e.globalAudioState!==n&&n!==s){if(n===N.d.AUDIO_STATE.PRESENT_ON&&a!==c)return void(!c&&i&&(r.setState({audioState:n}),o(a)));r.setState({audioState:n})}})),b()(u()(r),"changeEvent",(function(){Object(P.y)("mozFullScreen")||Object(P.y)("webkitIsFullScreen")||Object(P.y)("fullscreen")||r.toggleFullscreen(!1)})),b()(u()(r),"isVideoElementUnavailable",(function(){return r.unmount||!r.video.current})),b()(u()(r),"onPlayToggle",(function(){if(!r.isVideoElementUnavailable()){var e=r.props,t=e.playVideoByOne,n=e.hash,a=e.addVideoToViewList,o=e.removeVideoFromViewList,i=r.video.current;t&&i.paused&&a(n,!0),t&&!i.paused&&o(n,!0),i.paused?r.play():r.pause()}})),b()(u()(r),"onAudioToggle",(function(){if(!r.isVideoElementUnavailable()){var e=r.props,t=e.hash,n=e.updateAudioState,a=e.setHashWithAudioOn,o=r.state.audioState===N.d.AUDIO_STATE.PRESENT_ON,i=o?N.d.AUDIO_STATE.PRESENT_MUTED:N.d.AUDIO_STATE.PRESENT_ON;r.video.current.muted=o,r.setState({audioState:i},(function(){!o&&t&&a(t)})),n(i),r.soundWasEverEnabled||(r.soundWasEverEnabled=!o)}})),b()(u()(r),"onScrubbing",(function(){if(!r.isVideoElementUnavailable()){var e=r.video.current;e.paused||e.pause()}})),b()(u()(r),"onTimeChange",(function(e){if(!r.isVideoElementUnavailable()){var t=r.video.current;return t.currentTime=t.duration*e,r.isPlaying()&&r.play(),t.currentTime/t.duration}})),b()(u()(r),"onVolumeChange",(function(e){if(!r.isVideoElementUnavailable()){var t=r.props,n=t.hash,a=t.updateAudioState,o=t.updateAudioVolume,i=t.setHashWithAudioOn;r.video.current.volume=e,r.setState({audioState:N.d.AUDIO_STATE.PRESENT_ON,volume:e},(function(){e>0&&n&&i(n)})),o(e),a(N.d.AUDIO_STATE.PRESENT_ON)}})),b()(u()(r),"handleTimeUpdate",(function(e){if(!r.isVideoElementUnavailable()){var t=r.state.progressVisible;r.videoInterval(e),t&&r.setState({playedPercent:r.video.current.currentTime/r.video.current.duration,currentTime:Math.floor(r.video.current.currentTime)})}})),b()(u()(r),"handleMetadata",(function(){if(!r.isVideoElementUnavailable()){var e=r.state.currentTime;r.video.current.currentTime=e,r.setState((function(e){return{playedPercent:e.currentTime/r.video.current.duration,duration:Math.floor(r.video.current.duration)}}))}})),b()(u()(r),"handleData",(function(e){if(!r.isVideoElementUnavailable()){var t=!1;(void 0!==e.target.webkitAudioDecodedByteCount&&e.target.webkitAudioDecodedByteCount>0||void 0!==e.target.mozHasAudio&&e.target.mozHasAudio||void 0!==e.target.audioTracks&&e.target.audioTracks.length>0)&&(t=!0);var n=r.state.volume;r.video.current.volume=n,r.setState((function(e){return{playedPercent:e.currentTime/r.video.current.duration,duration:Math.floor(r.video.current.duration),hasAudio:t}}))}})),b()(u()(r),"handleCanPlay",(function(e){r.isVideoElementUnavailable()||(r.isPaused()||(1!==r.video.current.readyState&&4!==r.video.current.readyState||r.play(),(0,r.props.handleCanPlay)(e)))})),b()(u()(r),"handleVideoSourceError",(function(e){!r.video.current||0!==r.video.current.readyState&&3!==r.video.current.networkState||(r.setState({isError:!0}),(0,r.props.onError)(e))})),b()(u()(r),"toggleFullscreen",(function(e){r.isVideoElementUnavailable()||(Object(P.y)("body").mozRequestFullScreen||Object(P.y)("body").webkitRequestFullScreen||Object(P.y)("body").requestFullScreen)&&(r.state.fullscreen||!1===e?(Object(P.zb)(),Object(P.y)("body").classList.remove("video-hidden-body"),r.setState({fullscreen:!1})):(r.videoContainer.current&&Object(P.Ab)(r.videoContainer.current),Object(P.y)("body").classList.add("video-hidden-body"),r.setState({fullscreen:!0})))})),b()(u()(r),"videoStartedPlaying",(function(){r.setState({playState:N.d.PLAY_STATE.PRESENT_PLAYING}),r.props.promoted&&(r.timeStarted=(new Date).getTime()/1e3)})),b()(u()(r),"videoInterval",(function(e){if(!r.isVideoElementUnavailable()){var t=r.props,n=t.promoted,a=t.controls,o=t.trackPromotedPostVideo,i=t.hash,c=t.postId;if(n&&!r.video.current.paused&&a){var s=r.state,l=s.duration,u=s.controlsEverDisplayed;if(l){if(r.timeStarted>0){var d=(new Date).getTime()/1e3-r.timeStarted;r.timeStarted=-1,r.timePlayed+=d}"timeupdate"===e.type&&(r.timeStarted=(new Date).getTime()/1e3),o({timePlayed:r.timePlayed,supportsAutoPlay:r.supportsAutoPlay,albumHash:c,soundOn:r.video.current.volume>0&&!r.video.current.muted,isControlsOn:u,duration:l,hash:i}),r.timePlayed=0}}}})),b()(u()(r),"handleSeek",(function(e){r.isVideoElementUnavailable()||(r.video.current.currentTime=e)})),b()(u()(r),"handleMouseOver",(function(){r.setState({progressVisible:!0,controlsEverDisplayed:!0})})),b()(u()(r),"handleMouseOut",(function(){r.setState({progressVisible:!1})})),function(e){if("function"!=typeof e)return!1;var t=document.createElement("video");t.pause();var n="play"in t&&t.play();e(!t.paused||"Promise"in window&&n instanceof Promise)}((function(e){r.supportsAutoPlay=e}));var a=e.playAudioIfAvailable&&e.isFirst&&void 0!==e.handleCanPlay?N.d.AUDIO_STATE.PRESENT_ON:N.d.AUDIO_STATE.PRESENT_MUTED;return e.playState===N.d.PLAY_STATE.PRESENT_PAUSED&&e.audioState&&(a=e.audioState),r.state={playedPercent:0,playState:e.playVideo?N.d.PLAY_STATE.PRESENT_PLAYING:N.d.PLAY_STATE.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:a,isError:!1,volume:e.volume,controlsEverDisplayed:!1},r}return s()(n,[{key:"componentWillUnmount",value:function(){var e=this,t=this.props.intersectionObserver;this.unmount=!0,["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach((function(t){return Object(P.hb)(t,e.changeEvent)})),this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load(),t&&t.unobserve(this.video.current)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.playVideo,r=t.playVideoByOne,a=t.hashWithAudioOn,o=t.hashWithVideoOn;e.playVideo!==n&&(e.playVideo&&this.pause(),n&&this.play()),e.hashWithAudioOn!==a&&this.handleGlobalUnmute(a),this.updateAudioState(e),r&&e.hashWithVideoOn!==o&&this.handleGlobalPlay(o)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.intersectionObserver;this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach((function(t){return Object(P.a)(t,e.changeEvent)})),t&&t.observe(this.video.current)}},{key:"handleGlobalUnmute",value:function(e){var t=this.props.hash;this.unmount||this.setState({audioState:e===t?N.d.AUDIO_STATE.PRESENT_ON:N.d.AUDIO_STATE.PRESENT_MUTED})}},{key:"handleGlobalPlay",value:function(e){var t=this.props.hash;this.unmount||(e===t?(this.video.current.play(),this.setState({playState:N.d.PLAY_STATE.PRESENT_PLAYING})):(this.video.current.pause(),this.setState({playState:N.d.PLAY_STATE.PRESENT_PAUSED})))}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then((function(){e.setState({playState:N.d.PLAY_STATE.PRESENT_PLAYING})})).catch((function(){e.setState({playState:N.d.PLAY_STATE.PRESENT_PAUSED})})):this.setState({playState:N.d.PLAY_STATE.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:N.d.PLAY_STATE.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===N.d.PLAY_STATE.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===N.d.PLAY_STATE.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.animationType,n=e.src,r=e.hash,o=e.width,i=e.height,c=e.playVideoByOne,s=e.dataURL,l=e.controls,u=e.classNames,d=e.fallbackMedia,m=e.maxHeight,p=e.title,f=e.index,h=e.postTitle,g=e.postDescription,y=e.mediaDescription,b=e.tags,v=this.state,E=v.isError,O=v.audioState,P=v.fullscreen,w=v.playedPercent,j=v.currentTime,D=v.duration,T=v.playState,R=v.hasAudio,x=v.volume;if(E)return d(n);var M={key:r,style:{width:o,height:m||i},draggable:!1,playsInline:"playsInline",controls:!1};O===N.d.AUDIO_STATE.PRESENT_MUTED&&(M.muted=!0),this.isPlaying()?M.autoPlay="autoplay":M.preload=c?"auto":"metadata",t===S.t&&(M.loop="loop"),s&&(M["data-url"]=s);var _=k()({PostVideo:!0,fullscreen:P}),F=k()({"PostVideo-video-wrapper":!0,"PostVideo--unconstrained":!Object(q.b)(o,i)}),G=Object(I.a)(b,y,g,h);return C.a.createElement("div",{className:_,ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},l&&this.isPaused()&&C.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),C.a.createElement("div",{className:F},C.a.createElement("video",a()({},M,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:P?"fullscreen":u,ref:this.video,hash:r,title:G}),C.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:n.video}))),l&&C.a.createElement(A,{playedPercent:w,time:j,onScrubbing:this.onScrubbing,duration:D,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:O,onAudioToggle:this.onAudioToggle,playState:T,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:P,toggleFullscreen:this.toggleFullscreen,hasAudio:R,volume:x,id:"PostVideoControls-".concat(r),hash:r,title:p,index:f}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),n}(C.a.Component);x.defaultProps={animationType:S.t,controls:!1,src:{image:"",video:""},playState:N.d.PLAY_STATE.PRESENT_PAUSED,currentTime:0,volume:N.a,handleCanPlay:function(){},fallbackMedia:function(e){return C.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0,playVideoByOne:!1,onError:function(){},updateAudioState:function(){},updateAudioVolume:function(){},setHashWithAudioOn:function(){},isFirst:!1,globalAudioState:N.d.AUDIO_STATE.PRESENT_MUTED,postTitle:"",mediaDescription:"",postDescription:"",tags:[]};var M=Object(E.b)((function(e){var t=e.video,n=e.postsData.get("currentPost");return{playAudioIfAvailable:t.get("audioState")===N.d.AUDIO_STATE.PRESENT_ON,hashWithAudioOn:t.get("hashWithAudioOn"),hashWithVideoOn:t.get("hashWithVideoOn"),volume:t.get("volume"),postId:n&&n.get("id"),promoted:n&&!!n.get("promoted"),globalAudioState:t.get("audioState")}}),{updateAudioState:j.o,updateAudioVolume:j.p,setHashWithAudioOn:j.k,addVideoToViewList:j.i,removeVideoFromViewList:j.j,trackPromotedPostVideo:w.d})(x);x.__docgenInfo={description:"",methods:[{name:"updateAudioState",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"changeEvent",docblock:null,modifiers:[],params:[],returns:null},{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hashWithAudioOn",type:null}],returns:null},{name:"handleGlobalPlay",docblock:null,modifiers:[],params:[{name:"hashWithVideoOn",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"(src) => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},playVideoByOne:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioState:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioVolume:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setHashWithAudioOn:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isFirst:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},globalAudioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(VIDEO_CONTROLS.AUDIO_STATE)"},required:!1,description:""},postTitle:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},mediaDescription:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postDescription:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},tags:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"object"}},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},playAudioIfAvailable:{type:{name:"bool"},required:!1,description:""},audioState:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},trackPromotedPostVideo:{type:{name:"func"},required:!1,description:""},addVideoToViewList:{type:{name:"func"},required:!1,description:""},removeVideoFromViewList:{type:{name:"func"},required:!1,description:""},hashWithAudioOn:{type:{name:"string"},required:!1,description:""},hashWithVideoOn:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},intersectionObserver:{type:{name:"object"},required:!1,description:""}}}},"cm4/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("q1tI")),o=s(n("+80P")),i=s(n("wRvv")),c=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=t.linkify=new o.default;u.tlds(i.default);var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.parseCounter=0,l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getMatches",value:function(e){return u.match(e)}},{key:"parseString",value:function(e){var n=this,r=[];if(""===e)return r;var o=this.getMatches(e);if(!o)return e;var i=0;return o.forEach((function(o,c){o.index>i&&r.push(e.substring(i,o.index));var s={href:o.url,key:"parse"+n.parseCounter+"match"+c};for(var l in n.props.properties){var u=n.props.properties[l];u===t.MATCH&&(u=o.url),s[l]=u}r.push(a.default.createElement(n.props.component,s,o.text)),i=o.lastIndex})),i<e.length&&r.push(e.substring(i)),1===r.length?r[0]:r}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):a.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=a.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map((function(e){return t.parse(e)}))),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return a.default.createElement("span",{className:this.props.className},e)}}]),t}(a.default.Component);d.MATCH="LINKIFY_MATCH",d.propTypes={className:c.default.string,component:c.default.any,properties:c.default.object,urlRegex:c.default.object,emailRegex:c.default.object},d.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=d},co09:function(e,t,n){},dQpi:function(e,t,n){var r=n("yGk4"),a=n("vN+2"),o=n("rEGp"),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},dZW6:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("/MKj")),O=n("/PhX"),k=n("GB65"),P=n("G5ih");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}function N(e){var t,n=function(t){m()(r,t);var n=S(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"timeoutId",null),b()(u()(t),"clipboardCopy",(function(){var e=t.inputElement.value;t.inputElement.current.select(),t.timeoutId&&clearTimeout(t.timeoutId);try{var n=Object(k.p)("copy");Object(k.M)().removeAllRanges(),n?(t.props.clipboardCopySuccess(e),t.timeoutId=Object(k.yb)(t.props.clipboardCopyClear,3e3)):t.props.clipboardCopyFail(e,Object(P.b)("clipboardCopyFailMessage"))}catch(n){t.props.clipboardCopyFail(e,n.message)}})),b()(u()(t),"renderInput",(function(e){var n=e.className,r=e.text;return C.a.createElement("input",{className:n,ref:t.inputElement,readOnly:!0,value:r})})),t.inputElement=C.a.createRef(),t}return s()(r,[{key:"render",value:function(){return C.a.createElement(e,a()({},this.props,{renderInput:this.renderInput,clipboardCopy:this.clipboardCopy}))}}]),r}(C.a.Component);return n.displayName="WithClipboardCopy(".concat((t=e).displayName||t.name||"Component",")"),Object(E.b)(null,{clipboardCopyFail:O.w,clipboardCopySuccess:O.x,clipboardCopyClear:O.v})(n)}},eeI0:function(e,t,n){},"ega+":function(e,t,n){"use strict";n.d(t,"a",(function(){return Le})),n.d(t,"b",(function(){return Be})),n.d(t,"c",(function(){return He}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("JPcv"),C=n("wINB"),E=n("sEfC"),O=n.n(E),k=(n("17x9"),n("/MKj")),P=n("TSYQ"),S=n.n(P),N=n("RJ0p"),w=n("4TFA"),j=n("G5ih"),q=n("wmRA"),I=n("jlYo"),D=n("fPgW"),T=n("Bw9V"),A=n("ErBw"),R=n("fdoY"),x=n("Uzvo"),M=n("bWDY"),_=n("q66R"),F=n("GB65"),G=n("Y22u"),L=n("aYmD"),V=n("mcUd"),U=n("yFeA"),B=n("gGMO"),H=n("pVnL"),W=n.n(H),z=n("QILm"),Y=n.n(z),J=n("BWa0");function K(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"currentColor",strokeColor:"#ffffff"}}function X(e){var t=e.isMini,n=void 0===t||t,r=Y()(e,["isMini"]),a=S()({PostViewsIcon:!0}),o=K(n);return b.a.createElement(J.fb,W()({className:a,name:J.db},o,r))}function Q(e){var t=e.isMini,n=void 0===t||t,r=Y()(e,["isMini"]),a=S()({PostCommentsIcon:!0}),o=K(n);return b.a.createElement(J.fb,W()({className:a,name:J.R,title:"Comments"},o,r))}X.__docgenInfo={description:"",methods:[],displayName:"Views",props:{isMini:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""}}},Q.__docgenInfo={description:"",methods:[],displayName:"Comments",props:{isMini:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""}}};var Z=n("129X"),$=n("Nm7g"),ee=n("J4zp"),te=n.n(ee),ne=n("L4iE"),re=n("SsiD"),ae=n("j/yV"),oe=n("pNV7");n("wMLv");function ie(e){var t=e.onVote,n=e.value,r=e.isVoted,a=n.toLocaleString();return b.a.createElement("div",{className:"PostInfo vote ups uScaleTransition",onClick:t},b.a.createElement("span",{className:"icon icon-upvote-fill"},r&&b.a.createElement(ae.a,null)),b.a.createElement("span",null,a))}function ce(e){var t=e.value,n=e.className,r=t.toLocaleString();return Math.trunc(t/1e3)&&(r=Math.round(t/1e3,1)+Object(j.b)("viewsK")),Math.trunc(t/1e6)&&(r=Math.round(t/1e6,1)+Object(j.b)("viewsM")),b.a.createElement("div",{className:"PostInfo uScaleTransition views ".concat(n)},b.a.createElement("span",{className:"icon ".concat(oe.l)},b.a.createElement(oe.V,{name:oe.l})),b.a.createElement("span",null,r))}function se(e){var t=e.text;return b.a.createElement("div",{className:"PostInfo label"},t)}function le(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}function ue(e){var t=e.text,n=e.lines,r=e.fontSize,a=e.lineHeight;return b.a.createElement("span",{style:le(n,r,a)},t)}ie.defaultProps={isVoted:!1},ce.defaultProps={className:""},ie.__docgenInfo={description:"",methods:[],displayName:"PostVoteUp",props:{isVoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},ce.__docgenInfo={description:"",methods:[],displayName:"PostViews",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},se.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},ue.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function de(e){var t,n=e.title,r=e.children,a=e.isNotAd,o=e.privacy,i=e.className,c=e.views,s=e.vote;if(!a&&!n)return null;var l=Object(y.useState)(ne.h?Object(re.c)():""),u=te()(l,1)[0],d=-1===[q.w,q.r].indexOf(o),m=S()("Post-item-title-wrap",(t={},g()(t,i,i),g()(t,"april-fools",ne.h),t)),p=ne.h?{background:Object(re.d)(s,u)}:{};return b.a.createElement("div",{className:m,style:p},b.a.createElement("div",{className:"Post-item-title"},b.a.createElement(ue,{lines:2,fontSize:14,lineHeight:1.14,text:n})),b.a.createElement("div",{className:"Post-item-info"},d&&a&&r,o===q.w&&b.a.createElement(se,{text:Object(j.b)("postPrivate")}),o===q.r&&b.a.createElement(se,{text:Object(j.b)("postHidden")}),a&&c>=1&&b.a.createElement(Z.a,{className:"Post-item-stat uScaleTransition"},b.a.createElement(X,{strokeWidth:0}),b.a.createElement(Z.b,null,Object($.h)(c)))))}de.defaultProps={className:"",privacy:q.x},de.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""}}};var me=n("STNw"),pe=n("gmqy"),fe=n("CG6i"),he=n("cG8M");function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ye=function(e){u()(n,e);var t=ge(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"imageLoaded",!1),g()(s()(e),"handlerLoad",(function(t){e.imageLoaded=!0,e.props.onLoad&&e.props.onLoad(t)})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.onError,a=e.animationType,o=e.playVideo,i=e.src,c=e.placeholderSrc,s=e.showImage,l=c||i.coverImage,u=l;return o&&(u=i.video),a!==q.v&&(u=l),s||a!==q.t||!this.imageLoaded?b.a.createElement(fe.a,{thumbSrc:u,originalSrc:u,height:n,width:t,onError:r,onLoad:this.handlerLoad}):b.a.createElement(he.b,this.props)}}]),n}(b.a.Component);ye.defaultProps={animationType:q.t,src:{image:"",video:"",coverImage:""},playVideo:!0,showImage:!1,postTitle:""},ye.__docgenInfo={description:"",methods:[{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PostHomeVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n    coverImage: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},coverImage:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},showImage:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},postTitle:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},placeholderSrc:{type:{name:"string"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""}}};var be=Object(pe.a)(ye),ve=n("n/mK"),Ce=function(e){var t=e.onLoad,n=e.height,r=e.width;return Object(y.useEffect)((function(){t()}),[]),b.a.createElement("div",{className:"Post-item-media",style:{width:r,height:n}})};Ce.__docgenInfo={description:"",methods:[],displayName:"PostHomeDeleted",props:{onLoad:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""}}};var Ee=Object(pe.a)(Ce),Oe=n("HWIq");n("MZXA");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){var t=e.children,n=e.display,r=void 0===n?[]:n;if(0===r.length)return t;var a=function(){var e="",t={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){switch(n.type){case"accolade_border":t=Pe(Pe({},t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;if(0===t)return{};var n="linear-gradient(165deg,";if(t>1){var r=0,a=100/(t-1);e.forEach((function(e){var t=100===r?")":", ";n+="#".concat(e," ").concat(r,"%").concat(t),r+=a}))}else 1===t&&(n+="#".concat(e[0]," 0%, #").concat(e[0]," 100%)"));return{background:n}}(n.colors));break;case"accolade_icon":e=n.url}})),{styles:t,accoladeImage:e}}(r),o=a.styles,i=a.accoladeImage;return b.a.createElement("div",{style:o,className:"AccoladeBorder"},i&&b.a.createElement(Oe.a,{imageUrl:i,background:!0}),t)}Se.defaultProps={display:[]},Se.__docgenInfo={description:"",methods:[],displayName:"AccoladeBorder",props:{display:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""}}};var Ne=n("fTpD"),we=n.n(Ne),je=n("D0BC"),qe=n.n(je),Ie=n("E9Wd"),De=null,Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_";function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function Me(e){return e*(Math.PI/180)}var _e=function(e){u()(n,e);var t=xe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"clearKey",(function(e){var t=r.state,n=t.interactionsShowing,a=t.interactionTimeouts;Object(F.i)(a[e]);var o=Re({},n),i=Re({},a);delete o[e],delete i[e],r.setState({interactionsShowing:o,interactionTimeouts:i})})),g()(s()(r),"handleClick",(function(){var e=r.props,t=e.adTileInteractions,n=e.onClick,a=e.innerRef,o=a.current.getBoundingClientRect(),i=o.height,c=o.width,s=Object(G.d)(a.current,i/2),l=Object(G.d)(a.current)&&Object(G.b)(a.current),u=Object(G.b)(a.current,-i/2),d=we()(r.spots.filter((function(e){return!(e.top&&!s)&&(!(e.bottom&&!u)&&(!(e.middle&&(e.left||e.right)&&!l)&&e.id!==r.lastUsedSpotId))})));r.lastUsedSpotId=d.id;var m=we()(t);m.height=Math.min(m.height,i),m.width=Math.min(m.width,c);var p={maxHeight:"".concat(i,"px"),maxWidth:"".concat(c,"px"),position:"absolute",zIndex:-1,opacity:1,transform:"rotate(0) scale(0)",top:0,left:0},f=0,h=0,y=we()([0,m.width/4]),v=we()([0,m.width/4]);d.top&&(f=-m.height-v),d.bottom&&(f=i+v),d.middle&&(d.top||d.bottom)&&(h=(c-m.width+qe()(-m.width,m.width))/2),d.left&&(h=-m.width-y),d.right&&(h=c+y),d.middle&&(d.left||d.right)&&(f=(i-m.height+qe()(-m.height,m.height))/2);var C=qe()(0,45)*d.rotationModifier,E=function(e){for(var t="",n=Te.length,r=0;r<Math.max(2,e);r++)t+=Te.charAt(Math.floor(Math.random()*n));return t}(7);if(0!==C){var O=Math.abs(C),k=90-O,P=Me(90),S=Me(O),N=Me(k),w=m.width,j=w*(Math.sin(S)/Math.sin(P)),q=w*(Math.sin(N)/Math.sin(P)),I=(q+q)/3,D=j/3;f=(f>=0?1:-1)*(Math.abs(f)-D/2),h=(h>=0?1:-1)*(Math.abs(h)-I/2)}f="".concat(f,"px"),h="".concat(h,"px"),function(e){De||(De=document.createElement("style"),document.head.appendChild(De)),De.sheet.insertRule(e)}("@keyframes ".concat(E," {\n            20% {\n                top: ").concat(f,";\n                left: ").concat(h,";\n                transform: rotate(").concat(C,"deg) scale(1);\n            }\n            90% {\n                top: ").concat(f,";\n                left: ").concat(h,";\n                transform: rotate(").concat(C,"deg) scale(1);\n                opacity: 1;\n            }\n            100% {\n                top: ").concat(f,";\n                left: ").concat(h,";\n                transform: rotate(").concat(C,"deg) scale(1);\n                opacity: 0;\n            }\n        }")),p.animation="".concat(E," ").concat(5500,"ms"),r.setState((function(e){var t=Re(g()({},E,b.a.createElement("img",{src:"".concat(Ie.U,"/").concat(m.id,".gif"),style:p,key:E})),e.interactionsShowing),n=Object(F.yb)((function(){r.clearKey(E)}),5500);return{interactionsShowing:t,interactionTimeouts:Re(g()({},E,n),e.interactionTimeouts)}})),n()})),r.spots=[{id:1,top:!0,right:!1,bottom:!1,left:!0,middle:!1,rotationModifier:-1},{id:2,top:!0,right:!1,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:3,top:!0,right:!0,bottom:!1,left:!1,middle:!1,rotationModifier:1},{id:4,top:!1,right:!0,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:5,top:!1,right:!0,bottom:!0,left:!1,middle:!1,rotationModifier:-1},{id:6,top:!1,right:!1,bottom:!0,left:!1,middle:!0,rotationModifier:0},{id:7,top:!1,right:!1,bottom:!0,left:!0,middle:!1,rotationModifier:1},{id:8,top:!1,right:!1,bottom:!1,left:!0,middle:!0,rotationModifier:0}],r.lastUsedSpotId=0,r.state={interactionsShowing:{},interactionTimeouts:{}},r}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.innerRef,a=this.state.interactionsShowing;return b.a.createElement("div",{ref:r,onClick:this.handleClick,className:t},Object.values(a),n)}}]),n}(b.a.Component);_e.__docgenInfo={description:"",methods:[{name:"clearKey",docblock:null,modifiers:[],params:[{name:"key",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractableAdTile",props:{adTileInteractions:{type:{name:"array"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""}}};n("ZYtQ");function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function Ge(e){var t=e.isDeleted,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave,o=e.to,i=e.target,c=e.onClick,s=e.innerRef,l=e.isExternalAd,u=e.state,d=e.children,m=e.adTileInteractions,p=e.isFastGridAd;return t||p?b.a.createElement("div",{className:n},d):m.length>0?b.a.createElement(_e,{innerRef:s,className:n,adTileInteractions:m,onClick:c},d):b.a.createElement(ve.a,{draggable:"false",onMouseEnter:r,onMouseLeave:a,className:n,to:o,target:i,onClick:c,innerRef:s,isExternalAd:l,state:u},d)}var Le=function(e){u()(n,e);var t=Fe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"isVoteHandler",!1),g()(s()(r),"handleFastGridAdLoading",(function(e){Object(M.f)(e)&&r.setState({isFastGridAdLoaded:!0})})),g()(s()(r),"getVoteHandler",(function(e){return function(t){var n=r.props,a=n.post,o=n.isUserLoggedIn,i=n.onGalleryImageVote,c=a.title;if(!o||!i)return!0;t.preventDefault();var s=a.vote;r.isVoteHandler=!0,i({postId:a.id,vote:s===e?D.c:e,initialVote:s,trigger:w.q,location:w.l.OUTSIDE,title:c})}})),g()(s()(r),"handlerSaveGalleryPage",(function(){var e=r.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)})),g()(s()(r),"clickHandler",(function(){var e=r.props,t=e.post,n=e.adTileTappedAction,a=e.streamSection,o=e.navigationTrigger,i=e.navigationDirection,c=e.postNavigateAnalyticsAction,s=e.location,l=t.meta;t.isAd&&n&&n(t.id,s,l.interactions.length>0),a&&o&&i&&c(t.id,i,o,V.a[a])})),g()(s()(r),"inViewHandler",(function(){var e=r.props,t=e.post,n=e.location,a=e.adTileInViewAction;a&&Object(G.c)(r.post.current)&&(a(t.id,n),Object(F.kb)("scroll",r.inViewHandler))})),g()(s()(r),"getMediaComponent",(function(){var e=r.props,t=e.post,n=e.spinner,a=e.styles,o=e.isViewPort,i=e.viewGif,c=e.isWebPSupported,s=e.isDeleted,l=t.isVideo,u=t.src,d=t.animationType,m=t.height,p=t.width,f=t.adConfig,h=t.isFastGridAd,g=t.title,y=t.media,C=t.fastGridAdPage,E=t.fastGridAdIndex,O=function(e,t){return t?e.webPImage:e.coverImage}(u,c);if(s)return b.a.createElement(Ee,{styles:a,spinner:n,isDeleted:s,height:m,width:p});if(l)return b.a.createElement(be,{animationType:d,styles:a,src:u,height:m,width:p,playVideo:i&&d===q.t&&o,spinner:n,placeholderSrc:u.videoPoster,showImage:!i,isDeleted:s,postTitle:g});if(h){var k=Object(N.c)(C,E);return b.a.createElement("div",{className:"AdHomeContainer"},b.a.createElement(U.a,{path:k,postAdConfig:Object(v.Map)(f),callback:r.handleFastGridAdLoading,refresh:!0}),Object(_.a)()&&b.a.createElement("span",{className:"Position-pill"}," ",E," - ",C),Object(_.a)()&&b.a.createElement("span",{className:"Loaded-pill"}," ",r.state.isFastGridAdLoaded?"Loaded":"Loading"),Object(_.a)()&&b.a.createElement("span",{className:"AdId-pill"}," ",k))}return b.a.createElement(fe.b,{thumbSrc:O,originalSrc:O,height:m,width:p,styles:a,spinner:n,isDeleted:s,postTitle:g,media:y})})),r.post=b.a.createRef(),r.state={isFastGridAdLoaded:!1},r.props.post.isAd&&(r.inViewHandler=O()(r.inViewHandler.bind(s()(r)),100),Object(F.c)("scroll",r.inViewHandler)),r}return i()(n,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,a=t.isUserLoggedIn,o=t.userId,i=t.onRemoveGalleryPage,c=t.onGalleryImageVote,s=t.usePrivacy,l=t.viewGif,u=t.sendToTop,d=t.isDeleted,m=t.viewUniform,p=r.adUrl,f=r.adType,h=r.title,y=r.href,v=r.target,E=r.views,O=r.commentCount,k=r.isAd,P=r.isFastGridAd,N=r.meta,w=r.display,q=r.points,T=r.createdAt,A=this.state.isFastGridAdLoaded,R=a&&c&&(r.vote||D.c),x=S()((e={},g()(e,n,!!n),g()(e,"".concat(R,"vote"),!!R),g()(e,"novote",!R),g()(e,"Post-item--deleted",d),g()(e,"Post-item--interactions",N.interactions.length),g()(e,"fast-grid-ad",m&&P),e));return b.a.createElement(Ge,{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:i,className:x,to:f>0&&p?p:y,target:v,onClick:this.clickHandler,innerRef:this.post,isExternalAd:f===I.e,state:{sendToTop:u},isDeleted:d,adTileInteractions:N.interactions,isFastGridAd:!!P},b.a.createElement(Se,{display:d?[]:w},b.a.createElement("div",{className:"Post-item-container"},this.getMediaComponent(),this.props.children,b.a.createElement(me.a,{isPromotedAd:N.isPromotedAd,isThumbnailAd:N.isThumbnailAd,isInteractiveAd:N.interactions.length>0,isFastGridAd:A,imagesCount:N.imagesCount,metaLabel:l?"":N.label}),b.a.createElement(de,{title:h,isNotAd:!k,views:E,privacy:s?r.privacy:"",vote:r.vote},d?b.a.createElement("div",{className:"Post-item-title--deleted"},Object(j.b)("deletedPost",new Date(T).getTime())):"",b.a.createElement(Z.a,null,b.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(D.b),title:Object(j.b)("upvoteHint")},b.a.createElement(B.b,{selected:R===D.b,isMini:!0,fillColor:"currentColor",strokeWidth:0})),b.a.createElement(Z.b,{className:"Post-item-vote-points Post-item-vote-points--".concat(R)},"".concat(Object($.j)(q))),a&&b.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(D.a),title:Object(j.b)("downvoteHint")},b.a.createElement(B.a,{selected:R===D.a,isMini:!0,fillColor:"currentColor",strokeWidth:0}))),b.a.createElement(Z.a,{className:"Post-item-stat uScaleTransition"},b.a.createElement(Q,{strokeWidth:0}),b.a.createElement(Z.b,null,Object($.j)(O)))),N.pixels&&N.pixels.map((function(e,t){var n=e.replace("[USERID]",a?o:C.a.getInstance().options.deviceId).replace("[CACHEBUSTER]",Date.now());return b.a.createElement("img",{key:"tilePixel-".concat(t),src:n,style:{display:"none"}})})))))}}]),n}(y.Component);Le.defaultProps={className:"",usePrivacy:!1,viewGif:!0};var Ve=function(e){var t=e.gallery,n=e.agent,r=e.user;return{viewGif:t.get("viewGif")&&!t.get("pauseAnimation"),viewUniform:t.get("viewUniform"),isWebPSupported:n.get(L.s),userId:r.get("id")}},Ue={onGalleryImageVote:R.Zb,onSaveGalleryPage:T.Q,onRemoveGalleryPage:T.N,adTileInViewAction:A.t,adTileTappedAction:A.u,postNavigateAnalyticsAction:R.nb},Be=Object(k.b)(Ve,Ue)(Le),He=Object(x.b)(Object(k.b)(Ve,Ue)(Le));Le.__docgenInfo={description:"",methods:[{name:"handleFastGridAdLoading",docblock:null,modifiers:[],params:[{name:"eventData",optional:!1,type:null}],returns:null},{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",optional:!1,type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},viewGif:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},userId:{type:{name:"number"},required:!1,description:""},styles:{type:{name:"object"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!0,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInViewAction:{type:{name:"func"},required:!1,description:""},adTileTappedAction:{type:{name:"func"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},streamSection:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},postNavigateAnalyticsAction:{type:{name:"func"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},viewUniform:{type:{name:"bool"},required:!1,description:""}}};t.d=Object(x.a)(Object(k.b)(Ve,Ue)(Le));Ge.__docgenInfo={description:"",methods:[],displayName:"PostHomeLinker",props:{isDeleted:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},onMouseEnter:{type:{name:"func"},required:!0,description:""},onMouseLeave:{type:{name:"func"},required:!0,description:""},to:{type:{name:"string"},required:!0,description:""},target:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!0,description:""},state:{type:{name:"object"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},adTileInteractions:{type:{name:"array"},required:!0,description:""},isFastGridAd:{type:{name:"bool"},required:!0,description:""}}}},"ej/z":function(e,t,n){"use strict";function r(e,t,n){if(e>=t)return null;var r=n/t;return Math.ceil(e*r)}function a(e,t){return t/2<e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},emG5:function(e,t,n){},f6ut:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("TSYQ"),s=n.n(c),l=(n("17x9"),n("m+bm"),{default:"",left:"Checkmark--left",right:"Checkmark--right"});function u(e){var t=e.selected,n=e.text,r=void 0===n?"":n,o=e.handleOnChange,c=void 0===o?function(){}:o,u=e.checkmarkPosition,d=void 0===u?"default":u,m=e.name,p=void 0===m?"":m,f=e.value,h=void 0===f?"":f,g=s()(a()({Checkmark:!0},l[d],!0));return i.a.createElement("label",{className:"Checkbox-wrapper"},r,i.a.createElement("input",{onChange:c,type:"checkbox",defaultChecked:t,name:p,value:h}),i.a.createElement("div",{className:g}))}u.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{text:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},handleOnChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},checkmarkPosition:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},reference:{type:{name:"func"},required:!1,description:""}}}},fTpD:function(e,t,n){var r=n("VhX2"),a=n("98ov"),o=n("Z0cm");e.exports=function(e){return(o(e)?r:a)(e)}},fbUk:function(e,t,n){},gGMO:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("TSYQ")),u=n.n(l),d=n("j/yV"),m=n("BWa0");n("9JWB");function p(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"none",strokeColor:"#ffffff"}}function f(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,o=void 0!==r&&r,c=i()(e,["selected","isMini"]),l=u()({Vote:!0,"Vote-up":!0,"Vote-up--selected":n}),f=o?m.eb:m.I,h=p(o);return s.a.createElement("div",{className:l},n&&s.a.createElement(d.a,null),s.a.createElement(m.fb,a()({name:f},h,c)))}function h(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,o=void 0!==r&&r,c=i()(e,["selected","isMini"]),l=u()({Vote:!0,"Vote-down":!0,"Vote-down--selected":n}),d=o?m.X:m.j,f=p(o);return s.a.createElement(m.fb,a()({className:l,name:d},f,c))}f.__docgenInfo={description:"",methods:[],displayName:"Upvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}},h.__docgenInfo={description:"",methods:[],displayName:"Downvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},ghid:function(e,t,n){},gmqy:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("TSYQ")),O=n.n(E),k=n("DUmG"),P=n.n(k);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}function N(e){var t=e.isLoading,n=e.color,r=e.height;if(!t)return null;var a={position:"absolute",zIndex:"".concat(P.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(r,"px"),background:"linear-gradient(".concat(n,", ").concat(P.a.$voyagerDarkGrey,")")};return C.a.createElement("div",{className:"Spinner",style:a})}function w(e){return function(t){m()(r,t);var n=S(r);function r(e){var t;return i()(this,r),t=n.call(this,e),b()(u()(t),"_isMounted",!1),b()(u()(t),"loadHandler",(function(){t._isMounted&&t.setState({isLoading:!1})})),b()(u()(t),"errorHandler",(function(){t.setState({isLoading:!1})})),t.state={isLoading:!0},t}return s()(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this.props,n=t.spinner,r=t.styles,o=t.isDeleted,i=this.state.isLoading,c=O()({"Post-item-media":!0,"Post-item-media--deleted":o});return C.a.createElement("div",{className:c,style:r},C.a.createElement(N,{isLoading:i,color:n.color,height:n.height}),C.a.createElement(e,a()({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),r}(C.a.Component)}N.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},hIyu:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),O=n.n(E),k=n("/MKj"),P=(n("17x9"),n("1coQ")),S=n("66r6"),N=n("26Ob"),w=n("AoHe"),j=n("RJ0p"),q=n("P5Jw"),I=n("G5ih"),D=n("E9Wd"),T=n("wmRA"),A=n("uGFe"),R=n("fdoY"),x=n("9rNq"),M=n("pNV7");n("Ya97");function _(e){var t=e.id,n=e.downloadImageAction,r=e.isLoggedIn,a=e.onFavorite,o=O.a.createElement(q.CopyToClipboard,{text:D.x+t},O.a.createElement("button",{type:"button"},O.a.createElement("span",{className:"label"},Object(I.b)("imageCopy")))),i=O.a.createElement("button",{type:"button",onClick:function(){return n(t,t)}},O.a.createElement("span",{className:"label"},Object(I.b)("download"))),c=O.a.createElement("button",{type:"button",onClick:function(){return a(t,null,!1,null,T.A)}},O.a.createElement("span",{className:"label"},Object(I.b)("favoriteLabel")));return O.a.createElement(x.a,{className:"mediaDropdown-menu",dropdownIcon:O.a.createElement(M.V,{name:M.k,width:21})},o,i,r&&c)}_.__docgenInfo={description:"",methods:[],displayName:"MediaItemDropDownMenu",props:{id:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},onFavorite:{type:{name:"func"},required:!0,description:""},downloadImageAction:{type:{name:"func"},required:!0,description:""}}};var F=Object(k.b)((function(e){return{isLoggedIn:!!e.user.get("isLoggedIn")}}),{downloadImageAction:A.Nb,onFavorite:R.db})(_),G=n("9uSn");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var V=function(e){f()(n,e);var t=L(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),C()(m()(e),"getReactionPreview",(function(t){var n=e.props.onClick;if(t){var r=t.match(S.c);return O.a.createElement("div",{className:"MediaPreview-wrapper",onClick:n},O.a.createElement("div",{className:"MediaMenuContainer"},Object(j.d)(t),O.a.createElement(F,{id:r[1]})))}})),e}return u()(n,[{key:"expandLink",value:function(){return"true"===this.props.expandlink&&this.props.children!==S.a&&new RegExp(S.c).test(this.props.href)}},{key:"renderTargetMedia",value:function(){var e=this.props,t=(e.children,e.href),n=e.postMedia,r=e.onClick,o=i()(e,["children","href","postMedia","onClick"]),c=n.get(parseInt(t,10)-1),s=c.getIn(["src",c.get("isVideo")?"video":"image"]),l=O.a.createElement("a",a()({href:s},o),"#".concat(t));return O.a.createElement(G.a,{className:"Tooltip-targetMedia",onClick:r,inline:!0,src:s},l)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=(e.postMedia,i()(e,["children","href","postMedia"]));if(this.expandLink())return this.getReactionPreview(n);if(t===S.g)return this.renderTargetMedia();var o=t===S.a?n:t,c=O.a.createElement("a",a()({href:n},r),o);return Object(w.h)(n)?O.a.createElement(G.a,{className:"Tooltip-media",inline:!0,src:n},c):c}}]),n}(O.a.Component);V.defaultProps={expandlink:"false"};t.a=Object(k.b)((function(){return{component:V}}),(function(e){return{onClick:function(t){var n=t.target.src||t.target.href;return!Object(w.h)(n)||(t.preventDefault(),t.stopPropagation(),e(Object(N.b)({show:!0,src:n})),!1)}}}))(P.a);V.__docgenInfo={description:"",methods:[{name:"expandLink",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"renderTargetMedia",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LinkifyDecorator",props:{expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},children:{type:{name:"string"},required:!0,description:""},href:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},postMedia:{type:{name:"object"},required:!1,description:""}}}},heTe:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),o=n.n(a),i=n("J4zp"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=(n("17x9"),n("AG5K")),d=n("OX3u"),m=n("b5GN"),p=n("pNV7"),f=n("BWa0"),h=n("7oyi"),g=n("zuLI");n("IgJu");var y=n("wAdX"),b=n("/PhX"),v=n("RUHF");t.a=Object(r.b)((function(e){var t=e.emerald,n=e.user;return{giftData:t.get("giveEmeraldData").toJS(),isSubscribed:n.getIn(["subscription","isSubscribed"])}}),(function(e){return{close:function(){e(Object(b.y)(d.q)),e(Object(v.v)())}}}))(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n){var r=n.giftData,a=n.close,i=n.onDialogOpen,y=n.isSubscribed;if(!r.recipientUsername)return null;var b=Object(s.useState)(0),v=c()(b,2),C=v[0],E=v[1];return l.a.createElement(e,o()({className:"GiveGiftDialog GiveGiftDialog-ty",isModal:!1,onClose:a,name:d.q,onOpen:i},t),l.a.createElement("div",{className:"GiveGiftDialog-head"},l.a.createElement(p.V,{name:p.R}),l.a.createElement(h.b,{className:"GiveGiftDialog-head--close",image:l.a.createElement(f.fb,{name:f.h,width:"32",height:"32"}),onClick:a})),l.a.createElement("div",{className:"GiveGiftDialog-ty-content"},l.a.createElement(g.a,{className:"GiveGiftDialog-ty-confetti",run:C,viewWidth:540,viewHeight:500,loadSpeed:1}),l.a.createElement("span",{onClick:function(){E(C+1)}},l.a.createElement(p.V,{className:"GiveGiftDialog-ty-heart",name:p.P})),l.a.createElement("div",{className:"GiveGiftDialog-ty-title"},Object(u.a)("giveGiftTyGem")),l.a.createElement("div",{className:"GiveGiftDialog-ty-description"},Object(u.a)("giveGiftTyDescription",r.recipientUsername)),!y&&l.a.createElement(h.b,{className:"GiveGiftDialog-ty-button Button",label:Object(u.a)("emeraldJoin"),title:Object(u.a)("emeraldJoin"),href:"/".concat(m.f,"?source=").concat(d.x)})))}return n.defaultProps={onDialogOpen:function(){}},n}(y.a))},hibn:function(e,t,n){},hrf1:function(e,t,n){},"iaU+":function(e,t,n){"use strict";n.d(t,"b",(function(){return Xe})),n.d(t,"a",(function(){return Qe}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("/MKj"),O=n("E9Wd"),k=n("GB65"),P=n("LZBw"),S=n("zTH+"),N=n("c0eP"),w=n("DzJC"),j=n.n(w),q=n("kpbE"),I=n("G5ih"),D=n("JzwX"),T=n("pNV7"),A=n("xypG"),R=n("oYs2");function x(e){var t=e.suggestion,n=e.searchString,r=t[R.a];return r&&r.length?b.a.createElement("div",{className:"Suggestion-block ".concat(R.a)},b.a.createElement("div",{className:"Suggestion-title"},R.a),r.map((function(e,t){var r="".concat(O.T,"/gallery/").concat(e.hash||e.id),a=e.title,o=B(n,a);return o.length?b.a.createElement("a",{href:r,key:"".concat(t),className:"Suggestion-item",title:a},b.a.createElement("span",{className:"Suggestion-item-text"},o)):null}))):null}x.__docgenInfo={description:"",methods:[],displayName:"SuggestedPosts",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var M=n("55Ip"),_=n("+qLk");function F(e){var t=e.suggestion,n=e.searchString,r=t[R.b];return r&&r.length?b.a.createElement("div",{className:"Suggestion-block ".concat(R.b)},b.a.createElement("div",{className:"Suggestion-title"},R.b),r.map((function(e,t){var r=e.display_name,a=B(n,r);return a.length?b.a.createElement(M.b,{to:"/".concat(_.C,"/").concat(e.name),key:"".concat(t),className:"Suggestion-item",title:r},b.a.createElement("div",{className:"thumbnail ".concat(R.b),style:{backgroundImage:"url(".concat(O.U,"/").concat(e.background_hash,"_d.jpg?maxwidth=60&shape=thumb&fidelity=high)")}}),b.a.createElement("span",{className:"Suggestion-item-text"},"#",a)):null}))):null}F.__docgenInfo={description:"",methods:[],displayName:"SuggestedTags",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var G=n("7tbW"),L=n.n(G);function V(e){var t=e.suggestion,n=void 0===t?{}:t,r=e.searchString,a=n[R.c];return a&&a.length?b.a.createElement("div",{className:"Suggestion-block ".concat(R.c)},b.a.createElement("div",{className:"Suggestion-title"},R.c),a.map((function(e,t){var n="".concat(O.T,"/user/").concat(e.url),a=e.url,o=a.split(""),i=L()(r.toLowerCase().split(""));return b.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:a},b.a.createElement("div",{className:"thumbnail ".concat(R.c),style:{backgroundImage:"url(".concat(e.avatar,")")}}),b.a.createElement("span",{className:"Suggestion-item-text"},"@",o.map((function(e,t){return-1===i.indexOf(e.toLowerCase())?e:b.a.createElement("strong",{key:"strong-users-".concat(t),className:"Suggestion-match-case"},e)}))))}))):null}V.__docgenInfo={description:"",methods:[],displayName:"SuggestedUsers",props:{suggestion:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};n("A8WO");function U(e,t){return b.a.createElement("strong",{key:t,className:"Suggestion-match-case"},e)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U,r=[];if(!e)return r;for(var a=e.trim().toLowerCase().replace(/\s+/g," ").split(" ").join("|"),o=new RegExp("(".concat(a,")"),"gi"),i=o.exec(t),c=0;null!==i&&i[0];)c!==i.index&&i.index>0&&r.push(t.slice(c,i.index)),c=i.index+i[0].length,r.push(n(t.slice(i.index,c),i.index)),i=o.exec(t);return c<t.length&&r.push(t.slice(c,t.length)),r}function H(e){var t=e.suggestion,n=e.searchString,r=e.maxHeight,a=function(e){var t=e.target.closest(".Suggestion-list");t&&e.deltaY>0&&t.clientHeight+t.scrollTop+5>=t.scrollHeight&&e.preventDefault()};return b.a.createElement("div",{className:"Suggestion"},b.a.createElement("div",{className:"Suggestion-list".concat(r?" Scrollbar":""),onWheel:a,onTouchMove:a,style:{maxHeight:r?r/2:null}},b.a.createElement(A.d,{model:"suggest",size:20}),b.a.createElement(F,{suggestion:t,searchString:n}),b.a.createElement(x,{suggestion:t,searchString:n}),b.a.createElement(V,{suggestion:t,searchString:n})))}H.__docgenInfo={description:"",methods:[],displayName:"SearchbarSuggestion",props:{suggestion:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},searchString:{type:{name:"string"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""}}};n("oG7g");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var z=function(e){u()(n,e);var t=W(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"inputChangeHandler",(function(e){if(!e.target.value)return r.setState({isOpen:!1}),void r.props.cleanSearch();r.props.inputSearch(e.target.value)})),g()(s()(r),"getSuggest",(function(e){var t=e.handleFetchSuggest,n=e.searchTag,a=e.searchString,o=r.getSearchString(a,n.symbol);r.setState({isOpen:!!o}),o?t(o.toLowerCase(),n.tagName):!a&&r.props.cleanSearch()})),g()(s()(r),"submitHandler",(function(e){e.preventDefault(),r.props.onSubmitSearch(r.props.searchString),Object(k.bb)("".concat(O.T,"/search?q=").concat(Object(k.A)(r.props.searchString)))})),g()(s()(r),"handleMouseDown",(function(){r.props.suggest.size&&r.setState({isOpen:!!r.props.suggest.size})})),g()(s()(r),"handleKeyDown",(function(e){27===e.keyCode&&r.setState({isOpen:!1})})),r.state={isOpen:!1},r}return i()(n,[{key:"componentDidUpdate",value:function(e,t){if(e.searchString!==this.props.searchString)this.getSuggest(this.props);else if(e.positionY!==this.props.positionY&&this.searchText&&t.isOpen){this.searchText.getBoundingClientRect().bottom<-70&&this.setState({isOpen:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(D.a)({el:function(){return e.searchText},cb:function(){return e.setState({isOpen:!1})}});this.getSuggest=j()(this.getSuggest,600,{leading:!1,trailing:!0})}},{key:"componentWillUnmount",value:function(){this.getSuggest.cancel(),this.removeAutoCloser&&this.removeAutoCloser()}},{key:"getSearchString",value:function(e,t){return["#","@"].indexOf(t)>-1?e.slice(1,e.length):e}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchString,r=t.loading,a=t.suggest,o=t.searchTag,i=t.style,c=a.size&&"function"==typeof a.toObject?a.toObject():a;return b.a.createElement("div",{className:"Searchbar",style:i},b.a.createElement("form",{onSubmit:this.submitHandler,className:"Searchbar-form",action:"/search"},b.a.createElement("input",{ref:function(t){e.searchText=t},placeholder:Object(I.b)("searchPlaceholder"),type:"text",className:"Searchbar-textInput",value:"".concat(n),onChange:this.inputChangeHandler,onMouseDown:this.handleMouseDown,onKeyDown:this.handleKeyDown,onTouchEnd:this.handleMouseDown,style:{height:36},name:"q"}),b.a.createElement("button",{onClick:this.submitHandler,type:"submit",className:"Searchbar-submitInput"},b.a.createElement(T.V,{name:T.v}))),this.state.isOpen&&a.size?b.a.createElement(H,{suggestion:c,searchString:this.getSearchString(n,o.symbol),loading:r}):null)}}]),n}(b.a.Component);z.defaultProps={searchTag:{symbol:""},suggest:{},style:{},onSubmitSearch:function(){}},z.__docgenInfo={description:"",methods:[{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"getSearchString",docblock:null,modifiers:[],params:[{name:"searchString",type:null},{name:"symbol",type:null}],returns:null},{name:"getSuggest",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Searchbar",props:{searchTag:{defaultValue:{value:"{\n    symbol: '',\n}",computed:!1},type:{name:"shape",value:{symbol:{name:"string",required:!1},tagName:{name:"string",required:!1}}},required:!1,description:""},suggest:{defaultValue:{value:"{}",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},onSubmitSearch:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""},inputSearch:{type:{name:"func"},required:!0,description:""},cleanSearch:{type:{name:"func"},required:!0,description:""},handleFetchSuggest:{type:{name:"func"},required:!0,description:""},loading:{type:{name:"bool"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var Y=Object(E.b)((function(e){var t=e.search,n=e.ui,r=e.display;return{searchString:t.get("searchString")||"",searchTag:t.get("searchTag"),suggest:t.get("suggest")||{},loading:n.spinner&&n.spinner.get("suggest")&&n.spinner.get("suggest").loading,positionY:r.get("positionY")}}),(function(e){return{handleFetchSuggest:function(t,n){return e(Object(q.e)(t,n))},inputSearch:function(t){return e(Object(q.f)(t))},onSubmitSearch:function(t){return e(Object(q.g)(t))},cleanSearch:function(){return e(Object(q.d)())}}}))(z),J=n("ygTn"),K=n("+VfX");n("rvyR");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Q=function(e){u()(n,e);var t=X(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props.searchName;return b.a.createElement("div",{className:"NavbarDropdown"},b.a.createElement("ul",null,b.a.createElement("li",null,b.a.createElement(N.a,null))),e===K.k&&b.a.createElement(Y,{name:"dropdown"}))}}]),n}(b.a.Component);var Z=Object(E.b)((function(e){return{searchName:e.ui.cover.getIn(["searchbar","name"])}}))(Q);Q.__docgenInfo={description:"",methods:[],displayName:"NavbarDropdown",props:{searchName:{type:{name:"string"},required:!1,description:""}}};n("HhWI");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ee=function(e){u()(n,e);var t=$(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"updateDropdownNavbar",(function(e,t){var n=r.dropDown;n&&e.target!==n&&n.parentNode.contains(e.target)&&"INPUT"===e.target.tagName?e.preventDefault():r.setState({isOpen:t})})),g()(s()(r),"toggleHandler",(function(e){var t=r.state.isOpen;r.updateDropdownNavbar(e,!t)})),r.state={isOpen:!1},r}return i()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.forceClose;this.state.isOpen&&e.forceClose!==t&&this.setState({isOpen:!1})}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(D.a)({el:function(){return e.dropDown},cb:function(t){return e.updateDropdownNavbar(t,!1),!0}})}},{key:"componentWillUnmount",value:function(){this.removeAutoCloser&&this.removeAutoCloser()}},{key:"render",value:function(){var e=this,t=this.state.isOpen;return b.a.createElement("div",{className:"NavbarMenuButton"},b.a.createElement("div",{className:"icon icon-menu",ref:function(t){e.dropDown=t},onClick:this.toggleHandler}),t&&b.a.createElement(Z,null))}}]),n}(y.Component);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}ee.__docgenInfo={description:"",methods:[{name:"updateDropdownNavbar",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"isOpen",type:null}],returns:null},{name:"toggleHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarMenuButton",props:{forceClose:{type:{name:"number"},required:!1,description:""}}};var ne=function(e){u()(n,e);var t=te(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.left,a=e.top,o=e.right,i=e.bottom,c=C()(g()({MoveContainer:!0},t,t));return b.a.createElement("div",{className:c,style:{left:r,top:a,right:o,bottom:i}},n)}}]),n}(y.Component);ne.defaultProps={className:""},ne.__docgenInfo={description:"",methods:[],displayName:"MoveContainer",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},left:{type:{name:"number"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},right:{type:{name:"number"},required:!1,description:""},bottom:{type:{name:"number"},required:!1,description:""}}};var re=n("Ty5D");n("JHKR");function ae(e){var t=e.className,n=e.history;return b.a.createElement("a",{href:O.T,className:"GoUp-stopDrag",onClick:function(e){e.preventDefault(),Object(k.rb)(0,0),"/"!==n.location.pathname&&n.push("/")}},b.a.createElement("img",{className:C()("GoUp","GoUp-image","GoUp-stopDrag",g()({},t,!!t)),src:"//s.".concat(O.S,"/images/favicon-32x32.png")}))}ae.defaultProps={className:""},ae.__docgenInfo={description:"",methods:[],displayName:"GoUpComponent",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""}}};var oe=Object(re.h)(ae),ie=n("RIqP"),ce=n.n(ie),se=n("D0BC"),le=n.n(se),ue=n("sEfC"),de=n.n(ue),me=n("zMZQ"),pe=n.n(me),fe=n("r9xK"),he=n.n(fe),ge=n("DT9I"),ye=n.n(ge),be=n("+sW7"),ve=n.n(be),Ce=n("uFEW"),Ee=n.n(Ce),Oe=n("naFI"),ke=n.n(Oe),Pe=n("X9Zs"),Se=n.n(Pe),Ne=[pe.a,he.a,ye.a,ve.a],we=[Ee.a,ke.a,Se.a],je=[-90,90],qe=[-45,45];n("w1ny");function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var De={limit:50,speed:[5.5,2.5],wind:[-.5,.5],spin:[-25,25]};function Te(e,t,n,r){var a=[];e.forEach((function(e){var t=le.a.apply(void 0,ce()(De.spin));a.push(Object.assign(e,{y:e.y+e.speed},{x:e.x+e.wind},{rotate:e.rotate+t}))}));var o=a.filter((function(e){return function(e){return e.x<Object(k.v)()&&e.y<Object(k.u)()}(e)}));return t<n&&o.length<100?(o.push(function(e,t){var n=t();return n.speed=le.a.apply(void 0,ce()(De.speed)),n.wind=le.a.apply(void 0,ce()(De.wind)),n.x=le()(0,Object(k.v)()),n.y=-10,n.key=e,n}("particle ".concat(t+1),r)),{totalCreated:t+1,confetti:o}):{totalCreated:t,confetti:o.slice(0,n)}}var Ae=function(e){u()(n,e);var t=Ie(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"startConfetti",de()((function(){var e=r.props.particleGenerator;r.setState((function(t){var n=t.limit+De.limit,r=Te(t.confetti,t.totalCreated,n,e);return{confetti:r.confetti,totalCreated:r.totalCreated,limit:n}}),(function(){1===r.state.confetti.length&&r.runAnimation()}))}),500,{leading:!0})),g()(s()(r),"runAnimation",(function(){var e=r.props.particleGenerator,t=r.state,n=t.confetti,a=t.totalCreated,o=t.limit;Object(k.nb)((function(){var t=Te(n,a,o,e);r.setState({confetti:t.confetti,totalCreated:t.totalCreated}),t.confetti.length&&r.runAnimation()}))})),r.state={confetti:[],totalCreated:0,limit:0},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props.eventName;Object(k.c)(e,this.startConfetti,!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.eventName;Object(k.kb)(e,this.startConfetti,!0)}},{key:"render",value:function(){var e=this.state.confetti;return b.a.createElement("div",null,e.length>0&&e.map((function(e){return b.a.createElement("img",{className:"confetti-particle",src:e.svg,style:{transform:"rotateZ(".concat(e.rotate,"deg)"),top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),maxWidth:36,maxHeight:36},key:e.key})})))}}]),n}(b.a.Component);Ae.defaultProps={particleGenerator:function(){var e={};return Math.random()<.15?(e.svg=we[Math.floor(Math.random()*we.length)],e.rotate=le.a.apply(void 0,qe)):(e.svg=Ne[Math.floor(Math.random()*Ne.length)],e.rotate=le.a.apply(void 0,je)),e},eventName:"confetti"},Ae.__docgenInfo={description:"",methods:[{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Confetti",props:{particleGenerator:{defaultValue:{value:"party",computed:!0},type:{name:"func"},required:!1,description:""},eventName:{defaultValue:{value:"'confetti'",computed:!1},type:{name:"string"},required:!1,description:""}}};var Re=[-45,45,-90,90],xe=function(e){return function(){return{svg:e[Math.floor(Math.random()*e.length)],rotate:le.a.apply(void 0,Re)}}};function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var _e="accolade_confetti",Fe=function(e){u()(n,e);var t=Me(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"getUrls",(function(){var t=e.props,n=t.accoladeData,r=t.accolades,a=n.get("accoladeIds");if(!r||!a)return[];return a.map((function(e){return t=r.find(function(e){return function(t){return t.get("id")===parseInt(e,10)}}(e)),t&&t.get("image_url");var t})).filter((function(e){return!!e}))})),e}return i()(n,[{key:"componentDidUpdate",value:function(e){this.props.accoladeData!==e.accoladeData&&Object(k.Cb)(_e)}},{key:"render",value:function(){var e=this.getUrls();return 0===e.length?null:b.a.createElement(b.a.Fragment,null,b.a.createElement(Ae,{eventName:_e,particleGenerator:xe(e)}))}}]),n}(b.a.Component);Fe.defaultProps={accoladeData:null,accolades:null},Fe.__docgenInfo={description:"",methods:[{name:"getUrls",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AccoladeConfetti",props:{accoladeData:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},accolades:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""}}};var Ge=Object(E.b)((function(e){var t=e.postsData;return{accoladeData:e.ui.gallery.get("accoladeData"),accolades:t&&t.getIn(["currentPostMeta","accolades","available"])}}),{})(Fe);n("oJUB"),n("sUKj"),n("6IHV");function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Ve=function(e){u()(n,e);var t=Le(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.top,r=e.forceClose,a=C()({"Navbar HomeNavbar":!0,active:t});return b.a.createElement(ne,{className:a,top:n},b.a.createElement(Ge,null),b.a.createElement(Ae,null),b.a.createElement(ee,{"forcelose":r}),b.a.createElement("div",{className:"NavbarContainer-left"},b.a.createElement(J.a,null),b.a.createElement(N.b,null),b.a.createElement(oe,{className:"ProfileCover-up"})),b.a.createElement("div",{className:"NavbarContainer-center"},b.a.createElement(Y,null)),b.a.createElement("div",{className:"NavbarContainer-right"},b.a.createElement(P.a,null)))}}]),n}(b.a.Component);Ve.defaultProps={username:""},Ve.__docgenInfo={description:"",methods:[],displayName:"Navbar",props:{username:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},fireInDropDownMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},searchName:{type:{name:"string"},required:!1,description:""},forceClose:{type:{name:"number"},required:!1,description:""}}};var Ue=Object(E.b)((function(e){var t=e.user,n=e.ui,r=e.display;return{username:t.get("username"),top:n.cover.getIn(["navbar","top"]),searchName:n.cover.getIn(["searchbar","name"]),forceClose:r.get("positionY")}}),(function(e){return{fireMessagingNavAnalytics:function(){e(Object(S.d)("topNavBar"))},fireInDropDownMessagingNavAnalytics:function(){e(Object(S.d)("usernameDropdown")),e(Object(S.g)("messages"))}}}))(Ve),Be=n("Bw9V");n("hrf1");function He(e){var t=e.newPosts,n=e.handleGalleryPostRerender;return t?b.a.createElement("div",{className:"NewPostsNotification",onClick:n},b.a.createElement(T.V,{name:T.b,className:"".concat(T.b)}),Object(I.b)("newPosts",t)):null}He.__docgenInfo={description:"",methods:[],displayName:"NewPostsNotification",props:{newPosts:{type:{name:"number"},required:!0,description:""},handleGalleryPostRerender:{type:{name:"func"},required:!0,description:""}}};var We=Object(E.b)((function(e){return{newPosts:e.ui.newPosts.get("newPostsNumber")}}),{handleGalleryPostRerender:Be.F})(He),ze=n("/PhX");n("sQc6");function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function Ke(e,t){switch(e){case K.o:case K.n:return;case K.s:return"linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 20%), url(".concat(O.U,"/").concat(t,".jpg)");case K.p:return"linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2) ), url(".concat(O.T,"/user/").concat(t,"/cover)");case K.u:return"linear-gradient(180deg, rgba(39, 42, 51, 0.8) 21%, #272A33 77%), linear-gradient(116.32deg, rgba(105, 19, 254, 0.56) 0%, rgba(1, 185, 107, 0.56) 100%), url(".concat(O.U,"/").concat(t,".jpg)");case K.t:return"linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 100%), url(".concat(O.U,"/").concat(t,".jpg)");default:return"linear-gradient(167deg, rgba(68, 215, 142, 0), rgba(41, 182, 112, 0)), linear-gradient(rgba(0, 0, 0, 0.43), rgba(0, 0, 0, 0.43)), linear-gradient(141deg, #3023ae, #3ec871), url(".concat(O.U,"/").concat(t,".jpg)")}}var Xe=function(e){u()(n,e);var t=Je(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"scrollHandler",(function(){var t=e.props.onScroll;e._lastKnownScrollPosition=Math.round(Object(k.Z)()),e._ticking||Object(k.nb)((function(){e.calculatePositioning(e._lastKnownScrollPosition),t&&t(),e._ticking=!1})),e._ticking=!0})),g()(s()(e),"updateHeight",(function(){var t=e.props,n=t.coverHeight,r=t.modifyCoverHeight;if(e._elem){var a=Math.round(e._elem.getBoundingClientRect().height);n!==a&&r({height:a})}})),e}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.modifyCoverHeight,n=e.updateHeightHandler;this._elem&&t({height:this._elem.getBoundingClientRect().height});this._lastKnownScrollPosition=0,this._ticking=!1,Object(k.a)("scroll",this.scrollHandler),"function"==typeof n&&n(this.updateHeight)}},{key:"calculatePositioning",value:function(e){var t=this.props,n=t.coverFixed,r=t.coverHeight,a=t.modifyCoverPosition;n&&e>r+K.a||a({scrollY:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.modifyCoverHeight)({height:0,top:0}),Object(k.hb)("scroll",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){this.updateHeight()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isPromoted,r=t.backgroundHash,a=t.coverTop,o=t.coverFixed,i=t.children,c=t.className,s=t.backgroundType,l=t.minHeight,u=t.Banner,d=t.isNavBar,m=t.SCTU,p=t.SCTUPath,f=t.SCTUReservePath,h=t.SCTUTargeting,y=t.hideNewPostNotification,v=t.transformationStyle,E=t.customStyle,O=C()(g()({isFixed:o,isPromoted:n},c,c)),k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({top:a,minHeight:l,backgroundImage:Ke(s,r)},E);return o&&(k=Object.assign(k,v)),b.a.createElement("div",{className:"App-cover NewCover ".concat(O),style:k,ref:function(t){e._elem=t}},m&&b.a.createElement(m,{path:p,onStatusChange:this.updateHeight,slotTargeting:h}),m&&b.a.createElement(m,{path:f,onStatusChange:this.updateHeight,slotTargeting:h,reserve:!0}),u&&b.a.createElement(u,{onStatusChange:this.updateHeight}),d&&b.a.createElement(Ue,null),i,!y&&o&&b.a.createElement(We,null))}}]),n}(b.a.Component);Xe.defaultProps={className:"",backgroundHash:"",isPromoted:!1,top:0,minHeight:K.l,isNavBar:!0,SCTUTargeting:{},hideNewPostNotification:!1,preventFixed:!1,useOffset:!1};var Qe=Object(E.b)((function(e,t){var n=e.gallery,r=e.ui,a=e.fastGrid,o=e.ad,i=t.backgroundType,c=t.backgroundHash,s=t.preventFixed,l=t.useOffset,u=i===K.p?(c||"").toLowerCase():n.get("streamBackgroundHash"),d={};o.getIn(["transformation","animatingIn"])&&(d={opacity:0}),o.getIn(["transformation","enabled"])&&(d={background:"linear-gradient(rgba(".concat(o.getIn(["transformation","backgroundColor"]),", 0.64), rgba(").concat(o.getIn(["transformation","backgroundColor"]),", 0.9)), url(").concat(o.getIn(["transformation","backgroundImage"]),")"),opacity:o.getIn(["transformation","animatingOut"])?0:1});var m={};return l&&(m.paddingLeft=a.get("leftOffset"),m.paddingRight=a.get("rightOffset")),{coverTop:r.cover.get("top"),coverHeight:r.cover.get("height"),isPromoted:n.get("streamIsPromoted"),backgroundHash:u,customStyle:m,transformationStyle:d,coverFixed:!s&&r.cover.get("fixed")}}),{modifyCoverHeight:ze.E,modifyCoverPosition:ze.F})(Xe);Xe.__docgenInfo={description:"",methods:[{name:"scrollHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"calculatePositioning",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CoverHeader",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},backgroundHash:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},top:{defaultValue:{value:"0",computed:!1},required:!1},minHeight:{defaultValue:{value:"DEFAULT_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},isNavBar:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},SCTUTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},hideNewPostNotification:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},preventFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},modifyCoverHeight:{type:{name:"func"},required:!0,description:""},modifyCoverPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},backgroundType:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},coverFixed:{type:{name:"bool"},required:!1,description:""},updateHeightHandler:{type:{name:"func"},required:!1,description:""},Banner:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTU:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTUPath:{type:{name:"number"},required:!1,description:""},SCTUReservePath:{type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""},leftOffset:{type:{name:"number"},required:!1,description:""},rightOffset:{type:{name:"number"},required:!1,description:""}}}},iww3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("TSYQ")),i=n.n(o);n("58bT");function c(e){var t=e.name,n=e.value,r=e.toggleHandler,o=e.labelText,c=e.className,s=e.children,l=e.isDisabled;return a.a.createElement("div",{className:i()("UploadCheckbox",{isDisabled:l},c)},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:t,value:"true",id:t,checked:n,onChange:r,disabled:l}),a.a.createElement("span",null)),o&&a.a.createElement("label",{htmlFor:t},o),s)}c.__docgenInfo={description:"",methods:[],displayName:"UploadCheckbox",props:{name:{type:{name:"string"},required:!0,description:""},value:{type:{name:"bool"},required:!0,description:""},toggleHandler:{type:{name:"func"},required:!0,description:""},labelText:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}}},"j/yV":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n.n(r);n("17x9"),n("/q0z");function o(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,o=[],i=0;i<t;i++)o.push({cx:16+(16-n)*Math.cos(r*i),cy:16+(16-n)*Math.sin(r*i)});return a.a.createElement("span",{className:"FireworkAnimate"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32),fill:"currentColor"},o.map((function(e,t){return a.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})}))))}o.defaultProps={points:8,radius:2},o.__docgenInfo={description:"",methods:[],displayName:"Firework",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}}},jAEK:function(e,t,n){},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},jlYo:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l}));var r="active",a="scheduled",o="expired",i=1,c=3,s=4,l="Campaign not found"},kVJ9:function(e,t,n){},lQn5:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("sEfC")),C=n.n(v),E=n("/MKj"),O=n("ANjH"),k=n("Ty5D"),P=n("if3o"),S=n("Bw9V"),N=n("Gk2F"),w=n("+qLk"),j=n("TSYQ"),q=n.n(j),I=n("Njrs");function D(e){var t,n=e.children,r=e.data,a=e.handleDragItem,o=e.dragEnd,i=e.className,c=q()(g()({Draggable:!0},i,!!i));return b.a.createElement("div",{ref:function(e){t=e},className:c,draggable:"true","data-transfer":JSON.stringify(r),onDragStart:function(e){e.stopPropagation();try{e.dataTransfer.setDragImage(t,-20,-20)}catch(e){}e.dataTransfer.setData("text","{}"),a()},onDragEnd:o},n)}D.defaultProps={className:""};var T=Object(E.b)(null,(function(e,t){var n=t.name,r=t.data;return{handleDragItem:function(){return e(Object(I.c)({name:n,data:r}))},dragEnd:function(){return e(Object(I.d)({name:n}))}}}))(D);D.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},data:{type:{name:"object"},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDragItem:{type:{name:"func"},required:!1,description:""},dropItem:{type:{name:"func"},required:!1,description:""},dragEnd:{type:{name:"func"},required:!1,description:""}}};var A=n("fKOs");function R(e){var t=e.selected,n=e.children,r=e.className,a=e.handleToggle,o=["Selectable"];return r&&o.push(r),t&&o.push("Selectable-selected"),b.a.createElement("div",{className:o.join(" "),onClick:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a())}},n)}var x=Object(E.b)((function(e,t){var n=t.name,r=t.data,a=e.selectables.get(n);return{selected:a&&a.has(r)}}),(function(e,t){var n=t.name,r=t.data;return{handleToggle:function(){return e(Object(A.f)({name:n,data:r}))}}}))(R);R.__docgenInfo={description:"",methods:[],displayName:"Selectable",props:{data:{type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},name:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},handleToggle:{type:{name:"func"},required:!1,description:""}}};var M=n("G5ih"),_=n("f6ut"),F=n("9uSn");n("wmkP");function G(e){var t=e.checked,n=e.onToggle,r=e.withTooltip,a=b.a.createElement(_.a,{handleOnChange:n,selected:t});return b.a.createElement("div",{className:"FavoritesPostCheckbox"},r&&b.a.createElement(F.a,{text:Object(M.b)("dragDropTooltip")},a),!r&&a)}G.defaultProps={checked:!1,withTooltip:!1},G.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostCheckbox",props:{checked:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onToggle:{type:{name:"func"},required:!0,description:""}}};n("FuWu");function L(e){var t=e.onClick,n=e.withTooltip,r=b.a.createElement("span",{className:"icon-trash"});return b.a.createElement("div",{className:"FavoritesPostDelete",onClick:t},n&&b.a.createElement(F.a,{text:Object(M.b)("deleteFavFromAll")},r),!n&&r)}L.defaultProps={withTooltip:!1},L.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostDelete",props:{withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var V=n("ega+"),U=n("1Gek"),B=n("Uzvo"),H=n("Uyyq"),W=n.n(H),z=n("mpKo"),Y=n.n(z);n("wcKY");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Q="selectedFavorites",Z=function(e){u()(n,e);var t=X(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"handlerRemoveFromFavorite",(function(){var t=e.props,n=t.folderInfo,r=t.post;(0,t.removeFromFavorite)(r.id,r.isAlbum,Object(U.f)(r),n&&n.get("id"))})),g()(s()(e),"handlerToggle",(function(){var t=e.props,n=t.firstTime,r=t.post;(0,t.handleToggle)(Object(U.f)(r),n)})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.folderInfo,r=e.firstTime,a=e.selectables,o=e.isOwner,i=e.username;if(!n)return null;var c=Object(U.f)(t),s=n&&n.get("id"),l="".concat(Object(U.a)(n.toJS(),o,i),"/").concat(t.id),u=a&&a.size>1,d=a&&a.has(c),m=r&&s===P.a,p=K(K({},this.props),{},{post:Object.assign(t,{href:l})});if(!o)return b.a.createElement(V.b,p);var f=q()({FavoritesPost:!0,isSelected:d});return b.a.createElement("div",{className:f},b.a.createElement(T,{className:"FavoritesPost-draggable",name:"favorites",src:u?Y.a:W.a,data:{selectableName:Q,id:c}},b.a.createElement(x,{name:Q,className:"FavoritesPost-selectable",data:c},b.a.createElement(V.b,K(K({},p),{},{usePrivacy:!t.inGallery})))),b.a.createElement(L,{withTooltip:m,onClick:this.handlerRemoveFromFavorite}),b.a.createElement(G,{onToggle:this.handlerToggle,checked:d,withTooltip:m}))}}]),n}(y.Component);Z.defaultProps={className:""},Z.__docgenInfo={description:"",methods:[{name:"handlerRemoveFromFavorite",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesPost",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},folderInfo:{type:{name:"object"},required:!1,description:""},firstTime:{type:{name:"bool"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},selectables:{type:{name:"object"},required:!1,description:""},removeFromFavorite:{type:{name:"func"},required:!0,description:""},handleToggle:{type:{name:"func"},required:!0,description:""}}};var $=Object(B.a)(Object(O.c)(k.h,Object(E.b)((function(e,t){var n=e.user,r=e.account,a=e.favorites,o=e.selectables,i=t.match,c=(i.params.username||"").toLowerCase(),s=parseInt(i.params.id||P.a,10),l=r.getIn(["accounts",c]),u=l?l.get("username"):null;return{isOwner:n.get("username")===u,folderInfo:a.getIn(["folders",s]),firstTime:!a.get("hasUsedFavoriteFolders"),username:c,selectables:o.get(Q)}}),(function(e,t){var n=t.link;return{removeFromFavorite:function(t,r,a,o){var i={id:t,isAlbum:r};o===P.a?e(Object(N.w)(i)):e(Object(N.v)({id:o,link:n,faves:[a]})),e(Object(S.O)([i]))},handleToggle:function(t,n){e(Object(A.f)({name:Q,data:t})),n&&e(Object(N.y)())}}})))(Z));n("1POK");function ee(e){var t=e.id,n=e.isOwner,r=Object(M.b)("noFavoritesToShow");return n&&(r=Object(M.b)("noFavoritesOfMine"),t!==P.a&&(r=Object(M.b)("noFavoritesInFolderOfMine"))),b.a.createElement("div",{className:"ProfileFavoritesEmpty"},r)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function ae(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n,r=function(n){u()(o,n);var r=re(o);function o(){var e;a()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),g()(s()(e),"moreDataFetch",C()((function(){e.props.hasMore&&e.fetchGallery(ne(ne({},e.props),{},{insertionModifier:S.a}))}),w.o,{leading:!0,trailing:!1})),g()(s()(e),"dataFetch",(function(t){e.props.cleanupGallery(),e.fetchGallery(ne(ne({},t),{},{insertionModifier:S.o,streamPage:0}))})),g()(s()(e),"fetchGallery",(function(t){if(!e.props.isFetching){var n=t||e.props;e.props.fetchGallery(n.folderId,n.streamPage,n.streamSort,n.streamOrganized,n.insertionModifier)}})),g()(s()(e),"getEmptyRow",(function(){return b.a.createElement(ee,{isOwner:e.props.isOwner})})),e}return i()(o,[{key:"componentDidMount",value:function(){e&&this.props.isFoldersFetched&&this.dataFetch(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.folderId,r=t.streamOrganized,a=t.streamSort,o=t.isFoldersFetched;return n&&n!==e.folderId||o&&!e.isFoldersFetched||r&&r!==e.streamOrganized||a&&a!==e.streamSort?this.dataFetch(this.props):void 0}},{key:"render",value:function(){return b.a.createElement(t,{Child:$,moreDataFetch:this.moreDataFetch,emptyRow:this.getEmptyRow})}}]),o}(b.a.Component);return r.defaultProps={folderId:P.a},r.displayName="WithFavoritesData(".concat((n=t).displayName||n.name||"Component",")"),Object(O.c)(k.h,Object(E.b)((function(e,t){var n=e.favorites,r=e.gallery,a=t.match,o=Number.parseInt(a.params.id||P.a,10);return{streamSort:n.get("sort"),streamPage:Number.parseInt(n.get("page")||0,10),streamOrganized:n.get("organized"),isFoldersFetched:n.get("isFoldersFetched"),isFetching:r.get("isFetching"),hasMore:r.get("hasMore"),folderId:o}}),(function(e,t){var n=t.username,r=t.isOwner,a=t.isLoggedIn;return{fetchGallery:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.e,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.n,s=arguments.length>4?arguments[4]:void 0;return e(t>=0?Object(N.p)({username:n,id:t,isOwner:r,page:o,sort:i,insertionModifier:s,isAuthed:a}):r?Object(N.o)({username:n,page:o,sort:i,organized:c,insertionModifier:s,isAuthed:a}):Object(N.r)({username:n,page:o,sort:i,insertionModifier:s,isAuthed:a}))},cleanupGallery:function(){return e(Object(S.u)())}}})))(r)}}ee.defaultProps={isOwner:!1},ee.__docgenInfo={description:"",methods:[],displayName:"ProfileFavoritesEmpty",props:{isOwner:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""}}}},"m+bm":function(e,t,n){},mky3:function(e,t,n){},moYt:function(e,t,n){var r=n("dt0z");e.exports=function(e){return r(e).toUpperCase()}},mpKo:function(e,t,n){e.exports=n.p+"desktop-assets/multi-drag.c600d4c73980a8f8fb9f06a3d290bb2b.png"},"n/mK":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("/MKj"));function u(e){var t=e.innerRef,n=e.to,r=(e.isLoggedIn,e.isPostPageBeta,e.children),o=(e.dispatch,e.isExternalAd,e.state,i()(e,["innerRef","to","isLoggedIn","isPostPageBeta","children","dispatch","isExternalAd","state"]));return s.a.createElement("a",a()({draggable:"false",href:n,ref:t},o),r)}u.defaultProps={state:{}};u.__docgenInfo={description:"",methods:[],displayName:"PostLinkComponent",props:{state:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},innerRef:{type:{name:"object"},required:!1,description:""},to:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isPostPageBeta:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(l.b)((function(e){var t=e.user;return{isLoggedIn:t.get("isLoggedIn"),isPostPageBeta:t.get("flags").get("desktopPostPageBeta")}}))(u)},nAF4:function(e,t,n){},nFdL:function(e,t,n){},naFI:function(e,t,n){e.exports=n.p+"desktop-assets/b2.8b9e5b2c5f0b610eb10ef24ece1539cd.svg"},neJP:function(e,t,n){},nswd:function(e,t,n){},"o+s0":function(e,t,n){},o9hv:function(e,t,n){},oAby:function(e,t,n){},oG7g:function(e,t,n){},oJUB:function(e,t,n){},oSho:function(e,t,n){},oYpj:function(e,t,n){},pQSO:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("TSYQ")),u=n.n(l),d=n("BWa0");n("kVJ9");function m(e){var t=e.selected,n=void 0!==t&&t,r=i()(e,["selected"]),o=u()({Favorite:!0,"Favorite--selected":n}),c={height:"32",width:"32",fillColor:"none",strokeColor:"#ffffff"};return s.a.createElement(d.fb,a()({className:o,name:d.q},c,r))}m.__docgenInfo={description:"",methods:[],displayName:"Favorite",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},pR6v:function(e,t,n){"use strict";n.r(t),n.d(t,"HiddenAlbum",(function(){return d})),n.d(t,"HiddenImage",(function(){return m}));var r=n("/MKj"),a=n("fdoY"),o=n("ErBw"),i=n("/PhX"),c=n("2c7z"),s=n("76Z7"),l=n("Ogr3"),u=n("Pom+"),d=Object(r.b)(u.b,{retrievePostAction:a.Bb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.n,setTransformationAction:o.M,updateAdConfigAction:o.N})(u.a),m=Object(r.b)(u.b,{retrievePostAction:a.Cb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.n,setTransformationAction:o.M,toastError:l.d,updateAdConfigAction:o.N})(u.a)},pxaO:function(e,t,n){},q8cC:function(e,t,n){},qAYT:function(e,t,n){},qMU6:function(e,t,n){},qhsG:function(e,t,n){},r9xK:function(e,t,n){e.exports=n.p+"desktop-assets/s2.dd85daa2582e347fdab35ad5a8e74dca.svg"},rbYx:function(e,t,n){},rlD7:function(e,t,n){},rvyR:function(e,t,n){},sQc6:function(e,t,n){},sUKj:function(e,t,n){},sWSo:function(e,t,n){"use strict";n.d(t,"c",(function(){return Y})),n.d(t,"e",(function(){return J})),n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return X}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("ANjH")),C=n("/MKj"),E=n("sEfC"),O=n.n(E),k=n("zXN+"),P=n("wL9V"),S=n("N9yH"),N=n("vuO0"),w=n("Bw9V"),j=n("+qLk"),q=n("ega+"),I=n("5zAP"),D=n("hWib");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var A=n("cF8P"),R=n("9Jdl"),x=n("DUmG"),M=n.n(x);n("9DFJ");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function F(e){var t=e.item;return b.a.createElement("div",{key:t.id,className:"PostWrapper",style:{height:t.size,background:"linear-gradient(".concat(t.colorLoading,", ").concat(M.a.$voyagerDarkGrey,")")}})}var G=function(e){u()(n,e);var t=_(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,r=t.hasMargin,a=t.Child,o={width:A.d},i="Grid-column".concat("".concat(r?" hasMargin":""));return b.a.createElement("div",{style:o,className:i},n.getItems().map((function(t,n){return function(e){for(var t=0;t<R.N.length;t++)if(e.indexOf(R.N[t].toString(10))>-1)return!0;return!1}(t.id)||t.isInview?b.a.createElement("div",{key:"".concat(t.id,"-").concat(n),style:{height:t.size,marginBottom:16,position:"relative",zIndex:t.isActiveInteraction?2:1}},b.a.createElement(a,{id:t.id,width:A.d,height:t.size,colorLoading:t.colorLoading,isViewPort:t.isViewPort,isDeleted:t.isDeleted,streamSection:e.props.streamSection,streamParam:e.props.streamParam,navigationTrigger:e.props.navigationTrigger,navigationDirection:e.props.navigationDirection,location:e.props.location,sendToTop:e.props.sendToTop})):b.a.createElement(F,{key:t.id,item:t})})))}}]),n}(b.a.Component);G.__docgenInfo={description:"",methods:[],displayName:"FastColumn",props:{column:{type:{name:"object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},hasMargin:{type:{name:"bool"},required:!1,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};var L=n("Y22u"),V=n("GB65"),U=n("G5ih"),B=n("vOx8");n("LbAz");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Y=function(e){u()(n,e);var t=z(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"inViewHandler",O()((function(){r.setState({inView:Object(L.a)(r.grid.current)})}),200)),g()(s()(r),"resizeHandler",O()((function(){r.grid.current&&r.props.updateGridOffsetAction(r.grid.current.offsetTop)}),200)),r.grid=b.a.createRef(),r.state={inView:!1},r}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mountGrid,n=e.columnsCount,r=e.modifyDisplayState;t({width:e.viewPortWidth,viewUniform:e.shouldViewUniform,height:Object(V.u)(),topOffset:this.grid.current?this.grid.current.offsetTop+this.props.coverHeight:this.props.coverHeight}),n>0&&r({contentWidth:Object(k.a)(n)}),Object(V.c)("scroll",this.inViewHandler),Object(V.c)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t){if(e.columnsCount!==this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(k.a)(this.props.columnsCount)}),e.positionY!==this.props.positionY&&this.props.columns.length>0&&e.version!==this.props.version){var n=this.props.columns[0].getSize();this.props.topOffset+n-this.props.positionY<Object(V.u)()*A.j&&this.props.moreDataFetch()}e.coverHeight!==this.props.coverHeight&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop),!t.inView&&this.state.inView&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop)}},{key:"shouldComponentUpdate",value:function(e,t){return e.version!==this.props.version||(e.isFetching!==this.props.isFetching||(e.coverHeight!==this.props.coverHeight||t.inView!==this.state.inView))}},{key:"componentWillUnmount",value:function(){this.props.unmountGrid(),Object(V.kb)("scroll",this.inViewHandler),Object(V.kb)("resize",this.resizeHandler)}},{key:"render",value:function(){var e=this,t=this.props,n=t.viewUniform,r=t.columns,a=t.isFetching,o=t.fetchError,i=t.posts,c=t.version,s=t.Child,l=t.emptyRow,u=t.coverHeight,d=t.customStyle;if(0===r.length)return null;var m="FastGrid".concat(n?" uniform":""),p=W({marginTop:u-A.l,width:Object(k.a)(r.length)},d);if(o&&0===i.size)return b.a.createElement("h1",{className:"FastGrid-Error",style:p},Object(U.b)("explanationGeneric")," ",Object(U.b)("suggestionGeneric"));if(0===i.size&&!a&&l)return l();var f=r.some((function(e){return e.hasPicsartInview()})),h=r.slice().sort((function(e,t){return e.getId().slice(-1)-t.getId().slice(-1)}));return b.a.createElement("div",{ref:this.grid,className:m,style:p},h.map((function(t,n){return b.a.createElement(G,{key:t.getId(),column:t,version:10*c+t.version,hasMargin:0!==n,Child:s,streamSection:e.props.streamSection,streamParam:e.props.streamParam,navigationTrigger:e.props.navigationTrigger,navigationDirection:e.props.navigationDirection,location:e.props.location,sendToTop:e.props.sendToTop})})),f&&b.a.createElement(B.a,null))}}]),n}(b.a.Component);function J(e,t){var n=e.gallery,r=e.fastGrid,a=e.display,o=e.posts,i=e.ui,c=t.useOffset,s={};return c&&(s.marginLeft=r.get("leftOffset"),s.marginRight=r.get("rightOffset")),{columns:r.get("columns"),version:r.get("version"),gridWidth:r.get("width"),topOffset:r.get("topOffset"),positionY:a.get("positionY"),columnsCount:r.get("columns").length,viewUniform:r.get("viewUniform"),shouldViewUniform:n.get("viewUniform"),isFetching:n.get("isFetching"),viewPortWidth:a.get("viewPort").get("width"),fetchError:n.get("fetchError"),posts:o.get("posts"),coverHeight:i.cover.get("height"),customStyle:s,useOffset:c}}Y.defaultProps={useOffset:!1};var K=Object(v.c)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){var o,c=function(n){u()(c,n);var o=T(c);function c(e){var t;return a()(this,c),t=o.call(this,e),g()(s()(t),"initialDataFetch",(function(e){var n=e.streamParam;t.fetchGallery(n,0,w.g),t.setState({nextPage:1,endOfStream:!1})})),g()(s()(t),"moreDataFetch",(function(){var e=t.props.streamParam,n=t.state,r=n.nextPage;n.endOfStream||(t.fetchGallery(e,r,w.a),t.setState({nextPage:r+1}))})),g()(s()(t),"replaceDataFetch",(function(e){var n=e.streamParam;t.fetchGallery(n,0,w.o),t.setState({nextPage:1,endOfStream:!1})})),g()(s()(t),"fetchGallery",O()((function(e,n,r){t.props.isFetching||t.props.fetchGallery(e,n,r)}),j.o,{leading:!0,trailing:!1})),g()(s()(t),"renderWithSpinner",(function(){return b.a.createElement(I.b,{isLoading:t.props.isFetching,isScrollSpinner:t.props.postCount>0},b.a.createElement(r,{Child:q.c,moreDataFetch:t.moreDataFetch,streamSection:t.props.streamSection,streamParam:t.props.streamParam,navigationTrigger:t.props.navigationTrigger,navigationDirection:t.props.navigationDirection,location:t.props.location,sendToTop:t.props.sendToTop,useOffset:t.props.useOffset}))})),g()(s()(t),"renderWithoutSpinner",(function(){return b.a.createElement(r,{Child:q.c,moreDataFetch:t.moreDataFetch,streamSection:t.props.streamSection,streamParam:t.props.streamParam,navigationTrigger:t.props.navigationTrigger,navigationDirection:t.props.navigationDirection,location:t.props.location,sendToTop:t.props.sendToTop,useOffset:t.props.useOffset})})),t.state={nextPage:0,endOfStream:!1},t}return i()(c,[{key:"componentDidMount",value:function(){e&&this.props.isInitialized&&this.props.cleanupGallery()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.postCount,o=t.isFetching;return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):void(e.postCount===a&&!0===e.isFetching&&!1===o&&this.setState({endOfStream:!0}))}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(D.a,{action:this.fetchGallery,retries:e},t?this.renderWithSpinner():this.renderWithoutSpinner())}}]),c}(b.a.Component);return c.displayName="WithRecircData(".concat((o=r).displayName||o.name||"Component",")"),Object(C.b)((function(e){var t=e.gallery,n=e.posts;return{isFetching:t.get("isFetching"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),postCount:n.get("recircPosts").size}}),(function(e,t){var r=t.recircFetcher,a=t.displayAnalytics;return{fetchGallery:function(t,n,o){e(Object(w.H)({isFetching:!0})),e(r(t,n,o)),0===n&&a&&a()},galleryPostRendererReady:function(){return e(Object(w.E)(n))},cleanupGallery:function(){return e(Object(w.v)())}}}))(c)}}(),Object(C.b)((function(e,t){return W(W({},J(e,t)),{},{posts:e.posts.get("recircPosts"),streamSection:t.streamSection,streamParam:t.streamParam})}),{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(Y),X=Object(v.c)(Object(N.a)(!1),Object(C.b)(J,{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(Y);Y.__docgenInfo={description:"",methods:[],displayName:"FastGrid",props:{useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},mountGrid:{type:{name:"func"},required:!0,description:""},unmountGrid:{type:{name:"func"},required:!0,description:""},modifyDisplayState:{type:{name:"func"},required:!0,description:""},topOffset:{type:{name:"number"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},viewUniform:{type:{name:"bool"},required:!0,description:""},shouldViewUniform:{type:{name:"bool"},required:!0,description:""},isFetching:{type:{name:"bool"},required:!0,description:""},columns:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},columnsCount:{type:{name:"number"},required:!0,description:""},gridWidth:{type:{name:"number"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},fetchError:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},posts:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},emptyRow:{type:{name:"func"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},updateGridOffsetAction:{type:{name:"func"},required:!0,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""}}};t.d=Object(v.c)(Object(N.a)(),Object(C.b)(J,{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(Y)},uFEW:function(e,t,n){e.exports=n.p+"desktop-assets/b1.606f828f35a1cbfa3829dcafa2635c36.svg"},"vN+2":function(e,t){e.exports=function(){}},vOx8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n.n(r),o=n("r/tT");function i(){return a.a.createElement("img",{src:o.i,referrerPolicy:"no-referrer-when-downgrade"})}i.__docgenInfo={description:"",methods:[],displayName:"PicsartPixel"}},vuO0:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),O=n("Bw9V"),k=n("enaV"),P=n("+qLk"),S=n("ega+"),N=n("5zAP"),w=n("hWib");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}function D(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){var o,c=function(n){u()(c,n);var o=I(c);function c(){var e;a()(this,c);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=o.call.apply(o,[this].concat(n)),g()(s()(e),"initialDataFetch",(function(t){e.fetchGallery(q(q({},t||e.props),{},{streamPage:0,insertionModifier:O.g}))})),g()(s()(e),"moreDataFetch",(function(){e.fetchGallery(q(q({},e.props),{},{insertionModifier:O.a}))})),g()(s()(e),"replaceDataFetch",(function(t){e.fetchGallery(q(q({},t),{},{streamPage:0,insertionModifier:O.o}))})),g()(s()(e),"fetchGallery",E()((function(t){if(!e.props.isFetching){var n=t||e.props;e.props.fetchGallery(n.streamSection,n.streamParam,n.streamWindow,n.streamPage,n.streamSort,n.isPromoted,n.insertionModifier,n.isPostPageBeta,n.location)}}),P.o,{leading:!0,trailing:!1})),g()(s()(e),"renderWithSpinner",(function(){return b.a.createElement(N.b,{isLoading:e.props.isFetching,isScrollSpinner:e.props.hasPosts},b.a.createElement(r,{Child:S.d,moreDataFetch:e.moreDataFetch,streamSection:e.props.streamSection,navigationTrigger:e.props.navigationTrigger,navigationDirection:e.props.navigationDirection,location:e.props.location,sendToTop:e.props.sendToTop,useOffset:e.props.useOffset}))})),g()(s()(e),"renderWithoutSpinner",(function(){return b.a.createElement(r,{Child:S.d,moreDataFetch:e.moreDataFetch,streamSection:e.props.streamSection,navigationTrigger:e.props.navigationTrigger,navigationDirection:e.props.navigationDirection,location:e.props.location,sendToTop:e.props.sendToTop,useOffset:e.props.useOffset})})),e}return i()(c,[{key:"componentDidMount",value:function(){e&&(this.props.isInitialized?this.props.cleanupGallery():this.props.setGalleryParams())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.streamSection,o=t.streamSort,i=t.streamWindow;if(n||!e.isInitialized)return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam||a&&e.streamSection&&a!==e.streamSection||o&&e.streamSort&&o!==e.streamSort||i&&e.streamWindow&&i!==e.streamWindow?this.replaceDataFetch(this.props):void 0;this.props.setGalleryParams()}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(w.a,{action:this.fetchGallery,retries:e},t?this.renderWithSpinner():this.renderWithoutSpinner())}}]),c}(b.a.Component);return c.displayName="WithGalleryData(".concat((o=r).displayName||o.name||"Component",")"),Object(v.b)((function(e){var t=e.gallery,n=e.posts,r=e.user;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),hasPosts:n.get("posts").size>0,isPostPageBeta:r.get("flags").get("desktopPostPageBeta")}}),(function(e,t){return{fetchGallery:function(n,r,a,o,i,c,s,l,u){var d=t.displayAnalytics;e(Object(O.H)({isFetching:!0})),e(Object(k.a)({gallery:n,param:r,streamWindow:a,page:o,sort:i,isPromoted:c,insertionModifier:s,isPostPageBeta:l,location:u})),0===o&&d&&d()},galleryPostRendererReady:function(){return e(Object(O.E)(n))},cleanupGallery:function(){return e(Object(O.u)())}}}))(c)}}},w1ny:function(e,t,n){},w8Sv:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("pVnL"),f=n.n(p),h=n("q1tI"),g=n.n(h),y=(n("17x9"),n("/MKj")),b=n("UX+T");n("QFwP");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}function C(e){var t=e.statuses;return t.length?g.a.createElement("div",{className:"StatusList"},t.map((function(e){return g.a.createElement(k,f()({key:e.id},e))}))):null}var E=Object(y.b)((function(e){return{statuses:e.status?e.status.get("status").filter((function(e){return e.get("active")})).valueSeq().toJS():[]}}))(C);var O=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout((function(){(0,e.props.handleClearStatus)()}),t+3e3)}},{key:"render",value:function(){return g.a.createElement(P,this.props)}}]),n}(h.Component);O.defaultProps={animationDelay:0};var k=Object(y.b)(null,(function(e,t){var n=t.id;return{handleClearStatus:function(){return e(Object(b.f)({id:n}))}}}))(O);function P(e){var t=e.type,n=e.message,r=e.handleClearStatus,a=e.animationDelay;return g.a.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(a,"ms")}},g.a.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}P.defaultProps={animationDelay:0},C.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!1,description:""}}},O.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},P.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},"wT/c":function(e,t,n){},wcKY:function(e,t,n){},wmkP:function(e,t,n){},x3Un:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=125,a=["a","an","the","and","it","for","or","but","in","my","your","our","at","their"];function o(e){var t=new RegExp("\\b(".concat(a.join("|"),")\\b"),"gi");return e.replace(t,"").trim()}function i(e,t,n,a){var i=[];if(e.length>0){var c=e.map((function(e){return e.tag})).join();i.push(o(c))}return""!==t&&i.push(o(t)),""!==n&&i.push(o(n)),""!==a&&i.push(o(a)),i.join().replace(/[^A-Z0-9]/gi," ").replace(/(\b\w+\b)(?=.*\b\1\b)/gi,"").replace(/(\W)\1+/g,"$1").trim().split(" ").join("-").slice(0,r)}},xbNk:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("wAdX"),E=n("7oyi"),O=n("/PhX"),k=n("p5w4"),P=n("G5ih"),S=(n("ghid"),n("Nm7g")),N=n("TSYQ"),w=n.n(N),j=n("pNV7");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}n.d(t,"b",(function(){return k.d})),n.d(t,"c",(function(){return k.e}));var I="report",D=function(e){u()(n,e);var t=q(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"handleClose",(function(){r.setState({reason:null,reasonDetail:null},(function(){return r.props.close()}))})),g()(s()(r),"handleReport",(function(){var e=r.props,t=e.type,n=e.submit,a=e.id,o=e.reportedComments,i=e.reportedPosts;if(null!==r.state.reason){var c=t===k.d?o:i;n(t,a,r.state.reason,r.state.reasonDetail,c),r.setState({reason:null,reasonDetail:null})}})),g()(s()(r),"handleChoose",(function(e){r.setState({reason:e})})),g()(s()(r),"handleDescription",(function(e){var t=e;r.state.showDescription===e&&(t=null),r.setState({showDescription:t})})),g()(s()(r),"onChange",(function(e){var t=r.state.value,n=e?e.target.value:t,a=Object(S.a)(n);r.setState({characterCount:a,reasonDetail:n})})),r.state={reason:e.isMature?-1:null,reasonDetail:null,showDescription:e.isMature?-1:null,value:"",characterCount:0,maxChars:140},r}return i()(n,[{key:"componentDidUpdate",value:function(e){e.isMature!==this.props.isMature&&this.setState({reason:this.props.isMature?-1:null,showDescription:this.props.isMature?-1:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.isMature,a=this.state,o=a.characterCount,i=a.maxChars-o<0,c=w()({"ReportDialog-Detail-Text":!0,over:i});if(n===k.f)return null;var s=[r?{label:Object(P.b)("precheckedMatureLabel",n),explanation:Object(P.b)("precheckedMatureExplanation"),value:-1,name:"reportpost-disabled",onClick:function(e){e.preventDefault()},extraClass:" disabled",defaultChecked:!0}:{label:Object(P.b)("matureLabel"),explanation:Object(P.b)("matureExplanation",n),value:4},{label:Object(P.b)("sexuallyLabel"),explanation:Object(P.b)("sexuallyExplanation",n),value:5},{label:Object(P.b)("spamLabel"),explanation:Object(P.b)("spamExplanation",n),value:2},{label:Object(P.b)("abusiveLabel"),explanation:Object(P.b)("abusiveExplanation",n),value:3},{label:Object(P.b)("dnboiLabel"),explanation:Object(P.b)("dnboiExplanation",n),value:1}],l=!(this.state.reason>0&&this.state.characterCount<141);return b.a.createElement(C.a,{className:"ReportDialog",isModal:!1,onClose:this.handleClose,name:I},b.a.createElement("div",{className:"ReportDialog-head"},b.a.createElement("span",null,Object(P.b)("reportTitle",n)),b.a.createElement(E.a,{className:"ReportDialog-head--close",imageSrc:j.a[j.j],onClick:this.handleClose})),b.a.createElement("div",{className:"ReportDialog-content"},s.map((function(t){return e.renderOption(t)})),this.state.reason&&b.a.createElement("div",{className:"ReportDialog-Detail"},b.a.createElement("form",{className:"ReportDialog-Detail-Form"},b.a.createElement("textarea",{className:c,onChange:this.onChange,placeholder:Object(P.b)("describeReportReason",n)})),this.state.characterCount>140&&b.a.createElement("p",{className:"ReportDialog-Detail-Text-Exceeded"},Object(P.b)("charactersExceeded",140)))),b.a.createElement("div",{className:"ReportDialog-footer"},b.a.createElement("p",{className:"ReportDialog-CommunityRules"},Object(P.b)("reportRules")),b.a.createElement("button",{type:"button",disabled:l,className:"ReportDialog-button--do",onClick:this.handleReport},Object(P.b)("report"))))}},{key:"renderOption",value:function(e){var t=this,n=this.state.showDescription===e.value?" active":"";return b.a.createElement("label",{className:"ReportDialog-RadioBox-item".concat(e.extraClass||"").concat(n),key:e.value},b.a.createElement("div",{className:"ReportDialog-RadioBox-content-wrapper"},b.a.createElement("input",{className:"ReportDialog-RadioBox-radio",type:"radio",onClick:e.onClick||function(){return t.handleChoose(e.value)},name:e.name||"reportpost"}),b.a.createElement("div",{className:"ReportDialog-RadioBox-checkbox"},""),b.a.createElement("div",{className:"ReportDialog-RadioBox-title"},e.label),b.a.createElement("div",{className:"ReportDialog-RadioBox-chevron",onClick:function(){return t.handleDescription(e.value)}},b.a.createElement("i",{className:"ReportDialog-RadioBox-chevron-icon"}))),b.a.createElement("div",{className:"ReportDialog-RadioBox-description"},e.explanation))}}]),n}(y.Component);D.defaultProps={isMature:!1},D.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleReport",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChoose",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"handleDescription",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"renderOption",docblock:null,modifiers:[],params:[{name:"option",type:null}],returns:null}],displayName:"Report",props:{isMature:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},close:{type:{name:"func"},required:!0,description:""},submit:{type:{name:"func"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""},reportedComments:{type:{name:"object"},required:!1,description:""},reportedPosts:{type:{name:"object"},required:!1,description:""}}},t.d=Object(v.b)((function(e,t){var n=e.report,r=t.type;return{id:n.get("id"),reportedComments:n.get("reportedComments"),reportedPosts:n.get("reportedPosts"),isMature:!!n.get("isMature"),type:n.get("type")||r}}),(function(e){return{close:function(){e(Object(O.y)(I))},submit:function(t,n,r,a,o){t===k.d?e(Object(k.g)(n,r,a,o)):e(Object(k.i)(n,r,a,o)),e(Object(O.y)(I))}}}))(D)},xsax:function(e,t,n){},"y/VL":function(e,t,n){},yQno:function(e,t,n){},yosD:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("ANjH"),E=n("2OyZ"),O=n("pNV7"),k=n("G5ih"),P=n("flVz"),S=n("/PhX"),N=n("dZW6"),w=n("wAdX"),j=n("7oyi"),q=n("Ot+t"),I=n("QlZ4");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var T=function(e){u()(n,e);var t=D(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){this.props.mountEmbedNode(this.props.nodeId)}},{key:"componentWillUnmount",value:function(){this.props.unmountEmbedNode(this.props.nodeId)}},{key:"render",value:function(){var e=this.props,t=e.isRenderReady,n=e.children,r=e.height,a=e.className;return b.a.createElement("div",{className:a},b.a.createElement("div",{id:this.props.nodeId,style:{height:t?r:0,overflow:"hidden"}}),t?null:n)}}]),n}(b.a.Component);T.__docgenInfo={description:"",methods:[],displayName:"EmbedNode",props:{mountEmbedNode:{type:{name:"func"},required:!0,description:""},unmountEmbedNode:{type:{name:"func"},required:!0,description:""},nodeId:{type:{name:"string"},required:!0,description:""},isRenderReady:{type:{name:"bool"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""}}};var A=Object(C.c)(Object(v.b)((function(e){var t=e.embed;return{isRenderReady:t.get("isRenderReady"),height:t.get("height"),hasTitle:t.get("hasTitle")}}),{mountEmbedNode:P.g,unmountEmbedNode:P.m}),Object(I.a)(q.a,q.h))(T),R=n("iww3"),x=n("xypG");n("20NG");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var _=function(e){u()(n,e);var t=M(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(s()(e),"onClose",(function(){var t=e.props;(0,t.closeDialog)(t.name||E.a)})),e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.renderInput,n=e.clipboardCopy,r=e.embedSnippet,a=e.toggleTitle,o=e.hasTitle,i=e.isCopySuccess,c=e.name,s=e.nodeId;return b.a.createElement(w.a,{className:"EmbedDialog",name:c||E.a,isModal:!1},b.a.createElement("div",{className:"CommonUploadDialog-head"},b.a.createElement("span",null,Object(k.b)("embedDialogHead")),b.a.createElement(j.a,{className:"CommonUploadDialog-head--close",imageSrc:O.a[O.j],onClick:this.onClose})),b.a.createElement("div",{className:"EmbedDialog-content"},b.a.createElement("div",{className:"EmbedDialog-copyLink"},t({className:"EmbedDialog-copyLink--input",text:r}),b.a.createElement("button",{type:"button",className:"EmbedDialog-copyLink--button",onClick:n},Object(k.b)("embedDialogCopy".concat(i?"Done":"")),i&&b.a.createElement(O.V,{name:O.e}))),b.a.createElement(A,{className:"EmbedDialog-embed",nodeId:s||E.b},b.a.createElement(x.a,{size:60,className:"EmbedDialog-embed--spinner"})),b.a.createElement("div",{className:"EmbedDialog-titleToggle"},Object(k.b)("embedDialogTitleToggle"),b.a.createElement(R.a,{name:"titleToggle",className:"EmbedDialog-titleToggle--checkbox",value:!o,toggleHandler:a,labelText:Object(k.b)("embedDialogTitleToggleLabel")}))))}}]),n}(b.a.Component);_.__docgenInfo={description:"",methods:[{name:"onClose",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EmbedDialog",props:{hasTitle:{type:{name:"bool"},required:!1,description:""},isCopySuccess:{type:{name:"bool"},required:!1,description:""},embedSnippet:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},nodeId:{type:{name:"string"},required:!1,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},toggleTitle:{type:{name:"func"},required:!0,description:""},closeDialog:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.c)(N.a,Object(v.b)((function(e){var t=e.embed,n=e.ui;return{embedSnippet:t.get("snippet"),hasTitle:t.get("hasTitle"),isCopySuccess:n.clipboardCopy.get("isSuccess")}}),{toggleTitle:P.l,closeDialog:S.y}))(_)},yzGh:function(e,t,n){},zMZQ:function(e,t,n){e.exports=n.p+"desktop-assets/s1.db8c19b82d156f87cd9fcf09311622c1.svg"},zuLI:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("GB65")),g=function e(t,n){a()(this,e),this.x=t||0,this.y=n||0},y=function(){function e(t){a()(this,e),this.animationState=t,this.x=.5*t.viewWidth,this.y=.5*t.viewHeight,this.r=24,this._progress=0,this.complete=!1}return i()(e,[{key:"reset",value:function(){this._progress=0,this.complete=!1}},{key:"draw",value:function(){this.animationState.ctx.fillStyle=this.animationState.loadingColor,this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.r,-E,C*this._progress-E),this.animationState.ctx.lineTo(this.x,this.y),this.animationState.ctx.closePath(),this.animationState.ctx.fill()}},{key:"progress",set:function(e){this._progress=e<0?0:e>1?1:e,this.complete=this._progress>=1},get:function(){return this._progress}}]),e}(),b=function(){function e(t){a()(this,e),this.animationState=t,this.x=.5*t.viewWidth,this.y=.5*t.viewHeight,this.startRadius=24,this.time=0,this.duration=.4,this.progress=0,this.complete=!1}return i()(e,[{key:"reset",value:function(){this.time=0,this.progress=0,this.complete=!1}},{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep),this.progress=k.inBack(this.time,0,1,this.duration),this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.fillStyle="transparent",this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.startRadius*(1-this.progress),0,C),this.animationState.ctx.fill()}}]),e}(),v=function(){function e(t,n,r,o,i){a()(this,e),this.animationState=t,this.p0=n,this.p1=r,this.p2=o,this.p3=i,this.time=0,this.duration=3+2*Math.random(),this.color="#".concat(Math.floor(16777215*Math.random()).toString(16)),this.w=8,this.h=8,this.complete=!1}return i()(e,[{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep);var e=k.outCubic(this.time,0,1,this.duration),t=function(e,t,n,r,a){var o=new g,i=1-a;return o.x=i*i*i*e.x+3*i*i*a*t.x+3*i*a*a*n.x+a*a*a*r.x,o.y=i*i*i*e.y+3*i*i*a*t.y+3*i*a*a*n.y+a*a*a*r.y,o}(this.p0,this.p1,this.p2,this.p3,e),n=t.x-this.x,r=t.y-this.y;this.r=Math.atan2(r,n)+E,this.sy=Math.sin(Math.PI*e*10),this.x=t.x,this.y=t.y,this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.save(),this.animationState.ctx.translate(this.x,this.y),this.animationState.ctx.rotate(this.r),this.animationState.ctx.scale(1,this.sy),this.animationState.ctx.fillStyle=this.color,this.animationState.ctx.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),this.animationState.ctx.restore()}}]),e}(),C=2*Math.PI,E=.5*Math.PI;function O(e){for(var t=e.viewWidth,n=e.viewHeight,r=e.particles,a=0;a<128;a++){var o=new g(.5*t,.5*n),i=new g(Math.random()*t,Math.random()*n),c=new g(Math.random()*t,Math.random()*n),s=new g(Math.random()*t,n+64);r.push(new v(e,o,i,c,s))}}var k={inCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},outCubic:function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},inOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},inBack:function(e,t,n,r,a){return n*(e/=r)*e*(((a=a||1.70158)+1)*e-a)+t}};n("hibn");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var S=function(e){s()(n,e);var t=P(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).canvas=f.a.createRef(),r}return i()(n,[{key:"componentDidMount",value:function(){this.run()}},{key:"componentDidUpdate",value:function(){this.run()}},{key:"shouldComponentUpdate",value:function(e){return this.props.run!==e.run}},{key:"run",value:function(){var e=this.props,t=e.viewWidth,n=e.viewHeight,r=e.loadSpeed,a=e.loadingColor,o={ctx:this.canvas.current.getContext("2d"),particles:[],phase:0,timeStep:1/70,viewWidth:t,viewHeight:n,loadSpeed:r,loadingColor:a},i=function(e){return new y(e)}(o),c=function(e){return new b(e)}(o);O(o),Object(h.nb)(function(e,t,n){return function r(){!function(e,t,n){switch(e.phase){case 0:t.progress+=1/e.loadSpeed;break;case 1:n.update();break;case 2:e.particles.forEach((function(e){e.update()}))}}(e,t,n),function(e,t,n){var r=e.viewWidth,a=e.viewHeight,o=e.phase,i=e.ctx,c=e.particles;switch(i.clearRect(0,0,r,a),o){case 0:t.draw();break;case 1:n.draw();break;case 2:c.forEach((function(e){e.draw()}))}}(e,t,n);var a=!1;0===e.phase&&t.complete?e.phase=1:1===e.phase&&n.complete?e.phase=2:2===e.phase&&function(e){for(var t=0;t<e.length;t++)if(!1===e[t].complete)return!1;return!0}(e.particles)&&(e.phase=0,t.reset(),n.reset(),e.particles.length=0,O(e),a=!0),a||Object(h.nb)(r)}}(o,i,c))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.viewWidth,r=e.viewHeight;return f.a.createElement("div",{className:"ThankYouConfetti ".concat(t)},f.a.createElement("canvas",{width:n,height:r,className:"ThankYouConfetti-canvas",ref:this.canvas}))}}]),n}(f.a.Component);S.defaultProps={className:"",loadingColor:"transparent",loadSpeed:45,run:0},S.__docgenInfo={description:"",methods:[{name:"run",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ThankYouConfetti",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},loadingColor:{defaultValue:{value:"'transparent'",computed:!1},type:{name:"string"},required:!1,description:""},loadSpeed:{defaultValue:{value:"45",computed:!1},type:{name:"number"},required:!1,description:""},run:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},viewWidth:{type:{name:"number"},required:!0,description:""},viewHeight:{type:{name:"number"},required:!0,description:""}}}}}]);